var S1=t=>{throw TypeError(t)};var Lw=(t,e,n)=>e.has(t)||S1("Cannot "+n);var U=(t,e,n)=>(Lw(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?S1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(Lw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ge=(t,e,n)=>(Lw(t,e,"access private method"),n);var gg=(t,e,n,r)=>({set _(i){ge(t,e,i,n)},get _(){return U(t,e,r)}});function zU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var BU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _x={exports:{}},Xv={},wx={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=Symbol.for("react.element"),qU=Symbol.for("react.portal"),WU=Symbol.for("react.fragment"),HU=Symbol.for("react.strict_mode"),GU=Symbol.for("react.profiler"),KU=Symbol.for("react.provider"),QU=Symbol.for("react.context"),YU=Symbol.for("react.forward_ref"),XU=Symbol.for("react.suspense"),JU=Symbol.for("react.memo"),ZU=Symbol.for("react.lazy"),A1=Symbol.iterator;function e$(t){return t===null||typeof t!="object"?null:(t=A1&&t[A1]||t["@@iterator"],typeof t=="function"?t:null)}var Ex={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ix=Object.assign,Tx={};function ah(t,e,n){this.props=t,this.context=e,this.refs=Tx,this.updater=n||Ex}ah.prototype.isReactComponent={};ah.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ah.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bx(){}bx.prototype=ah.prototype;function yT(t,e,n){this.props=t,this.context=e,this.refs=Tx,this.updater=n||Ex}var vT=yT.prototype=new bx;vT.constructor=yT;Ix(vT,ah.prototype);vT.isPureReactComponent=!0;var k1=Array.isArray,Sx=Object.prototype.hasOwnProperty,_T={current:null},Ax={key:!0,ref:!0,__self:!0,__source:!0};function kx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Sx.call(e,r)&&!Ax.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nm,type:t,key:s,ref:o,props:i,_owner:_T.current}}function t$(t,e){return{$$typeof:nm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wT(t){return typeof t=="object"&&t!==null&&t.$$typeof===nm}function n$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C1=/\/+/g;function Mw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?n$(""+t.key):e.toString(36)}function ny(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nm:case qU:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Mw(o,0):r,k1(i)?(n="",t!=null&&(n=t.replace(C1,"$&/")+"/"),ny(i,e,n,"",function(u){return u})):i!=null&&(wT(i)&&(i=t$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(C1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",k1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Mw(s,a);o+=ny(s,e,n,l,i)}else if(l=e$(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Mw(s,a++),o+=ny(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yg(t,e,n){if(t==null)return t;var r=[],i=0;return ny(t,r,"","",function(s){return e.call(n,s,i++)}),r}function r$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wr={current:null},ry={transition:null},i$={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:ry,ReactCurrentOwner:_T};function Cx(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:yg,forEach:function(t,e,n){yg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yg(t,function(){e++}),e},toArray:function(t){return yg(t,function(e){return e})||[]},only:function(t){if(!wT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=ah;Xe.Fragment=WU;Xe.Profiler=GU;Xe.PureComponent=yT;Xe.StrictMode=HU;Xe.Suspense=XU;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i$;Xe.act=Cx;Xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ix({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_T.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Sx.call(e,l)&&!Ax.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nm,type:t.type,key:i,ref:s,props:r,_owner:o}};Xe.createContext=function(t){return t={$$typeof:QU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KU,_context:t},t.Consumer=t};Xe.createElement=kx;Xe.createFactory=function(t){var e=kx.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:YU,render:t}};Xe.isValidElement=wT;Xe.lazy=function(t){return{$$typeof:ZU,_payload:{_status:-1,_result:t},_init:r$}};Xe.memo=function(t,e){return{$$typeof:JU,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=ry.transition;ry.transition={};try{t()}finally{ry.transition=e}};Xe.unstable_act=Cx;Xe.useCallback=function(t,e){return wr.current.useCallback(t,e)};Xe.useContext=function(t){return wr.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return wr.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return wr.current.useEffect(t,e)};Xe.useId=function(){return wr.current.useId()};Xe.useImperativeHandle=function(t,e,n){return wr.current.useImperativeHandle(t,e,n)};Xe.useInsertionEffect=function(t,e){return wr.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return wr.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return wr.current.useMemo(t,e)};Xe.useReducer=function(t,e,n){return wr.current.useReducer(t,e,n)};Xe.useRef=function(t){return wr.current.useRef(t)};Xe.useState=function(t){return wr.current.useState(t)};Xe.useSyncExternalStore=function(t,e,n){return wr.current.useSyncExternalStore(t,e,n)};Xe.useTransition=function(){return wr.current.useTransition()};Xe.version="18.3.1";wx.exports=Xe;var N=wx.exports;const ht=tm(N),s$=zU({__proto__:null,default:ht},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o$=N,a$=Symbol.for("react.element"),l$=Symbol.for("react.fragment"),u$=Object.prototype.hasOwnProperty,c$=o$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d$={key:!0,ref:!0,__self:!0,__source:!0};function Rx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)u$.call(e,r)&&!d$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:a$,type:t,key:s,ref:o,props:i,_owner:c$.current}}Xv.Fragment=l$;Xv.jsx=Rx;Xv.jsxs=Rx;_x.exports=Xv;var v=_x.exports,h$={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(BU,function(){const n=new Map,r={set(E,d,g){n.has(E)||n.set(E,new Map);const A=n.get(E);A.has(d)||A.size===0?A.set(d,g):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(A.keys())[0]}.`)},get:(E,d)=>n.has(E)&&n.get(E).get(d)||null,remove(E,d){if(!n.has(E))return;const g=n.get(E);g.delete(d),g.size===0&&n.delete(E)}},i="transitionend",s=E=>(E&&window.CSS&&window.CSS.escape&&(E=E.replace(/#([^\s"#']+)/g,(d,g)=>`#${CSS.escape(g)}`)),E),o=E=>{E.dispatchEvent(new Event(i))},a=E=>!(!E||typeof E!="object")&&(E.jquery!==void 0&&(E=E[0]),E.nodeType!==void 0),l=E=>a(E)?E.jquery?E[0]:E:typeof E=="string"&&E.length>0?document.querySelector(s(E)):null,u=E=>{if(!a(E)||E.getClientRects().length===0)return!1;const d=getComputedStyle(E).getPropertyValue("visibility")==="visible",g=E.closest("details:not([open])");if(!g)return d;if(g!==E){const A=E.closest("summary");if(A&&A.parentNode!==g||A===null)return!1}return d},h=E=>!E||E.nodeType!==Node.ELEMENT_NODE||!!E.classList.contains("disabled")||(E.disabled!==void 0?E.disabled:E.hasAttribute("disabled")&&E.getAttribute("disabled")!=="false"),f=E=>{if(!document.documentElement.attachShadow)return null;if(typeof E.getRootNode=="function"){const d=E.getRootNode();return d instanceof ShadowRoot?d:null}return E instanceof ShadowRoot?E:E.parentNode?f(E.parentNode):null},p=()=>{},_=E=>{E.offsetHeight},S=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,P=[],R=()=>document.documentElement.dir==="rtl",I=E=>{var d;d=()=>{const g=S();if(g){const A=E.NAME,$=g.fn[A];g.fn[A]=E.jQueryInterface,g.fn[A].Constructor=E,g.fn[A].noConflict=()=>(g.fn[A]=$,E.jQueryInterface)}},document.readyState==="loading"?(P.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of P)g()}),P.push(d)):d()},w=(E,d=[],g=E)=>typeof E=="function"?E(...d):g,T=(E,d,g=!0)=>{if(!g)return void w(E);const A=(Y=>{if(!Y)return 0;let{transitionDuration:J,transitionDelay:oe}=window.getComputedStyle(Y);const we=Number.parseFloat(J),Ie=Number.parseFloat(oe);return we||Ie?(J=J.split(",")[0],oe=oe.split(",")[0],1e3*(Number.parseFloat(J)+Number.parseFloat(oe))):0})(d)+5;let $=!1;const z=({target:Y})=>{Y===d&&($=!0,d.removeEventListener(i,z),w(E))};d.addEventListener(i,z),setTimeout(()=>{$||o(d)},A)},L=(E,d,g,A)=>{const $=E.length;let z=E.indexOf(d);return z===-1?!g&&A?E[$-1]:E[0]:(z+=g?1:-1,A&&(z=(z+$)%$),E[Math.max(0,Math.min(z,$-1))])},F=/[^.]*(?=\..*)\.|.*/,B=/\..*/,C=/::\d+$/,b={};let x=1;const D={mouseenter:"mouseover",mouseleave:"mouseout"},M=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function V(E,d){return d&&`${d}::${x++}`||E.uidEvent||x++}function O(E){const d=V(E);return E.uidEvent=d,b[d]=b[d]||{},b[d]}function pe(E,d,g=null){return Object.values(E).find(A=>A.callable===d&&A.delegationSelector===g)}function Pe(E,d,g){const A=typeof d=="string",$=A?g:d||g;let z=be(E);return M.has(z)||(z=E),[A,$,z]}function Me(E,d,g,A,$){if(typeof d!="string"||!E)return;let[z,Y,J]=Pe(d,g,A);d in D&&(Y=(Fe=>function(De){if(!De.relatedTarget||De.relatedTarget!==De.delegateTarget&&!De.delegateTarget.contains(De.relatedTarget))return Fe.call(this,De)})(Y));const oe=O(E),we=oe[J]||(oe[J]={}),Ie=pe(we,Y,z?g:null);if(Ie)return void(Ie.oneOff=Ie.oneOff&&$);const de=V(Y,d.replace(F,"")),qe=z?function(xe,Fe,De){return function je(Et){const kt=xe.querySelectorAll(Fe);for(let{target:Qe}=Et;Qe&&Qe!==this;Qe=Qe.parentNode)for(const dt of kt)if(dt===Qe)return $e(Et,{delegateTarget:Qe}),je.oneOff&&W.off(xe,Et.type,Fe,De),De.apply(Qe,[Et])}}(E,g,Y):function(xe,Fe){return function De(je){return $e(je,{delegateTarget:xe}),De.oneOff&&W.off(xe,je.type,Fe),Fe.apply(xe,[je])}}(E,Y);qe.delegationSelector=z?g:null,qe.callable=Y,qe.oneOff=$,qe.uidEvent=de,we[de]=qe,E.addEventListener(J,qe,z)}function We(E,d,g,A,$){const z=pe(d[g],A,$);z&&(E.removeEventListener(g,z,!!$),delete d[g][z.uidEvent])}function Z(E,d,g,A){const $=d[g]||{};for(const[z,Y]of Object.entries($))z.includes(A)&&We(E,d,g,Y.callable,Y.delegationSelector)}function be(E){return E=E.replace(B,""),D[E]||E}const W={on(E,d,g,A){Me(E,d,g,A,!1)},one(E,d,g,A){Me(E,d,g,A,!0)},off(E,d,g,A){if(typeof d!="string"||!E)return;const[$,z,Y]=Pe(d,g,A),J=Y!==d,oe=O(E),we=oe[Y]||{},Ie=d.startsWith(".");if(z===void 0){if(Ie)for(const de of Object.keys(oe))Z(E,oe,de,d.slice(1));for(const[de,qe]of Object.entries(we)){const xe=de.replace(C,"");J&&!d.includes(xe)||We(E,oe,Y,qe.callable,qe.delegationSelector)}}else{if(!Object.keys(we).length)return;We(E,oe,Y,z,$?g:null)}},trigger(E,d,g){if(typeof d!="string"||!E)return null;const A=S();let $=null,z=!0,Y=!0,J=!1;d!==be(d)&&A&&($=A.Event(d,g),A(E).trigger($),z=!$.isPropagationStopped(),Y=!$.isImmediatePropagationStopped(),J=$.isDefaultPrevented());const oe=$e(new Event(d,{bubbles:z,cancelable:!0}),g);return J&&oe.preventDefault(),Y&&E.dispatchEvent(oe),oe.defaultPrevented&&$&&$.preventDefault(),oe}};function $e(E,d={}){for(const[g,A]of Object.entries(d))try{E[g]=A}catch{Object.defineProperty(E,g,{configurable:!0,get:()=>A})}return E}function _e(E){if(E==="true")return!0;if(E==="false")return!1;if(E===Number(E).toString())return Number(E);if(E===""||E==="null")return null;if(typeof E!="string")return E;try{return JSON.parse(decodeURIComponent(E))}catch{return E}}function Oe(E){return E.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const ot={setDataAttribute(E,d,g){E.setAttribute(`data-bs-${Oe(d)}`,g)},removeDataAttribute(E,d){E.removeAttribute(`data-bs-${Oe(d)}`)},getDataAttributes(E){if(!E)return{};const d={},g=Object.keys(E.dataset).filter(A=>A.startsWith("bs")&&!A.startsWith("bsConfig"));for(const A of g){let $=A.replace(/^bs/,"");$=$.charAt(0).toLowerCase()+$.slice(1,$.length),d[$]=_e(E.dataset[A])}return d},getDataAttribute:(E,d)=>_e(E.getAttribute(`data-bs-${Oe(d)}`))};class $t{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,g){const A=a(g)?ot.getDataAttribute(g,"config"):{};return{...this.constructor.Default,...typeof A=="object"?A:{},...a(g)?ot.getDataAttributes(g):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,g=this.constructor.DefaultType){for(const[$,z]of Object.entries(g)){const Y=d[$],J=a(Y)?"element":(A=Y)==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(z).test(J))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${$}" provided type "${J}" but expected type "${z}".`)}var A}}class pt extends $t{constructor(d,g){super(),(d=l(d))&&(this._element=d,this._config=this._getConfig(g),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,g,A=!0){T(d,g,A)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return r.get(l(d),this.DATA_KEY)}static getOrCreateInstance(d,g={}){return this.getInstance(d)||new this(d,typeof g=="object"?g:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const rn=E=>{let d=E.getAttribute("data-bs-target");if(!d||d==="#"){let g=E.getAttribute("href");if(!g||!g.includes("#")&&!g.startsWith("."))return null;g.includes("#")&&!g.startsWith("#")&&(g=`#${g.split("#")[1]}`),d=g&&g!=="#"?g.trim():null}return d?d.split(",").map(g=>s(g)).join(","):null},Te={find:(E,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,E)),findOne:(E,d=document.documentElement)=>Element.prototype.querySelector.call(d,E),children:(E,d)=>[].concat(...E.children).filter(g=>g.matches(d)),parents(E,d){const g=[];let A=E.parentNode.closest(d);for(;A;)g.push(A),A=A.parentNode.closest(d);return g},prev(E,d){let g=E.previousElementSibling;for(;g;){if(g.matches(d))return[g];g=g.previousElementSibling}return[]},next(E,d){let g=E.nextElementSibling;for(;g;){if(g.matches(d))return[g];g=g.nextElementSibling}return[]},focusableChildren(E){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(g=>`${g}:not([tabindex^="-"])`).join(",");return this.find(d,E).filter(g=>!h(g)&&u(g))},getSelectorFromElement(E){const d=rn(E);return d&&Te.findOne(d)?d:null},getElementFromSelector(E){const d=rn(E);return d?Te.findOne(d):null},getMultipleElementsFromSelector(E){const d=rn(E);return d?Te.find(d):[]}},sr=(E,d="hide")=>{const g=`click.dismiss${E.EVENT_KEY}`,A=E.NAME;W.on(document,g,`[data-bs-dismiss="${A}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),h(this))return;const z=Te.getElementFromSelector(this)||this.closest(`.${A}`);E.getOrCreateInstance(z)[d]()})},Kn=".bs.alert",Ir=`close${Kn}`,Tr=`closed${Kn}`;class Rn extends pt{static get NAME(){return"alert"}close(){if(W.trigger(this._element,Ir).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),W.trigger(this._element,Tr),this.dispose()}static jQueryInterface(d){return this.each(function(){const g=Rn.getOrCreateInstance(this);if(typeof d=="string"){if(g[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);g[d](this)}})}}sr(Rn,"close"),I(Rn);const Qn='[data-bs-toggle="button"]';class et extends pt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const g=et.getOrCreateInstance(this);d==="toggle"&&g[d]()})}}W.on(document,"click.bs.button.data-api",Qn,E=>{E.preventDefault();const d=E.target.closest(Qn);et.getOrCreateInstance(d).toggle()}),I(et);const or=".bs.swipe",ns=`touchstart${or}`,j=`touchmove${or}`,G=`touchend${or}`,X=`pointerdown${or}`,ue=`pointerup${or}`,ae={endCallback:null,leftCallback:null,rightCallback:null},ne={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class me extends $t{constructor(d,g){super(),this._element=d,d&&me.isSupported()&&(this._config=this._getConfig(g),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ae}static get DefaultType(){return ne}static get NAME(){return"swipe"}dispose(){W.off(this._element,or)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),w(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const g=d/this._deltaX;this._deltaX=0,g&&w(g>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,X,d=>this._start(d)),W.on(this._element,ue,d=>this._end(d)),this._element.classList.add("pointer-event")):(W.on(this._element,ns,d=>this._start(d)),W.on(this._element,j,d=>this._move(d)),W.on(this._element,G,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ve=".bs.carousel",he=".data-api",ze="next",sn="prev",Ri="left",Pi="right",yl=`slide${Ve}`,xi=`slid${Ve}`,vl=`keydown${Ve}`,rc=`mouseenter${Ve}`,Bo=`mouseleave${Ve}`,yw=`dragstart${Ve}`,vw=`load${Ve}${he}`,Ph=`click${Ve}${he}`,xh="carousel",_l="active",qo=".active",ic=".carousel-item",Nh=qo+ic,Ws={ArrowLeft:Pi,ArrowRight:Ri},Um={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},sc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Hs extends pt{constructor(d,g){super(d,g),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Te.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===xh&&this.cycle()}static get Default(){return Um}static get DefaultType(){return sc}static get NAME(){return"carousel"}next(){this._slide(ze)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(sn)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?W.one(this._element,xi,()=>this.cycle()):this.cycle())}to(d){const g=this._getItems();if(d>g.length-1||d<0)return;if(this._isSliding)return void W.one(this._element,xi,()=>this.to(d));const A=this._getItemIndex(this._getActive());if(A===d)return;const $=d>A?ze:sn;this._slide($,g[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&W.on(this._element,vl,d=>this._keydown(d)),this._config.pause==="hover"&&(W.on(this._element,rc,()=>this.pause()),W.on(this._element,Bo,()=>this._maybeEnableCycle())),this._config.touch&&me.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of Te.find(".carousel-item img",this._element))W.on(g,yw,A=>A.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(Ri)),rightCallback:()=>this._slide(this._directionToOrder(Pi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new me(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const g=Ws[d.key];g&&(d.preventDefault(),this._slide(this._directionToOrder(g)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const g=Te.findOne(qo,this._indicatorsElement);g.classList.remove(_l),g.removeAttribute("aria-current");const A=Te.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);A&&(A.classList.add(_l),A.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const g=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=g||this._config.defaultInterval}_slide(d,g=null){if(this._isSliding)return;const A=this._getActive(),$=d===ze,z=g||L(this._getItems(),A,$,this._config.wrap);if(z===A)return;const Y=this._getItemIndex(z),J=de=>W.trigger(this._element,de,{relatedTarget:z,direction:this._orderToDirection(d),from:this._getItemIndex(A),to:Y});if(J(yl).defaultPrevented||!A||!z)return;const oe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Y),this._activeElement=z;const we=$?"carousel-item-start":"carousel-item-end",Ie=$?"carousel-item-next":"carousel-item-prev";z.classList.add(Ie),_(z),A.classList.add(we),z.classList.add(we),this._queueCallback(()=>{z.classList.remove(we,Ie),z.classList.add(_l),A.classList.remove(_l,Ie,we),this._isSliding=!1,J(xi)},A,this._isAnimated()),oe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Te.findOne(Nh,this._element)}_getItems(){return Te.find(ic,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return R()?d===Ri?sn:ze:d===Ri?ze:sn}_orderToDirection(d){return R()?d===sn?Ri:Pi:d===sn?Pi:Ri}static jQueryInterface(d){return this.each(function(){const g=Hs.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(g[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);g[d]()}}else g.to(d)})}}W.on(document,Ph,"[data-bs-slide], [data-bs-slide-to]",function(E){const d=Te.getElementFromSelector(this);if(!d||!d.classList.contains(xh))return;E.preventDefault();const g=Hs.getOrCreateInstance(d),A=this.getAttribute("data-bs-slide-to");return A?(g.to(A),void g._maybeEnableCycle()):ot.getDataAttribute(this,"slide")==="next"?(g.next(),void g._maybeEnableCycle()):(g.prev(),void g._maybeEnableCycle())}),W.on(window,vw,()=>{const E=Te.find('[data-bs-ride="carousel"]');for(const d of E)Hs.getOrCreateInstance(d)}),I(Hs);const Ni=".bs.collapse",$m=`show${Ni}`,$n=`shown${Ni}`,zm=`hide${Ni}`,wl=`hidden${Ni}`,El=`click${Ni}.data-api`,Oh="show",Wo="collapse",Oi="collapsing",_w=`:scope .${Wo} .${Wo}`,Dh='[data-bs-toggle="collapse"]',oc={parent:null,toggle:!0},Bm={parent:"(null|element)",toggle:"boolean"};class rs extends pt{constructor(d,g){super(d,g),this._isTransitioning=!1,this._triggerArray=[];const A=Te.find(Dh);for(const $ of A){const z=Te.getSelectorFromElement($),Y=Te.find(z).filter(J=>J===this._element);z!==null&&Y.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return oc}static get DefaultType(){return Bm}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter($=>$!==this._element).map($=>rs.getOrCreateInstance($,{toggle:!1}))),d.length&&d[0]._isTransitioning||W.trigger(this._element,$m).defaultPrevented)return;for(const $ of d)$.hide();const g=this._getDimension();this._element.classList.remove(Wo),this._element.classList.add(Oi),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const A=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Oi),this._element.classList.add(Wo,Oh),this._element.style[g]="",W.trigger(this._element,$n)},this._element,!0),this._element.style[g]=`${this._element[A]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,zm).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,_(this._element),this._element.classList.add(Oi),this._element.classList.remove(Wo,Oh);for(const g of this._triggerArray){const A=Te.getElementFromSelector(g);A&&!this._isShown(A)&&this._addAriaAndCollapsedClass([g],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Oi),this._element.classList.add(Wo),W.trigger(this._element,wl)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Oh)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=l(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Dh);for(const g of d){const A=Te.getElementFromSelector(g);A&&this._addAriaAndCollapsedClass([g],this._isShown(A))}}_getFirstLevelChildren(d){const g=Te.find(_w,this._config.parent);return Te.find(d,this._config.parent).filter(A=>!g.includes(A))}_addAriaAndCollapsedClass(d,g){if(d.length)for(const A of d)A.classList.toggle("collapsed",!g),A.setAttribute("aria-expanded",g)}static jQueryInterface(d){const g={};return typeof d=="string"&&/show|hide/.test(d)&&(g.toggle=!1),this.each(function(){const A=rs.getOrCreateInstance(this,g);if(typeof d=="string"){if(A[d]===void 0)throw new TypeError(`No method named "${d}"`);A[d]()}})}}W.on(document,El,Dh,function(E){(E.target.tagName==="A"||E.delegateTarget&&E.delegateTarget.tagName==="A")&&E.preventDefault();for(const d of Te.getMultipleElementsFromSelector(this))rs.getOrCreateInstance(d,{toggle:!1}).toggle()}),I(rs);var hn="top",Gt="bottom",Yn="right",Pn="left",Ho="auto",is=[hn,Gt,Yn,Pn],ss="start",Gs="end",qm="clippingParents",Go="viewport",Ks="popper",ac="reference",Qs=is.reduce(function(E,d){return E.concat([d+"-"+ss,d+"-"+Gs])},[]),Di=[].concat(is,[Ho]).reduce(function(E,d){return E.concat([d,d+"-"+ss,d+"-"+Gs])},[]),lc="beforeRead",Wm="read",Lh="afterRead",Mh="beforeMain",Vh="main",uc="afterMain",cc="beforeWrite",Fh="write",jh="afterWrite",Hm=[lc,Wm,Lh,Mh,Vh,uc,cc,Fh,jh];function si(E){return E?(E.nodeName||"").toLowerCase():null}function Xn(E){if(E==null)return window;if(E.toString()!=="[object Window]"){var d=E.ownerDocument;return d&&d.defaultView||window}return E}function os(E){return E instanceof Xn(E).Element||E instanceof Element}function br(E){return E instanceof Xn(E).HTMLElement||E instanceof HTMLElement}function Li(E){return typeof ShadowRoot<"u"&&(E instanceof Xn(E).ShadowRoot||E instanceof ShadowRoot)}const qr={name:"applyStyles",enabled:!0,phase:"write",fn:function(E){var d=E.state;Object.keys(d.elements).forEach(function(g){var A=d.styles[g]||{},$=d.attributes[g]||{},z=d.elements[g];br(z)&&si(z)&&(Object.assign(z.style,A),Object.keys($).forEach(function(Y){var J=$[Y];J===!1?z.removeAttribute(Y):z.setAttribute(Y,J===!0?"":J)}))})},effect:function(E){var d=E.state,g={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,g.popper),d.styles=g,d.elements.arrow&&Object.assign(d.elements.arrow.style,g.arrow),function(){Object.keys(d.elements).forEach(function(A){var $=d.elements[A],z=d.attributes[A]||{},Y=Object.keys(d.styles.hasOwnProperty(A)?d.styles[A]:g[A]).reduce(function(J,oe){return J[oe]="",J},{});br($)&&si($)&&(Object.assign($.style,Y),Object.keys(z).forEach(function(J){$.removeAttribute(J)}))})}},requires:["computeStyles"]};function ar(E){return E.split("-")[0]}var oi=Math.max,Il=Math.min,ut=Math.round;function Ko(){var E=navigator.userAgentData;return E!=null&&E.brands&&Array.isArray(E.brands)?E.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function Qo(){return!/^((?!chrome|android).)*safari/i.test(Ko())}function ai(E,d,g){d===void 0&&(d=!1),g===void 0&&(g=!1);var A=E.getBoundingClientRect(),$=1,z=1;d&&br(E)&&($=E.offsetWidth>0&&ut(A.width)/E.offsetWidth||1,z=E.offsetHeight>0&&ut(A.height)/E.offsetHeight||1);var Y=(os(E)?Xn(E):window).visualViewport,J=!Qo()&&g,oe=(A.left+(J&&Y?Y.offsetLeft:0))/$,we=(A.top+(J&&Y?Y.offsetTop:0))/z,Ie=A.width/$,de=A.height/z;return{width:Ie,height:de,top:we,right:oe+Ie,bottom:we+de,left:oe,x:oe,y:we}}function Uh(E){var d=ai(E),g=E.offsetWidth,A=E.offsetHeight;return Math.abs(d.width-g)<=1&&(g=d.width),Math.abs(d.height-A)<=1&&(A=d.height),{x:E.offsetLeft,y:E.offsetTop,width:g,height:A}}function $h(E,d){var g=d.getRootNode&&d.getRootNode();if(E.contains(d))return!0;if(g&&Li(g)){var A=d;do{if(A&&E.isSameNode(A))return!0;A=A.parentNode||A.host}while(A)}return!1}function Mi(E){return Xn(E).getComputedStyle(E)}function ww(E){return["table","td","th"].indexOf(si(E))>=0}function as(E){return((os(E)?E.ownerDocument:E.document)||window.document).documentElement}function dc(E){return si(E)==="html"?E:E.assignedSlot||E.parentNode||(Li(E)?E.host:null)||as(E)}function Yo(E){return br(E)&&Mi(E).position!=="fixed"?E.offsetParent:null}function Sr(E){for(var d=Xn(E),g=Yo(E);g&&ww(g)&&Mi(g).position==="static";)g=Yo(g);return g&&(si(g)==="html"||si(g)==="body"&&Mi(g).position==="static")?d:g||function(A){var $=/firefox/i.test(Ko());if(/Trident/i.test(Ko())&&br(A)&&Mi(A).position==="fixed")return null;var z=dc(A);for(Li(z)&&(z=z.host);br(z)&&["html","body"].indexOf(si(z))<0;){var Y=Mi(z);if(Y.transform!=="none"||Y.perspective!=="none"||Y.contain==="paint"||["transform","perspective"].indexOf(Y.willChange)!==-1||$&&Y.willChange==="filter"||$&&Y.filter&&Y.filter!=="none")return z;z=z.parentNode}return null}(E)||d}function hc(E){return["top","bottom"].indexOf(E)>=0?"x":"y"}function Xo(E,d,g){return oi(E,Il(d,g))}function zh(E){return Object.assign({},{top:0,right:0,bottom:0,left:0},E)}function Ys(E,d){return d.reduce(function(g,A){return g[A]=E,g},{})}const Gm={name:"arrow",enabled:!0,phase:"main",fn:function(E){var d,g=E.state,A=E.name,$=E.options,z=g.elements.arrow,Y=g.modifiersData.popperOffsets,J=ar(g.placement),oe=hc(J),we=[Pn,Yn].indexOf(J)>=0?"height":"width";if(z&&Y){var Ie=function(It,yt){return zh(typeof(It=typeof It=="function"?It(Object.assign({},yt.rects,{placement:yt.placement})):It)!="number"?It:Ys(It,is))}($.padding,g),de=Uh(z),qe=oe==="y"?hn:Pn,xe=oe==="y"?Gt:Yn,Fe=g.rects.reference[we]+g.rects.reference[oe]-Y[oe]-g.rects.popper[we],De=Y[oe]-g.rects.reference[oe],je=Sr(z),Et=je?oe==="y"?je.clientHeight||0:je.clientWidth||0:0,kt=Fe/2-De/2,Qe=Ie[qe],dt=Et-de[we]-Ie[xe],He=Et/2-de[we]/2+kt,tt=Xo(Qe,He,dt),gt=oe;g.modifiersData[A]=((d={})[gt]=tt,d.centerOffset=tt-He,d)}},effect:function(E){var d=E.state,g=E.options.element,A=g===void 0?"[data-popper-arrow]":g;A!=null&&(typeof A!="string"||(A=d.elements.popper.querySelector(A)))&&$h(d.elements.popper,A)&&(d.elements.arrow=A)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jo(E){return E.split("-")[1]}var Ew={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vi(E){var d,g=E.popper,A=E.popperRect,$=E.placement,z=E.variation,Y=E.offsets,J=E.position,oe=E.gpuAcceleration,we=E.adaptive,Ie=E.roundOffsets,de=E.isFixed,qe=Y.x,xe=qe===void 0?0:qe,Fe=Y.y,De=Fe===void 0?0:Fe,je=typeof Ie=="function"?Ie({x:xe,y:De}):{x:xe,y:De};xe=je.x,De=je.y;var Et=Y.hasOwnProperty("x"),kt=Y.hasOwnProperty("y"),Qe=Pn,dt=hn,He=window;if(we){var tt=Sr(g),gt="clientHeight",It="clientWidth";tt===Xn(g)&&Mi(tt=as(g)).position!=="static"&&J==="absolute"&&(gt="scrollHeight",It="scrollWidth"),($===hn||($===Pn||$===Yn)&&z===Gs)&&(dt=Gt,De-=(de&&tt===He&&He.visualViewport?He.visualViewport.height:tt[gt])-A.height,De*=oe?1:-1),$!==Pn&&($!==hn&&$!==Gt||z!==Gs)||(Qe=Yn,xe-=(de&&tt===He&&He.visualViewport?He.visualViewport.width:tt[It])-A.width,xe*=oe?1:-1)}var yt,on=Object.assign({position:J},we&&Ew),Wr=Ie===!0?function(ji,lr){var di=ji.x,hi=ji.y,Kt=lr.devicePixelRatio||1;return{x:ut(di*Kt)/Kt||0,y:ut(hi*Kt)/Kt||0}}({x:xe,y:De},Xn(g)):{x:xe,y:De};return xe=Wr.x,De=Wr.y,oe?Object.assign({},on,((yt={})[dt]=kt?"0":"",yt[Qe]=Et?"0":"",yt.transform=(He.devicePixelRatio||1)<=1?"translate("+xe+"px, "+De+"px)":"translate3d("+xe+"px, "+De+"px, 0)",yt)):Object.assign({},on,((d={})[dt]=kt?De+"px":"",d[Qe]=Et?xe+"px":"",d.transform="",d))}const Bh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(E){var d=E.state,g=E.options,A=g.gpuAcceleration,$=A===void 0||A,z=g.adaptive,Y=z===void 0||z,J=g.roundOffsets,oe=J===void 0||J,we={placement:ar(d.placement),variation:Jo(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:$,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,Vi(Object.assign({},we,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:Y,roundOffsets:oe})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,Vi(Object.assign({},we,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:oe})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var fc={passive:!0};const Xs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(E){var d=E.state,g=E.instance,A=E.options,$=A.scroll,z=$===void 0||$,Y=A.resize,J=Y===void 0||Y,oe=Xn(d.elements.popper),we=[].concat(d.scrollParents.reference,d.scrollParents.popper);return z&&we.forEach(function(Ie){Ie.addEventListener("scroll",g.update,fc)}),J&&oe.addEventListener("resize",g.update,fc),function(){z&&we.forEach(function(Ie){Ie.removeEventListener("scroll",g.update,fc)}),J&&oe.removeEventListener("resize",g.update,fc)}},data:{}};var pc={left:"right",right:"left",bottom:"top",top:"bottom"};function Tl(E){return E.replace(/left|right|bottom|top/g,function(d){return pc[d]})}var bl={start:"end",end:"start"};function Zo(E){return E.replace(/start|end/g,function(d){return bl[d]})}function mc(E){var d=Xn(E);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function Sl(E){return ai(as(E)).left+mc(E).scrollLeft}function At(E){var d=Mi(E),g=d.overflow,A=d.overflowX,$=d.overflowY;return/auto|scroll|overlay|hidden/.test(g+$+A)}function Km(E){return["html","body","#document"].indexOf(si(E))>=0?E.ownerDocument.body:br(E)&&At(E)?E:Km(dc(E))}function Al(E,d){var g;d===void 0&&(d=[]);var A=Km(E),$=A===((g=E.ownerDocument)==null?void 0:g.body),z=Xn(A),Y=$?[z].concat(z.visualViewport||[],At(A)?A:[]):A,J=d.concat(Y);return $?J:J.concat(Al(dc(Y)))}function gc(E){return Object.assign({},E,{left:E.x,top:E.y,right:E.x+E.width,bottom:E.y+E.height})}function qh(E,d,g){return d===Go?gc(function(A,$){var z=Xn(A),Y=as(A),J=z.visualViewport,oe=Y.clientWidth,we=Y.clientHeight,Ie=0,de=0;if(J){oe=J.width,we=J.height;var qe=Qo();(qe||!qe&&$==="fixed")&&(Ie=J.offsetLeft,de=J.offsetTop)}return{width:oe,height:we,x:Ie+Sl(A),y:de}}(E,g)):os(d)?function(A,$){var z=ai(A,!1,$==="fixed");return z.top=z.top+A.clientTop,z.left=z.left+A.clientLeft,z.bottom=z.top+A.clientHeight,z.right=z.left+A.clientWidth,z.width=A.clientWidth,z.height=A.clientHeight,z.x=z.left,z.y=z.top,z}(d,g):gc(function(A){var $,z=as(A),Y=mc(A),J=($=A.ownerDocument)==null?void 0:$.body,oe=oi(z.scrollWidth,z.clientWidth,J?J.scrollWidth:0,J?J.clientWidth:0),we=oi(z.scrollHeight,z.clientHeight,J?J.scrollHeight:0,J?J.clientHeight:0),Ie=-Y.scrollLeft+Sl(A),de=-Y.scrollTop;return Mi(J||z).direction==="rtl"&&(Ie+=oi(z.clientWidth,J?J.clientWidth:0)-oe),{width:oe,height:we,x:Ie,y:de}}(as(E)))}function Wh(E){var d,g=E.reference,A=E.element,$=E.placement,z=$?ar($):null,Y=$?Jo($):null,J=g.x+g.width/2-A.width/2,oe=g.y+g.height/2-A.height/2;switch(z){case hn:d={x:J,y:g.y-A.height};break;case Gt:d={x:J,y:g.y+g.height};break;case Yn:d={x:g.x+g.width,y:oe};break;case Pn:d={x:g.x-A.width,y:oe};break;default:d={x:g.x,y:g.y}}var we=z?hc(z):null;if(we!=null){var Ie=we==="y"?"height":"width";switch(Y){case ss:d[we]=d[we]-(g[Ie]/2-A[Ie]/2);break;case Gs:d[we]=d[we]+(g[Ie]/2-A[Ie]/2)}}return d}function Fi(E,d){d===void 0&&(d={});var g=d,A=g.placement,$=A===void 0?E.placement:A,z=g.strategy,Y=z===void 0?E.strategy:z,J=g.boundary,oe=J===void 0?qm:J,we=g.rootBoundary,Ie=we===void 0?Go:we,de=g.elementContext,qe=de===void 0?Ks:de,xe=g.altBoundary,Fe=xe!==void 0&&xe,De=g.padding,je=De===void 0?0:De,Et=zh(typeof je!="number"?je:Ys(je,is)),kt=qe===Ks?ac:Ks,Qe=E.rects.popper,dt=E.elements[Fe?kt:qe],He=function(lr,di,hi,Kt){var cs=di==="clippingParents"?function(St){var ur=Al(dc(St)),fi=["absolute","fixed"].indexOf(Mi(St).position)>=0&&br(St)?Sr(St):St;return os(fi)?ur.filter(function(na){return os(na)&&$h(na,fi)&&si(na)!=="body"}):[]}(lr):[].concat(di),ds=[].concat(cs,[hi]),Ic=ds[0],xn=ds.reduce(function(St,ur){var fi=qh(lr,ur,Kt);return St.top=oi(fi.top,St.top),St.right=Il(fi.right,St.right),St.bottom=Il(fi.bottom,St.bottom),St.left=oi(fi.left,St.left),St},qh(lr,Ic,Kt));return xn.width=xn.right-xn.left,xn.height=xn.bottom-xn.top,xn.x=xn.left,xn.y=xn.top,xn}(os(dt)?dt:dt.contextElement||as(E.elements.popper),oe,Ie,Y),tt=ai(E.elements.reference),gt=Wh({reference:tt,element:Qe,strategy:"absolute",placement:$}),It=gc(Object.assign({},Qe,gt)),yt=qe===Ks?It:tt,on={top:He.top-yt.top+Et.top,bottom:yt.bottom-He.bottom+Et.bottom,left:He.left-yt.left+Et.left,right:yt.right-He.right+Et.right},Wr=E.modifiersData.offset;if(qe===Ks&&Wr){var ji=Wr[$];Object.keys(on).forEach(function(lr){var di=[Yn,Gt].indexOf(lr)>=0?1:-1,hi=[hn,Gt].indexOf(lr)>=0?"y":"x";on[lr]+=ji[hi]*di})}return on}function Qm(E,d){d===void 0&&(d={});var g=d,A=g.placement,$=g.boundary,z=g.rootBoundary,Y=g.padding,J=g.flipVariations,oe=g.allowedAutoPlacements,we=oe===void 0?Di:oe,Ie=Jo(A),de=Ie?J?Qs:Qs.filter(function(Fe){return Jo(Fe)===Ie}):is,qe=de.filter(function(Fe){return we.indexOf(Fe)>=0});qe.length===0&&(qe=de);var xe=qe.reduce(function(Fe,De){return Fe[De]=Fi(E,{placement:De,boundary:$,rootBoundary:z,padding:Y})[ar(De)],Fe},{});return Object.keys(xe).sort(function(Fe,De){return xe[Fe]-xe[De]})}const li={name:"flip",enabled:!0,phase:"main",fn:function(E){var d=E.state,g=E.options,A=E.name;if(!d.modifiersData[A]._skip){for(var $=g.mainAxis,z=$===void 0||$,Y=g.altAxis,J=Y===void 0||Y,oe=g.fallbackPlacements,we=g.padding,Ie=g.boundary,de=g.rootBoundary,qe=g.altBoundary,xe=g.flipVariations,Fe=xe===void 0||xe,De=g.allowedAutoPlacements,je=d.options.placement,Et=ar(je),kt=oe||(Et!==je&&Fe?function(St){if(ar(St)===Ho)return[];var ur=Tl(St);return[Zo(St),ur,Zo(ur)]}(je):[Tl(je)]),Qe=[je].concat(kt).reduce(function(St,ur){return St.concat(ar(ur)===Ho?Qm(d,{placement:ur,boundary:Ie,rootBoundary:de,padding:we,flipVariations:Fe,allowedAutoPlacements:De}):ur)},[]),dt=d.rects.reference,He=d.rects.popper,tt=new Map,gt=!0,It=Qe[0],yt=0;yt<Qe.length;yt++){var on=Qe[yt],Wr=ar(on),ji=Jo(on)===ss,lr=[hn,Gt].indexOf(Wr)>=0,di=lr?"width":"height",hi=Fi(d,{placement:on,boundary:Ie,rootBoundary:de,altBoundary:qe,padding:we}),Kt=lr?ji?Yn:Pn:ji?Gt:hn;dt[di]>He[di]&&(Kt=Tl(Kt));var cs=Tl(Kt),ds=[];if(z&&ds.push(hi[Wr]<=0),J&&ds.push(hi[Kt]<=0,hi[cs]<=0),ds.every(function(St){return St})){It=on,gt=!1;break}tt.set(on,ds)}if(gt)for(var Ic=function(St){var ur=Qe.find(function(fi){var na=tt.get(fi);if(na)return na.slice(0,St).every(function(fg){return fg})});if(ur)return It=ur,"break"},xn=Fe?3:1;xn>0&&Ic(xn)!=="break";xn--);d.placement!==It&&(d.modifiersData[A]._skip=!0,d.placement=It,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Hh(E,d,g){return g===void 0&&(g={x:0,y:0}),{top:E.top-d.height-g.y,right:E.right-d.width+g.x,bottom:E.bottom-d.height+g.y,left:E.left-d.width-g.x}}function Ym(E){return[hn,Yn,Gt,Pn].some(function(d){return E[d]>=0})}const ea={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(E){var d=E.state,g=E.name,A=d.rects.reference,$=d.rects.popper,z=d.modifiersData.preventOverflow,Y=Fi(d,{elementContext:"reference"}),J=Fi(d,{altBoundary:!0}),oe=Hh(Y,A),we=Hh(J,$,z),Ie=Ym(oe),de=Ym(we);d.modifiersData[g]={referenceClippingOffsets:oe,popperEscapeOffsets:we,isReferenceHidden:Ie,hasPopperEscaped:de},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":Ie,"data-popper-escaped":de})}},Gh={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(E){var d=E.state,g=E.options,A=E.name,$=g.offset,z=$===void 0?[0,0]:$,Y=Di.reduce(function(Ie,de){return Ie[de]=function(qe,xe,Fe){var De=ar(qe),je=[Pn,hn].indexOf(De)>=0?-1:1,Et=typeof Fe=="function"?Fe(Object.assign({},xe,{placement:qe})):Fe,kt=Et[0],Qe=Et[1];return kt=kt||0,Qe=(Qe||0)*je,[Pn,Yn].indexOf(De)>=0?{x:Qe,y:kt}:{x:kt,y:Qe}}(de,d.rects,z),Ie},{}),J=Y[d.placement],oe=J.x,we=J.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=oe,d.modifiersData.popperOffsets.y+=we),d.modifiersData[A]=Y}},kl={name:"popperOffsets",enabled:!0,phase:"read",fn:function(E){var d=E.state,g=E.name;d.modifiersData[g]=Wh({reference:d.rects.reference,element:d.rects.popper,strategy:"absolute",placement:d.placement})},data:{}},Cl={name:"preventOverflow",enabled:!0,phase:"main",fn:function(E){var d=E.state,g=E.options,A=E.name,$=g.mainAxis,z=$===void 0||$,Y=g.altAxis,J=Y!==void 0&&Y,oe=g.boundary,we=g.rootBoundary,Ie=g.altBoundary,de=g.padding,qe=g.tether,xe=qe===void 0||qe,Fe=g.tetherOffset,De=Fe===void 0?0:Fe,je=Fi(d,{boundary:oe,rootBoundary:we,padding:de,altBoundary:Ie}),Et=ar(d.placement),kt=Jo(d.placement),Qe=!kt,dt=hc(Et),He=dt==="x"?"y":"x",tt=d.modifiersData.popperOffsets,gt=d.rects.reference,It=d.rects.popper,yt=typeof De=="function"?De(Object.assign({},d.rects,{placement:d.placement})):De,on=typeof yt=="number"?{mainAxis:yt,altAxis:yt}:Object.assign({mainAxis:0,altAxis:0},yt),Wr=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,ji={x:0,y:0};if(tt){if(z){var lr,di=dt==="y"?hn:Pn,hi=dt==="y"?Gt:Yn,Kt=dt==="y"?"height":"width",cs=tt[dt],ds=cs+je[di],Ic=cs-je[hi],xn=xe?-It[Kt]/2:0,St=kt===ss?gt[Kt]:It[Kt],ur=kt===ss?-It[Kt]:-gt[Kt],fi=d.elements.arrow,na=xe&&fi?Uh(fi):{width:0,height:0},fg=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},f1=fg[di],p1=fg[hi],pg=Xo(0,gt[Kt],na[Kt]),DU=Qe?gt[Kt]/2-xn-pg-f1-on.mainAxis:St-pg-f1-on.mainAxis,LU=Qe?-gt[Kt]/2+xn+pg+p1+on.mainAxis:ur+pg+p1+on.mainAxis,Nw=d.elements.arrow&&Sr(d.elements.arrow),MU=Nw?dt==="y"?Nw.clientTop||0:Nw.clientLeft||0:0,m1=(lr=Wr==null?void 0:Wr[dt])!=null?lr:0,VU=cs+LU-m1,g1=Xo(xe?Il(ds,cs+DU-m1-MU):ds,cs,xe?oi(Ic,VU):Ic);tt[dt]=g1,ji[dt]=g1-cs}if(J){var y1,FU=dt==="x"?hn:Pn,jU=dt==="x"?Gt:Yn,Ml=tt[He],mg=He==="y"?"height":"width",v1=Ml+je[FU],_1=Ml-je[jU],Ow=[hn,Pn].indexOf(Et)!==-1,w1=(y1=Wr==null?void 0:Wr[He])!=null?y1:0,E1=Ow?v1:Ml-gt[mg]-It[mg]-w1+on.altAxis,I1=Ow?Ml+gt[mg]+It[mg]-w1-on.altAxis:_1,T1=xe&&Ow?function(UU,$U,Dw){var b1=Xo(UU,$U,Dw);return b1>Dw?Dw:b1}(E1,Ml,I1):Xo(xe?E1:v1,Ml,xe?I1:_1);tt[He]=T1,ji[He]=T1-Ml}d.modifiersData[A]=ji}},requiresIfExists:["offset"]};function Xm(E,d,g){g===void 0&&(g=!1);var A,$,z=br(d),Y=br(d)&&function(de){var qe=de.getBoundingClientRect(),xe=ut(qe.width)/de.offsetWidth||1,Fe=ut(qe.height)/de.offsetHeight||1;return xe!==1||Fe!==1}(d),J=as(d),oe=ai(E,Y,g),we={scrollLeft:0,scrollTop:0},Ie={x:0,y:0};return(z||!z&&!g)&&((si(d)!=="body"||At(J))&&(we=(A=d)!==Xn(A)&&br(A)?{scrollLeft:($=A).scrollLeft,scrollTop:$.scrollTop}:mc(A)),br(d)?((Ie=ai(d,!0)).x+=d.clientLeft,Ie.y+=d.clientTop):J&&(Ie.x=Sl(J))),{x:oe.left+we.scrollLeft-Ie.x,y:oe.top+we.scrollTop-Ie.y,width:oe.width,height:oe.height}}function yc(E){var d=new Map,g=new Set,A=[];function $(z){g.add(z.name),[].concat(z.requires||[],z.requiresIfExists||[]).forEach(function(Y){if(!g.has(Y)){var J=d.get(Y);J&&$(J)}}),A.push(z)}return E.forEach(function(z){d.set(z.name,z)}),E.forEach(function(z){g.has(z.name)||$(z)}),A}var Jm={placement:"bottom",modifiers:[],strategy:"absolute"};function Kh(){for(var E=arguments.length,d=new Array(E),g=0;g<E;g++)d[g]=arguments[g];return!d.some(function(A){return!(A&&typeof A.getBoundingClientRect=="function")})}function ls(E){E===void 0&&(E={});var d=E,g=d.defaultModifiers,A=g===void 0?[]:g,$=d.defaultOptions,z=$===void 0?Jm:$;return function(Y,J,oe){oe===void 0&&(oe=z);var we,Ie,de={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jm,z),modifiersData:{},elements:{reference:Y,popper:J},attributes:{},styles:{}},qe=[],xe=!1,Fe={state:de,setOptions:function(je){var Et=typeof je=="function"?je(de.options):je;De(),de.options=Object.assign({},z,de.options,Et),de.scrollParents={reference:os(Y)?Al(Y):Y.contextElement?Al(Y.contextElement):[],popper:Al(J)};var kt,Qe,dt=function(He){var tt=yc(He);return Hm.reduce(function(gt,It){return gt.concat(tt.filter(function(yt){return yt.phase===It}))},[])}((kt=[].concat(A,de.options.modifiers),Qe=kt.reduce(function(He,tt){var gt=He[tt.name];return He[tt.name]=gt?Object.assign({},gt,tt,{options:Object.assign({},gt.options,tt.options),data:Object.assign({},gt.data,tt.data)}):tt,He},{}),Object.keys(Qe).map(function(He){return Qe[He]})));return de.orderedModifiers=dt.filter(function(He){return He.enabled}),de.orderedModifiers.forEach(function(He){var tt=He.name,gt=He.options,It=gt===void 0?{}:gt,yt=He.effect;if(typeof yt=="function"){var on=yt({state:de,name:tt,instance:Fe,options:It});qe.push(on||function(){})}}),Fe.update()},forceUpdate:function(){if(!xe){var je=de.elements,Et=je.reference,kt=je.popper;if(Kh(Et,kt)){de.rects={reference:Xm(Et,Sr(kt),de.options.strategy==="fixed"),popper:Uh(kt)},de.reset=!1,de.placement=de.options.placement,de.orderedModifiers.forEach(function(yt){return de.modifiersData[yt.name]=Object.assign({},yt.data)});for(var Qe=0;Qe<de.orderedModifiers.length;Qe++)if(de.reset!==!0){var dt=de.orderedModifiers[Qe],He=dt.fn,tt=dt.options,gt=tt===void 0?{}:tt,It=dt.name;typeof He=="function"&&(de=He({state:de,options:gt,name:It,instance:Fe})||de)}else de.reset=!1,Qe=-1}}},update:(we=function(){return new Promise(function(je){Fe.forceUpdate(),je(de)})},function(){return Ie||(Ie=new Promise(function(je){Promise.resolve().then(function(){Ie=void 0,je(we())})})),Ie}),destroy:function(){De(),xe=!0}};if(!Kh(Y,J))return Fe;function De(){qe.forEach(function(je){return je()}),qe=[]}return Fe.setOptions(oe).then(function(je){!xe&&oe.onFirstUpdate&&oe.onFirstUpdate(je)}),Fe}}var Zm=ls(),eg=ls({defaultModifiers:[Xs,kl,Bh,qr]}),Rl=ls({defaultModifiers:[Xs,kl,Bh,qr,Gh,li,Cl,Gm,ea]});const vc=Object.freeze(Object.defineProperty({__proto__:null,afterMain:uc,afterRead:Lh,afterWrite:jh,applyStyles:qr,arrow:Gm,auto:Ho,basePlacements:is,beforeMain:Mh,beforeRead:lc,beforeWrite:cc,bottom:Gt,clippingParents:qm,computeStyles:Bh,createPopper:Rl,createPopperBase:Zm,createPopperLite:eg,detectOverflow:Fi,end:Gs,eventListeners:Xs,flip:li,hide:ea,left:Pn,main:Vh,modifierPhases:Hm,offset:Gh,placements:Di,popper:Ks,popperGenerator:ls,popperOffsets:kl,preventOverflow:Cl,read:Wm,reference:ac,right:Yn,start:ss,top:hn,variationPlacements:Qs,viewport:Go,write:Fh},Symbol.toStringTag,{value:"Module"})),Qh="dropdown",ui=".bs.dropdown",_c=".data-api",tg="ArrowUp",us="ArrowDown",ng=`hide${ui}`,rg=`hidden${ui}`,ig=`show${ui}`,sg=`shown${ui}`,Pl=`click${ui}${_c}`,Jn=`keydown${ui}${_c}`,og=`keyup${ui}${_c}`,Js="show",Ar='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',c=`${Ar}.${Js}`,m=".dropdown-menu",y=R()?"top-end":"top-start",k=R()?"top-start":"top-end",q=R()?"bottom-end":"bottom-start",Q=R()?"bottom-start":"bottom-end",se=R()?"left-start":"right-start",mt=R()?"right-start":"left-start",yn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},it={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class wt extends pt{constructor(d,g){super(d,g),this._popper=null,this._parent=this._element.parentNode,this._menu=Te.next(this._element,m)[0]||Te.prev(this._element,m)[0]||Te.findOne(m,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return yn}static get DefaultType(){return it}static get NAME(){return Qh}toggle(){return this._isShown()?this.hide():this.show()}show(){if(h(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!W.trigger(this._element,ig,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))W.on(g,"mouseover",p);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Js),this._element.classList.add(Js),W.trigger(this._element,sg,d)}}hide(){if(h(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!W.trigger(this._element,ng,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))W.off(g,"mouseover",p);this._popper&&this._popper.destroy(),this._menu.classList.remove(Js),this._element.classList.remove(Js),this._element.setAttribute("aria-expanded","false"),ot.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,rg,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!a(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Qh.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(vc===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;this._config.reference==="parent"?d=this._parent:a(this._config.reference)?d=l(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const g=this._getPopperConfig();this._popper=Rl(d,this._menu,g)}_isShown(){return this._menu.classList.contains(Js)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return se;if(d.classList.contains("dropstart"))return mt;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const g=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?g?k:y:g?Q:q}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(g=>Number.parseInt(g,10)):typeof d=="function"?g=>d(g,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ot.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...w(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:g}){const A=Te.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter($=>u($));A.length&&L(A,g,d===us,!A.includes(g)).focus()}static jQueryInterface(d){return this.each(function(){const g=wt.getOrCreateInstance(this,d);if(typeof d=="string"){if(g[d]===void 0)throw new TypeError(`No method named "${d}"`);g[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const g=Te.find(c);for(const A of g){const $=wt.getInstance(A);if(!$||$._config.autoClose===!1)continue;const z=d.composedPath(),Y=z.includes($._menu);if(z.includes($._element)||$._config.autoClose==="inside"&&!Y||$._config.autoClose==="outside"&&Y||$._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const J={relatedTarget:$._element};d.type==="click"&&(J.clickEvent=d),$._completeHide(J)}}static dataApiKeydownHandler(d){const g=/input|textarea/i.test(d.target.tagName),A=d.key==="Escape",$=[tg,us].includes(d.key);if(!$&&!A||g&&!A)return;d.preventDefault();const z=this.matches(Ar)?this:Te.prev(this,Ar)[0]||Te.next(this,Ar)[0]||Te.findOne(Ar,d.delegateTarget.parentNode),Y=wt.getOrCreateInstance(z);if($)return d.stopPropagation(),Y.show(),void Y._selectMenuItem(d);Y._isShown()&&(d.stopPropagation(),Y.hide(),z.focus())}}W.on(document,Jn,Ar,wt.dataApiKeydownHandler),W.on(document,Jn,m,wt.dataApiKeydownHandler),W.on(document,Pl,wt.clearMenus),W.on(document,og,wt.clearMenus),W.on(document,Pl,Ar,function(E){E.preventDefault(),wt.getOrCreateInstance(this).toggle()}),I(wt);const vn="backdrop",Zs="show",kr=`mousedown.bs.${vn}`,wc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Yh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class FA extends $t{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return wc}static get DefaultType(){return Yh}static get NAME(){return vn}show(d){if(!this._config.isVisible)return void w(d);this._append();const g=this._getElement();this._config.isAnimated&&_(g),g.classList.add(Zs),this._emulateAnimation(()=>{w(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(Zs),this._emulateAnimation(()=>{this.dispose(),w(d)})):w(d)}dispose(){this._isAppended&&(W.off(this._element,kr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=l(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),W.on(d,kr,()=>{w(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){T(d,this._getElement(),this._config.isAnimated)}}const ag=".bs.focustrap",kj=`focusin${ag}`,Cj=`keydown.tab${ag}`,jA="backward",Rj={autofocus:!0,trapElement:null},Pj={autofocus:"boolean",trapElement:"element"};class UA extends $t{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Rj}static get DefaultType(){return Pj}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,ag),W.on(document,kj,d=>this._handleFocusin(d)),W.on(document,Cj,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,ag))}_handleFocusin(d){const{trapElement:g}=this._config;if(d.target===document||d.target===g||g.contains(d.target))return;const A=Te.focusableChildren(g);A.length===0?g.focus():this._lastTabNavDirection===jA?A[A.length-1].focus():A[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?jA:"forward")}}const $A=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zA=".sticky-top",lg="padding-right",BA="margin-right";class Iw{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,lg,g=>g+d),this._setElementAttributes($A,lg,g=>g+d),this._setElementAttributes(zA,BA,g=>g-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,lg),this._resetElementAttributes($A,lg),this._resetElementAttributes(zA,BA)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,g,A){const $=this.getWidth();this._applyManipulationCallback(d,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+$)return;this._saveInitialAttribute(z,g);const Y=window.getComputedStyle(z).getPropertyValue(g);z.style.setProperty(g,`${A(Number.parseFloat(Y))}px`)})}_saveInitialAttribute(d,g){const A=d.style.getPropertyValue(g);A&&ot.setDataAttribute(d,g,A)}_resetElementAttributes(d,g){this._applyManipulationCallback(d,A=>{const $=ot.getDataAttribute(A,g);$!==null?(ot.removeDataAttribute(A,g),A.style.setProperty(g,$)):A.style.removeProperty(g)})}_applyManipulationCallback(d,g){if(a(d))g(d);else for(const A of Te.find(d,this._element))g(A)}}const ci=".bs.modal",xj=`hide${ci}`,Nj=`hidePrevented${ci}`,qA=`hidden${ci}`,WA=`show${ci}`,Oj=`shown${ci}`,Dj=`resize${ci}`,Lj=`click.dismiss${ci}`,Mj=`mousedown.dismiss${ci}`,Vj=`keydown.dismiss${ci}`,Fj=`click${ci}.data-api`,HA="modal-open",GA="show",Tw="modal-static",jj={backdrop:!0,focus:!0,keyboard:!0},Uj={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class xl extends pt{constructor(d,g){super(d,g),this._dialog=Te.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Iw,this._addEventListeners()}static get Default(){return jj}static get DefaultType(){return Uj}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||W.trigger(this._element,WA,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(HA),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(W.trigger(this._element,xj).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(GA),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){W.off(window,ci),W.off(this._dialog,ci),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new FA({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new UA({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const g=Te.findOne(".modal-body",this._dialog);g&&(g.scrollTop=0),_(this._element),this._element.classList.add(GA),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,Oj,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,Vj,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),W.on(window,Dj,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,Mj,d=>{W.one(this._element,Lj,g=>{this._element===d.target&&this._element===g.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(HA),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,qA)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,Nj).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(Tw)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(Tw),this._queueCallback(()=>{this._element.classList.remove(Tw),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,g=this._scrollBar.getWidth(),A=g>0;if(A&&!d){const $=R()?"paddingLeft":"paddingRight";this._element.style[$]=`${g}px`}if(!A&&d){const $=R()?"paddingRight":"paddingLeft";this._element.style[$]=`${g}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,g){return this.each(function(){const A=xl.getOrCreateInstance(this,d);if(typeof d=="string"){if(A[d]===void 0)throw new TypeError(`No method named "${d}"`);A[d](g)}})}}W.on(document,Fj,'[data-bs-toggle="modal"]',function(E){const d=Te.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&E.preventDefault(),W.one(d,WA,A=>{A.defaultPrevented||W.one(d,qA,()=>{u(this)&&this.focus()})});const g=Te.findOne(".modal.show");g&&xl.getInstance(g).hide(),xl.getOrCreateInstance(d).toggle(this)}),sr(xl),I(xl);const eo=".bs.offcanvas",KA=".data-api",$j=`load${eo}${KA}`,QA="show",YA="showing",XA="hiding",JA=".offcanvas.show",zj=`show${eo}`,Bj=`shown${eo}`,qj=`hide${eo}`,ZA=`hidePrevented${eo}`,e1=`hidden${eo}`,Wj=`resize${eo}`,Hj=`click${eo}${KA}`,Gj=`keydown.dismiss${eo}`,Kj={backdrop:!0,keyboard:!0,scroll:!1},Qj={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class to extends pt{constructor(d,g){super(d,g),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Kj}static get DefaultType(){return Qj}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||W.trigger(this._element,zj,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Iw().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(YA),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(QA),this._element.classList.remove(YA),W.trigger(this._element,Bj,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,qj).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(XA),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(QA,XA),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Iw().reset(),W.trigger(this._element,e1)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new FA({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():W.trigger(this._element,ZA)}:null})}_initializeFocusTrap(){return new UA({trapElement:this._element})}_addEventListeners(){W.on(this._element,Gj,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():W.trigger(this._element,ZA))})}static jQueryInterface(d){return this.each(function(){const g=to.getOrCreateInstance(this,d);if(typeof d=="string"){if(g[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);g[d](this)}})}}W.on(document,Hj,'[data-bs-toggle="offcanvas"]',function(E){const d=Te.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),h(this))return;W.one(d,e1,()=>{u(this)&&this.focus()});const g=Te.findOne(JA);g&&g!==d&&to.getInstance(g).hide(),to.getOrCreateInstance(d).toggle(this)}),W.on(window,$j,()=>{for(const E of Te.find(JA))to.getOrCreateInstance(E).show()}),W.on(window,Wj,()=>{for(const E of Te.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(E).position!=="fixed"&&to.getOrCreateInstance(E).hide()}),sr(to),I(to);const t1={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yj=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Xj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Jj=(E,d)=>{const g=E.nodeName.toLowerCase();return d.includes(g)?!Yj.has(g)||!!Xj.test(E.nodeValue):d.filter(A=>A instanceof RegExp).some(A=>A.test(g))},Zj={allowList:t1,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},eU={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},tU={entry:"(string|element|function|null)",selector:"(string|element)"};class nU extends $t{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return Zj}static get DefaultType(){return eU}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[$,z]of Object.entries(this._config.content))this._setContent(d,z,$);const g=d.children[0],A=this._resolvePossibleFunction(this._config.extraClass);return A&&g.classList.add(...A.split(" ")),g}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[g,A]of Object.entries(d))super._typeCheckConfig({selector:g,entry:A},tU)}_setContent(d,g,A){const $=Te.findOne(A,d);$&&((g=this._resolvePossibleFunction(g))?a(g)?this._putElementInTemplate(l(g),$):this._config.html?$.innerHTML=this._maybeSanitize(g):$.textContent=g:$.remove())}_maybeSanitize(d){return this._config.sanitize?function(g,A,$){if(!g.length)return g;if($&&typeof $=="function")return $(g);const z=new window.DOMParser().parseFromString(g,"text/html"),Y=[].concat(...z.body.querySelectorAll("*"));for(const J of Y){const oe=J.nodeName.toLowerCase();if(!Object.keys(A).includes(oe)){J.remove();continue}const we=[].concat(...J.attributes),Ie=[].concat(A["*"]||[],A[oe]||[]);for(const de of we)Jj(de,Ie)||J.removeAttribute(de.nodeName)}return z.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return w(d,[this])}_putElementInTemplate(d,g){if(this._config.html)return g.innerHTML="",void g.append(d);g.textContent=d.textContent}}const rU=new Set(["sanitize","allowList","sanitizeFn"]),bw="fade",ug="show",n1=".modal",r1="hide.bs.modal",Xh="hover",Sw="focus",iU={AUTO:"auto",TOP:"top",RIGHT:R()?"left":"right",BOTTOM:"bottom",LEFT:R()?"right":"left"},sU={allowList:t1,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},oU={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Nl extends pt{constructor(d,g){if(vc===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,g),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return sU}static get DefaultType(){return oU}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(n1),r1,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=W.trigger(this._element,this.constructor.eventName("show")),g=(f(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!g)return;this._disposePopper();const A=this._getTipElement();this._element.setAttribute("aria-describedby",A.getAttribute("id"));const{container:$}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||($.append(A),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(A),A.classList.add(ug),"ontouchstart"in document.documentElement)for(const z of[].concat(...document.body.children))W.on(z,"mouseover",p);this._queueCallback(()=>{W.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ug),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))W.off(d,"mouseover",p);this._activeTrigger.click=!1,this._activeTrigger[Sw]=!1,this._activeTrigger[Xh]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const g=this._getTemplateFactory(d).toHtml();if(!g)return null;g.classList.remove(bw,ug),g.classList.add(`bs-${this.constructor.NAME}-auto`);const A=($=>{do $+=Math.floor(1e6*Math.random());while(document.getElementById($));return $})(this.constructor.NAME).toString();return g.setAttribute("id",A),this._isAnimated()&&g.classList.add(bw),g}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new nU({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(bw)}_isShown(){return this.tip&&this.tip.classList.contains(ug)}_createPopper(d){const g=w(this._config.placement,[this,d,this._element]),A=iU[g.toUpperCase()];return Rl(this._element,d,this._getPopperConfig(A))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(g=>Number.parseInt(g,10)):typeof d=="function"?g=>d(g,this._element):d}_resolvePossibleFunction(d){return w(d,[this._element])}_getPopperConfig(d){const g={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:A=>{this._getTipElement().setAttribute("data-popper-placement",A.state.placement)}}]};return{...g,...w(this._config.popperConfig,[g])}}_setListeners(){const d=this._config.trigger.split(" ");for(const g of d)if(g==="click")W.on(this._element,this.constructor.eventName("click"),this._config.selector,A=>{this._initializeOnDelegatedTarget(A).toggle()});else if(g!=="manual"){const A=g===Xh?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),$=g===Xh?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,A,this._config.selector,z=>{const Y=this._initializeOnDelegatedTarget(z);Y._activeTrigger[z.type==="focusin"?Sw:Xh]=!0,Y._enter()}),W.on(this._element,$,this._config.selector,z=>{const Y=this._initializeOnDelegatedTarget(z);Y._activeTrigger[z.type==="focusout"?Sw:Xh]=Y._element.contains(z.relatedTarget),Y._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(n1),r1,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,g){clearTimeout(this._timeout),this._timeout=setTimeout(d,g)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const g=ot.getDataAttributes(this._element);for(const A of Object.keys(g))rU.has(A)&&delete g[A];return d={...g,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:l(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[g,A]of Object.entries(this._config))this.constructor.Default[g]!==A&&(d[g]=A);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const g=Nl.getOrCreateInstance(this,d);if(typeof d=="string"){if(g[d]===void 0)throw new TypeError(`No method named "${d}"`);g[d]()}})}}I(Nl);const aU={...Nl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},lU={...Nl.DefaultType,content:"(null|string|element|function)"};class cg extends Nl{static get Default(){return aU}static get DefaultType(){return lU}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const g=cg.getOrCreateInstance(this,d);if(typeof d=="string"){if(g[d]===void 0)throw new TypeError(`No method named "${d}"`);g[d]()}})}}I(cg);const Aw=".bs.scrollspy",uU=`activate${Aw}`,i1=`click${Aw}`,cU=`load${Aw}.data-api`,Ec="active",kw="[href]",s1=".nav-link",dU=`${s1}, .nav-item > ${s1}, .list-group-item`,hU={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},fU={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Jh extends pt{constructor(d,g){super(d,g),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return hU}static get DefaultType(){return fU}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=l(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(g=>Number.parseFloat(g))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,i1),W.on(this._config.target,i1,kw,d=>{const g=this._observableSections.get(d.target.hash);if(g){d.preventDefault();const A=this._rootElement||window,$=g.offsetTop-this._element.offsetTop;if(A.scrollTo)return void A.scrollTo({top:$,behavior:"smooth"});A.scrollTop=$}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(g=>this._observerCallback(g),d)}_observerCallback(d){const g=Y=>this._targetLinks.get(`#${Y.target.id}`),A=Y=>{this._previousScrollData.visibleEntryTop=Y.target.offsetTop,this._process(g(Y))},$=(this._rootElement||document.documentElement).scrollTop,z=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const Y of d){if(!Y.isIntersecting){this._activeTarget=null,this._clearActiveClass(g(Y));continue}const J=Y.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(z&&J){if(A(Y),!$)return}else z||J||A(Y)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=Te.find(kw,this._config.target);for(const g of d){if(!g.hash||h(g))continue;const A=Te.findOne(decodeURI(g.hash),this._element);u(A)&&(this._targetLinks.set(decodeURI(g.hash),g),this._observableSections.set(g.hash,A))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(Ec),this._activateParents(d),W.trigger(this._element,uU,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))Te.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(Ec);else for(const g of Te.parents(d,".nav, .list-group"))for(const A of Te.prev(g,dU))A.classList.add(Ec)}_clearActiveClass(d){d.classList.remove(Ec);const g=Te.find(`${kw}.${Ec}`,d);for(const A of g)A.classList.remove(Ec)}static jQueryInterface(d){return this.each(function(){const g=Jh.getOrCreateInstance(this,d);if(typeof d=="string"){if(g[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);g[d]()}})}}W.on(window,cU,()=>{for(const E of Te.find('[data-bs-spy="scroll"]'))Jh.getOrCreateInstance(E)}),I(Jh);const Ol=".bs.tab",pU=`hide${Ol}`,mU=`hidden${Ol}`,gU=`show${Ol}`,yU=`shown${Ol}`,vU=`click${Ol}`,_U=`keydown${Ol}`,wU=`load${Ol}`,EU="ArrowLeft",o1="ArrowRight",IU="ArrowUp",a1="ArrowDown",Cw="Home",l1="End",Dl="active",u1="fade",Rw="show",c1=".dropdown-toggle",Pw=`:not(${c1})`,d1='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',xw=`.nav-link${Pw}, .list-group-item${Pw}, [role="tab"]${Pw}, ${d1}`,TU=`.${Dl}[data-bs-toggle="tab"], .${Dl}[data-bs-toggle="pill"], .${Dl}[data-bs-toggle="list"]`;class Ll extends pt{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,_U,g=>this._keydown(g)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const g=this._getActiveElem(),A=g?W.trigger(g,pU,{relatedTarget:d}):null;W.trigger(d,gU,{relatedTarget:g}).defaultPrevented||A&&A.defaultPrevented||(this._deactivate(g,d),this._activate(d,g))}_activate(d,g){d&&(d.classList.add(Dl),this._activate(Te.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),W.trigger(d,yU,{relatedTarget:g})):d.classList.add(Rw)},d,d.classList.contains(u1)))}_deactivate(d,g){d&&(d.classList.remove(Dl),d.blur(),this._deactivate(Te.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),W.trigger(d,mU,{relatedTarget:g})):d.classList.remove(Rw)},d,d.classList.contains(u1)))}_keydown(d){if(![EU,o1,IU,a1,Cw,l1].includes(d.key))return;d.stopPropagation(),d.preventDefault();const g=this._getChildren().filter($=>!h($));let A;if([Cw,l1].includes(d.key))A=g[d.key===Cw?0:g.length-1];else{const $=[o1,a1].includes(d.key);A=L(g,d.target,$,!0)}A&&(A.focus({preventScroll:!0}),Ll.getOrCreateInstance(A).show())}_getChildren(){return Te.find(xw,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,g){this._setAttributeIfNotExists(d,"role","tablist");for(const A of g)this._setInitialAttributesOnChild(A)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const g=this._elemIsActive(d),A=this._getOuterElement(d);d.setAttribute("aria-selected",g),A!==d&&this._setAttributeIfNotExists(A,"role","presentation"),g||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const g=Te.getElementFromSelector(d);g&&(this._setAttributeIfNotExists(g,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(g,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,g){const A=this._getOuterElement(d);if(!A.classList.contains("dropdown"))return;const $=(z,Y)=>{const J=Te.findOne(z,A);J&&J.classList.toggle(Y,g)};$(c1,Dl),$(".dropdown-menu",Rw),A.setAttribute("aria-expanded",g)}_setAttributeIfNotExists(d,g,A){d.hasAttribute(g)||d.setAttribute(g,A)}_elemIsActive(d){return d.classList.contains(Dl)}_getInnerElement(d){return d.matches(xw)?d:Te.findOne(xw,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const g=Ll.getOrCreateInstance(this);if(typeof d=="string"){if(g[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);g[d]()}})}}W.on(document,vU,d1,function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),h(this)||Ll.getOrCreateInstance(this).show()}),W.on(window,wU,()=>{for(const E of Te.find(TU))Ll.getOrCreateInstance(E)}),I(Ll);const ta=".bs.toast",bU=`mouseover${ta}`,SU=`mouseout${ta}`,AU=`focusin${ta}`,kU=`focusout${ta}`,CU=`hide${ta}`,RU=`hidden${ta}`,PU=`show${ta}`,xU=`shown${ta}`,h1="hide",dg="show",hg="showing",NU={animation:"boolean",autohide:"boolean",delay:"number"},OU={animation:!0,autohide:!0,delay:5e3};class Zh extends pt{constructor(d,g){super(d,g),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return OU}static get DefaultType(){return NU}static get NAME(){return"toast"}show(){W.trigger(this._element,PU).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(h1),_(this._element),this._element.classList.add(dg,hg),this._queueCallback(()=>{this._element.classList.remove(hg),W.trigger(this._element,xU),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(W.trigger(this._element,CU).defaultPrevented||(this._element.classList.add(hg),this._queueCallback(()=>{this._element.classList.add(h1),this._element.classList.remove(hg,dg),W.trigger(this._element,RU)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(dg),super.dispose()}isShown(){return this._element.classList.contains(dg)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,g){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=g;break;case"focusin":case"focusout":this._hasKeyboardInteraction=g}if(g)return void this._clearTimeout();const A=d.relatedTarget;this._element===A||this._element.contains(A)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,bU,d=>this._onInteraction(d,!0)),W.on(this._element,SU,d=>this._onInteraction(d,!1)),W.on(this._element,AU,d=>this._onInteraction(d,!0)),W.on(this._element,kU,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const g=Zh.getOrCreateInstance(this,d);if(typeof d=="string"){if(g[d]===void 0)throw new TypeError(`No method named "${d}"`);g[d](this)}})}}return sr(Zh),I(Zh),{Alert:Rn,Button:et,Carousel:Hs,Collapse:rs,Dropdown:wt,Modal:xl,Offcanvas:to,Popover:cg,ScrollSpy:Jh,Tab:Ll,Toast:Zh,Tooltip:Nl}})})(h$);var Px={exports:{}},ti={},xx={exports:{}},Nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,be){var W=Z.length;Z.push(be);e:for(;0<W;){var $e=W-1>>>1,_e=Z[$e];if(0<i(_e,be))Z[$e]=be,Z[W]=_e,W=$e;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var be=Z[0],W=Z.pop();if(W!==be){Z[0]=W;e:for(var $e=0,_e=Z.length,Oe=_e>>>1;$e<Oe;){var ot=2*($e+1)-1,$t=Z[ot],pt=ot+1,rn=Z[pt];if(0>i($t,W))pt<_e&&0>i(rn,$t)?(Z[$e]=rn,Z[pt]=W,$e=pt):(Z[$e]=$t,Z[ot]=W,$e=ot);else if(pt<_e&&0>i(rn,W))Z[$e]=rn,Z[pt]=W,$e=pt;else break e}}return be}function i(Z,be){var W=Z.sortIndex-be.sortIndex;return W!==0?W:Z.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,p=3,_=!1,S=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Z){for(var be=n(u);be!==null;){if(be.callback===null)r(u);else if(be.startTime<=Z)r(u),be.sortIndex=be.expirationTime,e(l,be);else break;be=n(u)}}function L(Z){if(P=!1,T(Z),!S)if(n(l)!==null)S=!0,Me(F);else{var be=n(u);be!==null&&We(L,be.startTime-Z)}}function F(Z,be){S=!1,P&&(P=!1,I(b),b=-1),_=!0;var W=p;try{for(T(be),f=n(l);f!==null&&(!(f.expirationTime>be)||Z&&!M());){var $e=f.callback;if(typeof $e=="function"){f.callback=null,p=f.priorityLevel;var _e=$e(f.expirationTime<=be);be=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(l)&&r(l),T(be)}else r(l);f=n(l)}if(f!==null)var Oe=!0;else{var ot=n(u);ot!==null&&We(L,ot.startTime-be),Oe=!1}return Oe}finally{f=null,p=W,_=!1}}var B=!1,C=null,b=-1,x=5,D=-1;function M(){return!(t.unstable_now()-D<x)}function V(){if(C!==null){var Z=t.unstable_now();D=Z;var be=!0;try{be=C(!0,Z)}finally{be?O():(B=!1,C=null)}}else B=!1}var O;if(typeof w=="function")O=function(){w(V)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Pe=pe.port2;pe.port1.onmessage=V,O=function(){Pe.postMessage(null)}}else O=function(){R(V,0)};function Me(Z){C=Z,B||(B=!0,O())}function We(Z,be){b=R(function(){Z(t.unstable_now())},be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,Me(F))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(p){case 1:case 2:case 3:var be=3;break;default:be=p}var W=p;p=be;try{return Z()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,be){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var W=p;p=Z;try{return be()}finally{p=W}},t.unstable_scheduleCallback=function(Z,be,W){var $e=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$e+W:$e):W=$e,Z){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=W+_e,Z={id:h++,callback:be,priorityLevel:Z,startTime:W,expirationTime:_e,sortIndex:-1},W>$e?(Z.sortIndex=W,e(u,Z),n(l)===null&&Z===n(u)&&(P?(I(b),b=-1):P=!0,We(L,W-$e))):(Z.sortIndex=_e,e(l,Z),S||_||(S=!0,Me(F))),Z},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Z){var be=p;return function(){var W=p;p=be;try{return Z.apply(this,arguments)}finally{p=W}}}})(Nx);xx.exports=Nx;var f$=xx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p$=N,Zr=f$;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ox=new Set,np={};function qu(t,e){Od(t,e),Od(t+"Capture",e)}function Od(t,e){for(np[t]=e,t=0;t<e.length;t++)Ox.add(e[t])}var Io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WE=Object.prototype.hasOwnProperty,m$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R1={},P1={};function g$(t){return WE.call(P1,t)?!0:WE.call(R1,t)?!1:m$.test(t)?P1[t]=!0:(R1[t]=!0,!1)}function y$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function v$(t,e,n,r){if(e===null||typeof e>"u"||y$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Er(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new Er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new Er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new Er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new Er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new Er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new Er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new Er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new Er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new Er(t,5,!1,t.toLowerCase(),null,!1,!1)});var ET=/[\-:]([a-z])/g;function IT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ET,IT);Hn[e]=new Er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ET,IT);Hn[e]=new Er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ET,IT);Hn[e]=new Er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new Er(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new Er(t,1,!1,t.toLowerCase(),null,!0,!0)});function TT(t,e,n,r){var i=Hn.hasOwnProperty(e)?Hn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(v$(e,n,i,r)&&(n=null),r||i===null?g$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Do=p$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vg=Symbol.for("react.element"),zc=Symbol.for("react.portal"),Bc=Symbol.for("react.fragment"),bT=Symbol.for("react.strict_mode"),HE=Symbol.for("react.profiler"),Dx=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),ST=Symbol.for("react.forward_ref"),GE=Symbol.for("react.suspense"),KE=Symbol.for("react.suspense_list"),AT=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),Mx=Symbol.for("react.offscreen"),x1=Symbol.iterator;function ef(t){return t===null||typeof t!="object"?null:(t=x1&&t[x1]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Object.assign,Vw;function vf(t){if(Vw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vw=e&&e[1]||""}return`
`+Vw+t}var Fw=!1;function jw(t,e){if(!t||Fw)return"";Fw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vf(t):""}function _$(t){switch(t.tag){case 5:return vf(t.type);case 16:return vf("Lazy");case 13:return vf("Suspense");case 19:return vf("SuspenseList");case 0:case 2:case 15:return t=jw(t.type,!1),t;case 11:return t=jw(t.type.render,!1),t;case 1:return t=jw(t.type,!0),t;default:return""}}function QE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bc:return"Fragment";case zc:return"Portal";case HE:return"Profiler";case bT:return"StrictMode";case GE:return"Suspense";case KE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lx:return(t.displayName||"Context")+".Consumer";case Dx:return(t._context.displayName||"Context")+".Provider";case ST:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AT:return e=t.displayName||null,e!==null?e:QE(t.type)||"Memo";case ca:e=t._payload,t=t._init;try{return QE(t(e))}catch{}}return null}function w$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QE(e);case 8:return e===bT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E$(t){var e=Vx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _g(t){t._valueTracker||(t._valueTracker=E$(t))}function Fx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function YE(t,e){var n=e.checked;return Ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function N1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jx(t,e){e=e.checked,e!=null&&TT(t,"checked",e,!1)}function XE(t,e){jx(t,e);var n=qa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?JE(t,e.type,n):e.hasOwnProperty("defaultValue")&&JE(t,e.type,qa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function JE(t,e,n){(e!=="number"||Vy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _f=Array.isArray;function sd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ZE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(_f(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qa(n)}}function Ux(t,e){var n=qa(e.value),r=qa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $x(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$x(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wg,zx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wg=wg||document.createElement("div"),wg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I$=["Webkit","ms","Moz","O"];Object.keys(Nf).forEach(function(t){I$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nf[e]=Nf[t]})});function Bx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nf.hasOwnProperty(t)&&Nf[t]?(""+e).trim():e+"px"}function qx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var T$=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(t,e){if(e){if(T$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function n0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=null;function kT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var i0=null,od=null,ad=null;function M1(t){if(t=sm(t)){if(typeof i0!="function")throw Error(re(280));var e=t.stateNode;e&&(e=n_(e),i0(t.stateNode,t.type,e))}}function Wx(t){od?ad?ad.push(t):ad=[t]:od=t}function Hx(){if(od){var t=od,e=ad;if(ad=od=null,M1(t),e)for(t=0;t<e.length;t++)M1(e[t])}}function Gx(t,e){return t(e)}function Kx(){}var Uw=!1;function Qx(t,e,n){if(Uw)return t(e,n);Uw=!0;try{return Gx(t,e,n)}finally{Uw=!1,(od!==null||ad!==null)&&(Kx(),Hx())}}function ip(t,e){var n=t.stateNode;if(n===null)return null;var r=n_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var s0=!1;if(Io)try{var tf={};Object.defineProperty(tf,"passive",{get:function(){s0=!0}}),window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{s0=!1}function b$(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Of=!1,Fy=null,jy=!1,o0=null,S$={onError:function(t){Of=!0,Fy=t}};function A$(t,e,n,r,i,s,o,a,l){Of=!1,Fy=null,b$.apply(S$,arguments)}function k$(t,e,n,r,i,s,o,a,l){if(A$.apply(this,arguments),Of){if(Of){var u=Fy;Of=!1,Fy=null}else throw Error(re(198));jy||(jy=!0,o0=u)}}function Wu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V1(t){if(Wu(t)!==t)throw Error(re(188))}function C$(t){var e=t.alternate;if(!e){if(e=Wu(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return V1(i),t;if(s===r)return V1(i),e;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function Xx(t){return t=C$(t),t!==null?Jx(t):null}function Jx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jx(t);if(e!==null)return e;t=t.sibling}return null}var Zx=Zr.unstable_scheduleCallback,F1=Zr.unstable_cancelCallback,R$=Zr.unstable_shouldYield,P$=Zr.unstable_requestPaint,ln=Zr.unstable_now,x$=Zr.unstable_getCurrentPriorityLevel,CT=Zr.unstable_ImmediatePriority,eN=Zr.unstable_UserBlockingPriority,Uy=Zr.unstable_NormalPriority,N$=Zr.unstable_LowPriority,tN=Zr.unstable_IdlePriority,Jv=null,Os=null;function O$(t){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(Jv,t,void 0,(t.current.flags&128)===128)}catch{}}var Qi=Math.clz32?Math.clz32:M$,D$=Math.log,L$=Math.LN2;function M$(t){return t>>>=0,t===0?32:31-(D$(t)/L$|0)|0}var Eg=64,Ig=4194304;function wf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $y(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=wf(a):(s&=o,s!==0&&(r=wf(s)))}else o=n&~i,o!==0?r=wf(o):s!==0&&(r=wf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qi(e),i=1<<n,r|=t[n],e&=~i;return r}function V$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=V$(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function a0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nN(){var t=Eg;return Eg<<=1,!(Eg&4194240)&&(Eg=64),t}function $w(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qi(e),t[e]=n}function j$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function RT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function rN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iN,PT,sN,oN,aN,l0=!1,Tg=[],Na=null,Oa=null,Da=null,sp=new Map,op=new Map,fa=[],U$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j1(t,e){switch(t){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":sp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":op.delete(e.pointerId)}}function nf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sm(e),e!==null&&PT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $$(t,e,n,r,i){switch(e){case"focusin":return Na=nf(Na,t,e,n,r,i),!0;case"dragenter":return Oa=nf(Oa,t,e,n,r,i),!0;case"mouseover":return Da=nf(Da,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return sp.set(s,nf(sp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,op.set(s,nf(op.get(s)||null,t,e,n,r,i)),!0}return!1}function lN(t){var e=Yl(t.target);if(e!==null){var n=Wu(e);if(n!==null){if(e=n.tag,e===13){if(e=Yx(n),e!==null){t.blockedOn=e,aN(t.priority,function(){sN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r0=r,n.target.dispatchEvent(r),r0=null}else return e=sm(n),e!==null&&PT(e),t.blockedOn=n,!1;e.shift()}return!0}function U1(t,e,n){iy(t)&&n.delete(e)}function z$(){l0=!1,Na!==null&&iy(Na)&&(Na=null),Oa!==null&&iy(Oa)&&(Oa=null),Da!==null&&iy(Da)&&(Da=null),sp.forEach(U1),op.forEach(U1)}function rf(t,e){t.blockedOn===e&&(t.blockedOn=null,l0||(l0=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,z$)))}function ap(t){function e(i){return rf(i,t)}if(0<Tg.length){rf(Tg[0],t);for(var n=1;n<Tg.length;n++){var r=Tg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Na!==null&&rf(Na,t),Oa!==null&&rf(Oa,t),Da!==null&&rf(Da,t),sp.forEach(e),op.forEach(e),n=0;n<fa.length;n++)r=fa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fa.length&&(n=fa[0],n.blockedOn===null);)lN(n),n.blockedOn===null&&fa.shift()}var ld=Do.ReactCurrentBatchConfig,zy=!0;function B$(t,e,n,r){var i=_t,s=ld.transition;ld.transition=null;try{_t=1,xT(t,e,n,r)}finally{_t=i,ld.transition=s}}function q$(t,e,n,r){var i=_t,s=ld.transition;ld.transition=null;try{_t=4,xT(t,e,n,r)}finally{_t=i,ld.transition=s}}function xT(t,e,n,r){if(zy){var i=u0(t,e,n,r);if(i===null)Xw(t,e,r,By,n),j1(t,r);else if($$(i,t,e,n,r))r.stopPropagation();else if(j1(t,r),e&4&&-1<U$.indexOf(t)){for(;i!==null;){var s=sm(i);if(s!==null&&iN(s),s=u0(t,e,n,r),s===null&&Xw(t,e,r,By,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xw(t,e,r,null,n)}}var By=null;function u0(t,e,n,r){if(By=null,t=kT(r),t=Yl(t),t!==null)if(e=Wu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return By=t,null}function uN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x$()){case CT:return 1;case eN:return 4;case Uy:case N$:return 16;case tN:return 536870912;default:return 16}default:return 16}}var Aa=null,NT=null,sy=null;function cN(){if(sy)return sy;var t,e=NT,n=e.length,r,i="value"in Aa?Aa.value:Aa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sy=i.slice(t,1<r?1-r:void 0)}function oy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bg(){return!0}function $1(){return!1}function ni(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bg:$1,this.isPropagationStopped=$1,this}return Ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bg)},persist:function(){},isPersistent:bg}),e}var lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OT=ni(lh),im=Ht({},lh,{view:0,detail:0}),W$=ni(im),zw,Bw,sf,Zv=Ht({},im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sf&&(sf&&t.type==="mousemove"?(zw=t.screenX-sf.screenX,Bw=t.screenY-sf.screenY):Bw=zw=0,sf=t),zw)},movementY:function(t){return"movementY"in t?t.movementY:Bw}}),z1=ni(Zv),H$=Ht({},Zv,{dataTransfer:0}),G$=ni(H$),K$=Ht({},im,{relatedTarget:0}),qw=ni(K$),Q$=Ht({},lh,{animationName:0,elapsedTime:0,pseudoElement:0}),Y$=ni(Q$),X$=Ht({},lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J$=ni(X$),Z$=Ht({},lh,{data:0}),B1=ni(Z$),e4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n4[t])?!!e[t]:!1}function DT(){return r4}var i4=Ht({},im,{key:function(t){if(t.key){var e=e4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DT,charCode:function(t){return t.type==="keypress"?oy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s4=ni(i4),o4=Ht({},Zv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=ni(o4),a4=Ht({},im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DT}),l4=ni(a4),u4=Ht({},lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),c4=ni(u4),d4=Ht({},Zv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),h4=ni(d4),f4=[9,13,27,32],LT=Io&&"CompositionEvent"in window,Df=null;Io&&"documentMode"in document&&(Df=document.documentMode);var p4=Io&&"TextEvent"in window&&!Df,dN=Io&&(!LT||Df&&8<Df&&11>=Df),W1=" ",H1=!1;function hN(t,e){switch(t){case"keyup":return f4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qc=!1;function m4(t,e){switch(t){case"compositionend":return fN(e);case"keypress":return e.which!==32?null:(H1=!0,W1);case"textInput":return t=e.data,t===W1&&H1?null:t;default:return null}}function g4(t,e){if(qc)return t==="compositionend"||!LT&&hN(t,e)?(t=cN(),sy=NT=Aa=null,qc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dN&&e.locale!=="ko"?null:e.data;default:return null}}var y4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!y4[t.type]:e==="textarea"}function pN(t,e,n,r){Wx(r),e=qy(e,"onChange"),0<e.length&&(n=new OT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lf=null,lp=null;function v4(t){SN(t,0)}function e_(t){var e=Gc(t);if(Fx(e))return t}function _4(t,e){if(t==="change")return e}var mN=!1;if(Io){var Ww;if(Io){var Hw="oninput"in document;if(!Hw){var K1=document.createElement("div");K1.setAttribute("oninput","return;"),Hw=typeof K1.oninput=="function"}Ww=Hw}else Ww=!1;mN=Ww&&(!document.documentMode||9<document.documentMode)}function Q1(){Lf&&(Lf.detachEvent("onpropertychange",gN),lp=Lf=null)}function gN(t){if(t.propertyName==="value"&&e_(lp)){var e=[];pN(e,lp,t,kT(t)),Qx(v4,e)}}function w4(t,e,n){t==="focusin"?(Q1(),Lf=e,lp=n,Lf.attachEvent("onpropertychange",gN)):t==="focusout"&&Q1()}function E4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return e_(lp)}function I4(t,e){if(t==="click")return e_(e)}function T4(t,e){if(t==="input"||t==="change")return e_(e)}function b4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xi=typeof Object.is=="function"?Object.is:b4;function up(t,e){if(Xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!WE.call(e,i)||!Xi(t[i],e[i]))return!1}return!0}function Y1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X1(t,e){var n=Y1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y1(n)}}function yN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vN(){for(var t=window,e=Vy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vy(t.document)}return e}function MT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S4(t){var e=vN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yN(n.ownerDocument.documentElement,n)){if(r!==null&&MT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=X1(n,s);var o=X1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A4=Io&&"documentMode"in document&&11>=document.documentMode,Wc=null,c0=null,Mf=null,d0=!1;function J1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d0||Wc==null||Wc!==Vy(r)||(r=Wc,"selectionStart"in r&&MT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mf&&up(Mf,r)||(Mf=r,r=qy(c0,"onSelect"),0<r.length&&(e=new OT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wc)))}function Sg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hc={animationend:Sg("Animation","AnimationEnd"),animationiteration:Sg("Animation","AnimationIteration"),animationstart:Sg("Animation","AnimationStart"),transitionend:Sg("Transition","TransitionEnd")},Gw={},_N={};Io&&(_N=document.createElement("div").style,"AnimationEvent"in window||(delete Hc.animationend.animation,delete Hc.animationiteration.animation,delete Hc.animationstart.animation),"TransitionEvent"in window||delete Hc.transitionend.transition);function t_(t){if(Gw[t])return Gw[t];if(!Hc[t])return t;var e=Hc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _N)return Gw[t]=e[n];return t}var wN=t_("animationend"),EN=t_("animationiteration"),IN=t_("animationstart"),TN=t_("transitionend"),bN=new Map,Z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sl(t,e){bN.set(t,e),qu(e,[t])}for(var Kw=0;Kw<Z1.length;Kw++){var Qw=Z1[Kw],k4=Qw.toLowerCase(),C4=Qw[0].toUpperCase()+Qw.slice(1);sl(k4,"on"+C4)}sl(wN,"onAnimationEnd");sl(EN,"onAnimationIteration");sl(IN,"onAnimationStart");sl("dblclick","onDoubleClick");sl("focusin","onFocus");sl("focusout","onBlur");sl(TN,"onTransitionEnd");Od("onMouseEnter",["mouseout","mouseover"]);Od("onMouseLeave",["mouseout","mouseover"]);Od("onPointerEnter",["pointerout","pointerover"]);Od("onPointerLeave",["pointerout","pointerover"]);qu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qu("onBeforeInput",["compositionend","keypress","textInput","paste"]);qu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ef));function ek(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,k$(r,e,void 0,t),t.currentTarget=null}function SN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ek(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ek(i,a,u),s=l}}}if(jy)throw t=o0,jy=!1,o0=null,t}function Pt(t,e){var n=e[g0];n===void 0&&(n=e[g0]=new Set);var r=t+"__bubble";n.has(r)||(AN(e,t,2,!1),n.add(r))}function Yw(t,e,n){var r=0;e&&(r|=4),AN(n,t,r,e)}var Ag="_reactListening"+Math.random().toString(36).slice(2);function cp(t){if(!t[Ag]){t[Ag]=!0,Ox.forEach(function(n){n!=="selectionchange"&&(R4.has(n)||Yw(n,!1,t),Yw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ag]||(e[Ag]=!0,Yw("selectionchange",!1,e))}}function AN(t,e,n,r){switch(uN(e)){case 1:var i=B$;break;case 4:i=q$;break;default:i=xT}n=i.bind(null,e,n,t),i=void 0,!s0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Qx(function(){var u=s,h=kT(n),f=[];e:{var p=bN.get(t);if(p!==void 0){var _=OT,S=t;switch(t){case"keypress":if(oy(n)===0)break e;case"keydown":case"keyup":_=s4;break;case"focusin":S="focus",_=qw;break;case"focusout":S="blur",_=qw;break;case"beforeblur":case"afterblur":_=qw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=G$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=l4;break;case wN:case EN:case IN:_=Y$;break;case TN:_=c4;break;case"scroll":_=W$;break;case"wheel":_=h4;break;case"copy":case"cut":case"paste":_=J$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=q1}var P=(e&4)!==0,R=!P&&t==="scroll",I=P?p!==null?p+"Capture":null:p;P=[];for(var w=u,T;w!==null;){T=w;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,I!==null&&(L=ip(w,I),L!=null&&P.push(dp(w,L,T)))),R)break;w=w.return}0<P.length&&(p=new _(p,S,null,n,h),f.push({event:p,listeners:P}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",p&&n!==r0&&(S=n.relatedTarget||n.fromElement)&&(Yl(S)||S[To]))break e;if((_||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=u,S=S?Yl(S):null,S!==null&&(R=Wu(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=u),_!==S)){if(P=z1,L="onMouseLeave",I="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(P=q1,L="onPointerLeave",I="onPointerEnter",w="pointer"),R=_==null?p:Gc(_),T=S==null?p:Gc(S),p=new P(L,w+"leave",_,n,h),p.target=R,p.relatedTarget=T,L=null,Yl(h)===u&&(P=new P(I,w+"enter",S,n,h),P.target=T,P.relatedTarget=R,L=P),R=L,_&&S)t:{for(P=_,I=S,w=0,T=P;T;T=Tc(T))w++;for(T=0,L=I;L;L=Tc(L))T++;for(;0<w-T;)P=Tc(P),w--;for(;0<T-w;)I=Tc(I),T--;for(;w--;){if(P===I||I!==null&&P===I.alternate)break t;P=Tc(P),I=Tc(I)}P=null}else P=null;_!==null&&tk(f,p,_,P,!1),S!==null&&R!==null&&tk(f,R,S,P,!0)}}e:{if(p=u?Gc(u):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var F=_4;else if(G1(p))if(mN)F=T4;else{F=E4;var B=w4}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=I4);if(F&&(F=F(t,u))){pN(f,F,n,h);break e}B&&B(t,p,u),t==="focusout"&&(B=p._wrapperState)&&B.controlled&&p.type==="number"&&JE(p,"number",p.value)}switch(B=u?Gc(u):window,t){case"focusin":(G1(B)||B.contentEditable==="true")&&(Wc=B,c0=u,Mf=null);break;case"focusout":Mf=c0=Wc=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,J1(f,n,h);break;case"selectionchange":if(A4)break;case"keydown":case"keyup":J1(f,n,h)}var C;if(LT)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qc?hN(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(dN&&n.locale!=="ko"&&(qc||b!=="onCompositionStart"?b==="onCompositionEnd"&&qc&&(C=cN()):(Aa=h,NT="value"in Aa?Aa.value:Aa.textContent,qc=!0)),B=qy(u,b),0<B.length&&(b=new B1(b,t,null,n,h),f.push({event:b,listeners:B}),C?b.data=C:(C=fN(n),C!==null&&(b.data=C)))),(C=p4?m4(t,n):g4(t,n))&&(u=qy(u,"onBeforeInput"),0<u.length&&(h=new B1("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=C))}SN(f,e)})}function dp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ip(t,n),s!=null&&r.unshift(dp(t,s,i)),s=ip(t,e),s!=null&&r.push(dp(t,s,i))),t=t.return}return r}function Tc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tk(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ip(n,s),l!=null&&o.unshift(dp(n,l,a))):i||(l=ip(n,s),l!=null&&o.push(dp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var P4=/\r\n?/g,x4=/\u0000|\uFFFD/g;function nk(t){return(typeof t=="string"?t:""+t).replace(P4,`
`).replace(x4,"")}function kg(t,e,n){if(e=nk(e),nk(t)!==e&&n)throw Error(re(425))}function Wy(){}var h0=null,f0=null;function p0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,N4=typeof clearTimeout=="function"?clearTimeout:void 0,rk=typeof Promise=="function"?Promise:void 0,O4=typeof queueMicrotask=="function"?queueMicrotask:typeof rk<"u"?function(t){return rk.resolve(null).then(t).catch(D4)}:m0;function D4(t){setTimeout(function(){throw t})}function Jw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ap(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ap(e)}function La(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ik(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uh=Math.random().toString(36).slice(2),Is="__reactFiber$"+uh,hp="__reactProps$"+uh,To="__reactContainer$"+uh,g0="__reactEvents$"+uh,L4="__reactListeners$"+uh,M4="__reactHandles$"+uh;function Yl(t){var e=t[Is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[To]||n[Is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ik(t);t!==null;){if(n=t[Is])return n;t=ik(t)}return e}t=n,n=t.parentNode}return null}function sm(t){return t=t[Is]||t[To],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function n_(t){return t[hp]||null}var y0=[],Kc=-1;function ol(t){return{current:t}}function Lt(t){0>Kc||(t.current=y0[Kc],y0[Kc]=null,Kc--)}function Ct(t,e){Kc++,y0[Kc]=t.current,t.current=e}var Wa={},ir=ol(Wa),Ur=ol(!1),Iu=Wa;function Dd(t,e){var n=t.type.contextTypes;if(!n)return Wa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $r(t){return t=t.childContextTypes,t!=null}function Hy(){Lt(Ur),Lt(ir)}function sk(t,e,n){if(ir.current!==Wa)throw Error(re(168));Ct(ir,e),Ct(Ur,n)}function kN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,w$(t)||"Unknown",i));return Ht({},n,r)}function Gy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wa,Iu=ir.current,Ct(ir,t),Ct(Ur,Ur.current),!0}function ok(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=kN(t,e,Iu),r.__reactInternalMemoizedMergedChildContext=t,Lt(Ur),Lt(ir),Ct(ir,t)):Lt(Ur),Ct(Ur,n)}var oo=null,r_=!1,Zw=!1;function CN(t){oo===null?oo=[t]:oo.push(t)}function V4(t){r_=!0,CN(t)}function al(){if(!Zw&&oo!==null){Zw=!0;var t=0,e=_t;try{var n=oo;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oo=null,r_=!1}catch(i){throw oo!==null&&(oo=oo.slice(t+1)),Zx(CT,al),i}finally{_t=e,Zw=!1}}return null}var Qc=[],Yc=0,Ky=null,Qy=0,vi=[],_i=0,Tu=null,lo=1,uo="";function Fl(t,e){Qc[Yc++]=Qy,Qc[Yc++]=Ky,Ky=t,Qy=e}function RN(t,e,n){vi[_i++]=lo,vi[_i++]=uo,vi[_i++]=Tu,Tu=t;var r=lo;t=uo;var i=32-Qi(r)-1;r&=~(1<<i),n+=1;var s=32-Qi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lo=1<<32-Qi(e)+i|n<<i|r,uo=s+t}else lo=1<<s|n<<i|r,uo=t}function VT(t){t.return!==null&&(Fl(t,1),RN(t,1,0))}function FT(t){for(;t===Ky;)Ky=Qc[--Yc],Qc[Yc]=null,Qy=Qc[--Yc],Qc[Yc]=null;for(;t===Tu;)Tu=vi[--_i],vi[_i]=null,uo=vi[--_i],vi[_i]=null,lo=vi[--_i],vi[_i]=null}var Jr=null,Yr=null,Vt=!1,qi=null;function PN(t,e){var n=wi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ak(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jr=t,Yr=La(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jr=t,Yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tu!==null?{id:lo,overflow:uo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jr=t,Yr=null,!0):!1;default:return!1}}function v0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _0(t){if(Vt){var e=Yr;if(e){var n=e;if(!ak(t,e)){if(v0(t))throw Error(re(418));e=La(n.nextSibling);var r=Jr;e&&ak(t,e)?PN(r,n):(t.flags=t.flags&-4097|2,Vt=!1,Jr=t)}}else{if(v0(t))throw Error(re(418));t.flags=t.flags&-4097|2,Vt=!1,Jr=t}}}function lk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jr=t}function Cg(t){if(t!==Jr)return!1;if(!Vt)return lk(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p0(t.type,t.memoizedProps)),e&&(e=Yr)){if(v0(t))throw xN(),Error(re(418));for(;e;)PN(t,e),e=La(e.nextSibling)}if(lk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yr=La(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yr=null}}else Yr=Jr?La(t.stateNode.nextSibling):null;return!0}function xN(){for(var t=Yr;t;)t=La(t.nextSibling)}function Ld(){Yr=Jr=null,Vt=!1}function jT(t){qi===null?qi=[t]:qi.push(t)}var F4=Do.ReactCurrentBatchConfig;function of(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Rg(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uk(t){var e=t._init;return e(t._payload)}function NN(t){function e(I,w){if(t){var T=I.deletions;T===null?(I.deletions=[w],I.flags|=16):T.push(w)}}function n(I,w){if(!t)return null;for(;w!==null;)e(I,w),w=w.sibling;return null}function r(I,w){for(I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function i(I,w){return I=ja(I,w),I.index=0,I.sibling=null,I}function s(I,w,T){return I.index=T,t?(T=I.alternate,T!==null?(T=T.index,T<w?(I.flags|=2,w):T):(I.flags|=2,w)):(I.flags|=1048576,w)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,w,T,L){return w===null||w.tag!==6?(w=oE(T,I.mode,L),w.return=I,w):(w=i(w,T),w.return=I,w)}function l(I,w,T,L){var F=T.type;return F===Bc?h(I,w,T.props.children,L,T.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ca&&uk(F)===w.type)?(L=i(w,T.props),L.ref=of(I,w,T),L.return=I,L):(L=fy(T.type,T.key,T.props,null,I.mode,L),L.ref=of(I,w,T),L.return=I,L)}function u(I,w,T,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=aE(T,I.mode,L),w.return=I,w):(w=i(w,T.children||[]),w.return=I,w)}function h(I,w,T,L,F){return w===null||w.tag!==7?(w=gu(T,I.mode,L,F),w.return=I,w):(w=i(w,T),w.return=I,w)}function f(I,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=oE(""+w,I.mode,T),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vg:return T=fy(w.type,w.key,w.props,null,I.mode,T),T.ref=of(I,null,w),T.return=I,T;case zc:return w=aE(w,I.mode,T),w.return=I,w;case ca:var L=w._init;return f(I,L(w._payload),T)}if(_f(w)||ef(w))return w=gu(w,I.mode,T,null),w.return=I,w;Rg(I,w)}return null}function p(I,w,T,L){var F=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return F!==null?null:a(I,w,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case vg:return T.key===F?l(I,w,T,L):null;case zc:return T.key===F?u(I,w,T,L):null;case ca:return F=T._init,p(I,w,F(T._payload),L)}if(_f(T)||ef(T))return F!==null?null:h(I,w,T,L,null);Rg(I,T)}return null}function _(I,w,T,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return I=I.get(T)||null,a(w,I,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case vg:return I=I.get(L.key===null?T:L.key)||null,l(w,I,L,F);case zc:return I=I.get(L.key===null?T:L.key)||null,u(w,I,L,F);case ca:var B=L._init;return _(I,w,T,B(L._payload),F)}if(_f(L)||ef(L))return I=I.get(T)||null,h(w,I,L,F,null);Rg(w,L)}return null}function S(I,w,T,L){for(var F=null,B=null,C=w,b=w=0,x=null;C!==null&&b<T.length;b++){C.index>b?(x=C,C=null):x=C.sibling;var D=p(I,C,T[b],L);if(D===null){C===null&&(C=x);break}t&&C&&D.alternate===null&&e(I,C),w=s(D,w,b),B===null?F=D:B.sibling=D,B=D,C=x}if(b===T.length)return n(I,C),Vt&&Fl(I,b),F;if(C===null){for(;b<T.length;b++)C=f(I,T[b],L),C!==null&&(w=s(C,w,b),B===null?F=C:B.sibling=C,B=C);return Vt&&Fl(I,b),F}for(C=r(I,C);b<T.length;b++)x=_(C,I,b,T[b],L),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?b:x.key),w=s(x,w,b),B===null?F=x:B.sibling=x,B=x);return t&&C.forEach(function(M){return e(I,M)}),Vt&&Fl(I,b),F}function P(I,w,T,L){var F=ef(T);if(typeof F!="function")throw Error(re(150));if(T=F.call(T),T==null)throw Error(re(151));for(var B=F=null,C=w,b=w=0,x=null,D=T.next();C!==null&&!D.done;b++,D=T.next()){C.index>b?(x=C,C=null):x=C.sibling;var M=p(I,C,D.value,L);if(M===null){C===null&&(C=x);break}t&&C&&M.alternate===null&&e(I,C),w=s(M,w,b),B===null?F=M:B.sibling=M,B=M,C=x}if(D.done)return n(I,C),Vt&&Fl(I,b),F;if(C===null){for(;!D.done;b++,D=T.next())D=f(I,D.value,L),D!==null&&(w=s(D,w,b),B===null?F=D:B.sibling=D,B=D);return Vt&&Fl(I,b),F}for(C=r(I,C);!D.done;b++,D=T.next())D=_(C,I,b,D.value,L),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?b:D.key),w=s(D,w,b),B===null?F=D:B.sibling=D,B=D);return t&&C.forEach(function(V){return e(I,V)}),Vt&&Fl(I,b),F}function R(I,w,T,L){if(typeof T=="object"&&T!==null&&T.type===Bc&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case vg:e:{for(var F=T.key,B=w;B!==null;){if(B.key===F){if(F=T.type,F===Bc){if(B.tag===7){n(I,B.sibling),w=i(B,T.props.children),w.return=I,I=w;break e}}else if(B.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ca&&uk(F)===B.type){n(I,B.sibling),w=i(B,T.props),w.ref=of(I,B,T),w.return=I,I=w;break e}n(I,B);break}else e(I,B);B=B.sibling}T.type===Bc?(w=gu(T.props.children,I.mode,L,T.key),w.return=I,I=w):(L=fy(T.type,T.key,T.props,null,I.mode,L),L.ref=of(I,w,T),L.return=I,I=L)}return o(I);case zc:e:{for(B=T.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(I,w.sibling),w=i(w,T.children||[]),w.return=I,I=w;break e}else{n(I,w);break}else e(I,w);w=w.sibling}w=aE(T,I.mode,L),w.return=I,I=w}return o(I);case ca:return B=T._init,R(I,w,B(T._payload),L)}if(_f(T))return S(I,w,T,L);if(ef(T))return P(I,w,T,L);Rg(I,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(I,w.sibling),w=i(w,T),w.return=I,I=w):(n(I,w),w=oE(T,I.mode,L),w.return=I,I=w),o(I)):n(I,w)}return R}var Md=NN(!0),ON=NN(!1),Yy=ol(null),Xy=null,Xc=null,UT=null;function $T(){UT=Xc=Xy=null}function zT(t){var e=Yy.current;Lt(Yy),t._currentValue=e}function w0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ud(t,e){Xy=t,UT=Xc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mr=!0),t.firstContext=null)}function bi(t){var e=t._currentValue;if(UT!==t)if(t={context:t,memoizedValue:e,next:null},Xc===null){if(Xy===null)throw Error(re(308));Xc=t,Xy.dependencies={lanes:0,firstContext:t}}else Xc=Xc.next=t;return e}var Xl=null;function BT(t){Xl===null?Xl=[t]:Xl.push(t)}function DN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,BT(e)):(n.next=i.next,i.next=n),e.interleaved=n,bo(t,r)}function bo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var da=!1;function qT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,bo(t,n)}return i=r.interleaved,i===null?(e.next=e,BT(r)):(e.next=i.next,i.next=e),r.interleaved=e,bo(t,n)}function ay(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RT(t,n)}}function ck(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jy(t,e,n,r){var i=t.updateQueue;da=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,_=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,P=a;switch(p=e,_=n,P.tag){case 1:if(S=P.payload,typeof S=="function"){f=S.call(_,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=P.payload,p=typeof S=="function"?S.call(_,f,p):S,p==null)break e;f=Ht({},f,p);break e;case 2:da=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else _={eventTime:_,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=_,l=f):h=h.next=_,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Su|=o,t.lanes=o,t.memoizedState=f}}function dk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var om={},Ds=ol(om),fp=ol(om),pp=ol(om);function Jl(t){if(t===om)throw Error(re(174));return t}function WT(t,e){switch(Ct(pp,e),Ct(fp,t),Ct(Ds,om),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e0(e,t)}Lt(Ds),Ct(Ds,e)}function Vd(){Lt(Ds),Lt(fp),Lt(pp)}function MN(t){Jl(pp.current);var e=Jl(Ds.current),n=e0(e,t.type);e!==n&&(Ct(fp,t),Ct(Ds,n))}function HT(t){fp.current===t&&(Lt(Ds),Lt(fp))}var zt=ol(0);function Zy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eE=[];function GT(){for(var t=0;t<eE.length;t++)eE[t]._workInProgressVersionPrimary=null;eE.length=0}var ly=Do.ReactCurrentDispatcher,tE=Do.ReactCurrentBatchConfig,bu=0,qt=null,wn=null,On=null,ev=!1,Vf=!1,mp=0,j4=0;function Zn(){throw Error(re(321))}function KT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xi(t[n],e[n]))return!1;return!0}function QT(t,e,n,r,i,s){if(bu=s,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ly.current=t===null||t.memoizedState===null?B4:q4,t=n(r,i),Vf){s=0;do{if(Vf=!1,mp=0,25<=s)throw Error(re(301));s+=1,On=wn=null,e.updateQueue=null,ly.current=W4,t=n(r,i)}while(Vf)}if(ly.current=tv,e=wn!==null&&wn.next!==null,bu=0,On=wn=qt=null,ev=!1,e)throw Error(re(300));return t}function YT(){var t=mp!==0;return mp=0,t}function ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?qt.memoizedState=On=t:On=On.next=t,On}function Si(){if(wn===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=On===null?qt.memoizedState:On.next;if(e!==null)On=e,wn=t;else{if(t===null)throw Error(re(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},On===null?qt.memoizedState=On=t:On=On.next=t}return On}function gp(t,e){return typeof e=="function"?e(t):e}function nE(t){var e=Si(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=wn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((bu&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,qt.lanes|=h,Su|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Xi(r,e.memoizedState)||(Mr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qt.lanes|=s,Su|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rE(t){var e=Si(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xi(s,e.memoizedState)||(Mr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VN(){}function FN(t,e){var n=qt,r=Si(),i=e(),s=!Xi(r.memoizedState,i);if(s&&(r.memoizedState=i,Mr=!0),r=r.queue,XT($N.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||On!==null&&On.memoizedState.tag&1){if(n.flags|=2048,yp(9,UN.bind(null,n,r,i,e),void 0,null),Ln===null)throw Error(re(349));bu&30||jN(n,e,i)}return i}function jN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UN(t,e,n,r){e.value=n,e.getSnapshot=r,zN(e)&&BN(t)}function $N(t,e,n){return n(function(){zN(e)&&BN(t)})}function zN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xi(t,n)}catch{return!0}}function BN(t){var e=bo(t,1);e!==null&&Yi(e,t,1,-1)}function hk(t){var e=ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:t},e.queue=t,t=t.dispatch=z4.bind(null,qt,t),[e.memoizedState,t]}function yp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qN(){return Si().memoizedState}function uy(t,e,n,r){var i=ps();qt.flags|=t,i.memoizedState=yp(1|e,n,void 0,r===void 0?null:r)}function i_(t,e,n,r){var i=Si();r=r===void 0?null:r;var s=void 0;if(wn!==null){var o=wn.memoizedState;if(s=o.destroy,r!==null&&KT(r,o.deps)){i.memoizedState=yp(e,n,s,r);return}}qt.flags|=t,i.memoizedState=yp(1|e,n,s,r)}function fk(t,e){return uy(8390656,8,t,e)}function XT(t,e){return i_(2048,8,t,e)}function WN(t,e){return i_(4,2,t,e)}function HN(t,e){return i_(4,4,t,e)}function GN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KN(t,e,n){return n=n!=null?n.concat([t]):null,i_(4,4,GN.bind(null,e,t),n)}function JT(){}function QN(t,e){var n=Si();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YN(t,e){var n=Si();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&KT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XN(t,e,n){return bu&21?(Xi(n,e)||(n=nN(),qt.lanes|=n,Su|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mr=!0),t.memoizedState=n)}function U4(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=tE.transition;tE.transition={};try{t(!1),e()}finally{_t=n,tE.transition=r}}function JN(){return Si().memoizedState}function $4(t,e,n){var r=Fa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZN(t))eO(e,n);else if(n=DN(t,e,n,r),n!==null){var i=gr();Yi(n,t,r,i),tO(n,e,r)}}function z4(t,e,n){var r=Fa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZN(t))eO(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xi(a,o)){var l=e.interleaved;l===null?(i.next=i,BT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=DN(t,e,i,r),n!==null&&(i=gr(),Yi(n,t,r,i),tO(n,e,r))}}function ZN(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function eO(t,e){Vf=ev=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,RT(t,n)}}var tv={readContext:bi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},B4={readContext:bi,useCallback:function(t,e){return ps().memoizedState=[t,e===void 0?null:e],t},useContext:bi,useEffect:fk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uy(4194308,4,GN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uy(4194308,4,t,e)},useInsertionEffect:function(t,e){return uy(4,2,t,e)},useMemo:function(t,e){var n=ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$4.bind(null,qt,t),[r.memoizedState,t]},useRef:function(t){var e=ps();return t={current:t},e.memoizedState=t},useState:hk,useDebugValue:JT,useDeferredValue:function(t){return ps().memoizedState=t},useTransition:function(){var t=hk(!1),e=t[0];return t=U4.bind(null,t[1]),ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qt,i=ps();if(Vt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),Ln===null)throw Error(re(349));bu&30||jN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,fk($N.bind(null,r,s,t),[t]),r.flags|=2048,yp(9,UN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ps(),e=Ln.identifierPrefix;if(Vt){var n=uo,r=lo;n=(r&~(1<<32-Qi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q4={readContext:bi,useCallback:QN,useContext:bi,useEffect:XT,useImperativeHandle:KN,useInsertionEffect:WN,useLayoutEffect:HN,useMemo:YN,useReducer:nE,useRef:qN,useState:function(){return nE(gp)},useDebugValue:JT,useDeferredValue:function(t){var e=Si();return XN(e,wn.memoizedState,t)},useTransition:function(){var t=nE(gp)[0],e=Si().memoizedState;return[t,e]},useMutableSource:VN,useSyncExternalStore:FN,useId:JN,unstable_isNewReconciler:!1},W4={readContext:bi,useCallback:QN,useContext:bi,useEffect:XT,useImperativeHandle:KN,useInsertionEffect:WN,useLayoutEffect:HN,useMemo:YN,useReducer:rE,useRef:qN,useState:function(){return rE(gp)},useDebugValue:JT,useDeferredValue:function(t){var e=Si();return wn===null?e.memoizedState=t:XN(e,wn.memoizedState,t)},useTransition:function(){var t=rE(gp)[0],e=Si().memoizedState;return[t,e]},useMutableSource:VN,useSyncExternalStore:FN,useId:JN,unstable_isNewReconciler:!1};function $i(t,e){if(t&&t.defaultProps){e=Ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function E0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var s_={isMounted:function(t){return(t=t._reactInternals)?Wu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gr(),i=Fa(t),s=vo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ma(t,s,i),e!==null&&(Yi(e,t,i,r),ay(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gr(),i=Fa(t),s=vo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ma(t,s,i),e!==null&&(Yi(e,t,i,r),ay(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gr(),r=Fa(t),i=vo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ma(t,i,r),e!==null&&(Yi(e,t,r,n),ay(e,t,r))}};function pk(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!up(n,r)||!up(i,s):!0}function nO(t,e,n){var r=!1,i=Wa,s=e.contextType;return typeof s=="object"&&s!==null?s=bi(s):(i=$r(e)?Iu:ir.current,r=e.contextTypes,s=(r=r!=null)?Dd(t,i):Wa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=s_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&s_.enqueueReplaceState(e,e.state,null)}function I0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bi(s):(s=$r(e)?Iu:ir.current,i.context=Dd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(E0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&s_.enqueueReplaceState(i,i.state,null),Jy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fd(t,e){try{var n="",r=e;do n+=_$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function iE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function T0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H4=typeof WeakMap=="function"?WeakMap:Map;function rO(t,e,n){n=vo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rv||(rv=!0,O0=r),T0(t,e)},n}function iO(t,e,n){n=vo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){T0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){T0(t,e),typeof r!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oz.bind(null,t,e,n),e.then(t,t))}function yk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vo(-1,1),e.tag=2,Ma(n,e,1))),n.lanes|=1),t)}var G4=Do.ReactCurrentOwner,Mr=!1;function hr(t,e,n,r){e.child=t===null?ON(e,null,n,r):Md(e,t.child,n,r)}function _k(t,e,n,r,i){n=n.render;var s=e.ref;return ud(e,i),r=QT(t,e,n,r,s,i),n=YT(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,So(t,e,i)):(Vt&&n&&VT(e),e.flags|=1,hr(t,e,r,i),e.child)}function wk(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ob(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sO(t,e,s,r,i)):(t=fy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:up,n(o,r)&&t.ref===e.ref)return So(t,e,i)}return e.flags|=1,t=ja(s,r),t.ref=e.ref,t.return=e,e.child=t}function sO(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(up(s,r)&&t.ref===e.ref)if(Mr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mr=!0);else return e.lanes=t.lanes,So(t,e,i)}return b0(t,e,n,r,i)}function oO(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Zc,Kr),Kr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ct(Zc,Kr),Kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ct(Zc,Kr),Kr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ct(Zc,Kr),Kr|=r;return hr(t,e,i,n),e.child}function aO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function b0(t,e,n,r,i){var s=$r(n)?Iu:ir.current;return s=Dd(e,s),ud(e,i),n=QT(t,e,n,r,s,i),r=YT(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,So(t,e,i)):(Vt&&r&&VT(e),e.flags|=1,hr(t,e,n,i),e.child)}function Ek(t,e,n,r,i){if($r(n)){var s=!0;Gy(e)}else s=!1;if(ud(e,i),e.stateNode===null)cy(t,e),nO(e,n,r),I0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bi(u):(u=$r(n)?Iu:ir.current,u=Dd(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&mk(e,o,r,u),da=!1;var p=e.memoizedState;o.state=p,Jy(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ur.current||da?(typeof h=="function"&&(E0(e,n,h,r),l=e.memoizedState),(a=da||pk(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$i(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bi(l):(l=$r(n)?Iu:ir.current,l=Dd(e,l));var _=n.getDerivedStateFromProps;(h=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&mk(e,o,r,l),da=!1,p=e.memoizedState,o.state=p,Jy(e,r,o,i);var S=e.memoizedState;a!==f||p!==S||Ur.current||da?(typeof _=="function"&&(E0(e,n,_,r),S=e.memoizedState),(u=da||pk(e,n,u,r,p,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return S0(t,e,n,r,s,i)}function S0(t,e,n,r,i,s){aO(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ok(e,n,!1),So(t,e,s);r=e.stateNode,G4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Md(e,t.child,null,s),e.child=Md(e,null,a,s)):hr(t,e,a,s),e.memoizedState=r.state,i&&ok(e,n,!0),e.child}function lO(t){var e=t.stateNode;e.pendingContext?sk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sk(t,e.context,!1),WT(t,e.containerInfo)}function Ik(t,e,n,r,i){return Ld(),jT(i),e.flags|=256,hr(t,e,n,r),e.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function k0(t){return{baseLanes:t,cachePool:null,transitions:null}}function uO(t,e,n){var r=e.pendingProps,i=zt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ct(zt,i&1),t===null)return _0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=l_(o,r,0,null),t=gu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=k0(n),e.memoizedState=A0,t):ZT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return K4(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ja(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ja(a,s):(s=gu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?k0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=A0,r}return s=t.child,t=s.sibling,r=ja(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ZT(t,e){return e=l_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pg(t,e,n,r){return r!==null&&jT(r),Md(e,t.child,null,n),t=ZT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function K4(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=iE(Error(re(422))),Pg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=l_({mode:"visible",children:r.children},i,0,null),s=gu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Md(e,t.child,null,o),e.child.memoizedState=k0(o),e.memoizedState=A0,s);if(!(e.mode&1))return Pg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(re(419)),r=iE(s,r,void 0),Pg(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mr||a){if(r=Ln,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bo(t,i),Yi(r,t,i,-1))}return sb(),r=iE(Error(re(421))),Pg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=az.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yr=La(i.nextSibling),Jr=e,Vt=!0,qi=null,t!==null&&(vi[_i++]=lo,vi[_i++]=uo,vi[_i++]=Tu,lo=t.id,uo=t.overflow,Tu=e),e=ZT(e,r.children),e.flags|=4096,e)}function Tk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),w0(t.return,e,n)}function sE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cO(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hr(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tk(t,n,e);else if(t.tag===19)Tk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct(zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),sE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}sE(e,!0,n,null,s);break;case"together":sE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function So(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Su|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=ja(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ja(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q4(t,e,n){switch(e.tag){case 3:lO(e),Ld();break;case 5:MN(e);break;case 1:$r(e.type)&&Gy(e);break;case 4:WT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ct(Yy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ct(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?uO(t,e,n):(Ct(zt,zt.current&1),t=So(t,e,n),t!==null?t.sibling:null);Ct(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ct(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,oO(t,e,n)}return So(t,e,n)}var dO,C0,hO,fO;dO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};hO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jl(Ds.current);var s=null;switch(n){case"input":i=YE(t,i),r=YE(t,r),s=[];break;case"select":i=Ht({},i,{value:void 0}),r=Ht({},r,{value:void 0}),s=[];break;case"textarea":i=ZE(t,i),r=ZE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wy)}t0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(np.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(np.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};fO=function(t,e,n,r){n!==r&&(e.flags|=4)};function af(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Y4(t,e,n){var r=e.pendingProps;switch(FT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(e),null;case 1:return $r(e.type)&&Hy(),er(e),null;case 3:return r=e.stateNode,Vd(),Lt(Ur),Lt(ir),GT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qi!==null&&(M0(qi),qi=null))),C0(t,e),er(e),null;case 5:HT(e);var i=Jl(pp.current);if(n=e.type,t!==null&&e.stateNode!=null)hO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return er(e),null}if(t=Jl(Ds.current),Cg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Is]=e,r[hp]=s,t=(e.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<Ef.length;i++)Pt(Ef[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":N1(r,s),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pt("invalid",r);break;case"textarea":D1(r,s),Pt("invalid",r)}t0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&kg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kg(r.textContent,a,t),i=["children",""+a]):np.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pt("scroll",r)}switch(n){case"input":_g(r),O1(r,s,!0);break;case"textarea":_g(r),L1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$x(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Is]=e,t[hp]=r,dO(t,e,!1,!1),e.stateNode=t;e:{switch(o=n0(n,r),n){case"dialog":Pt("cancel",t),Pt("close",t),i=r;break;case"iframe":case"object":case"embed":Pt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ef.length;i++)Pt(Ef[i],t);i=r;break;case"source":Pt("error",t),i=r;break;case"img":case"image":case"link":Pt("error",t),Pt("load",t),i=r;break;case"details":Pt("toggle",t),i=r;break;case"input":N1(t,r),i=YE(t,r),Pt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ht({},r,{value:void 0}),Pt("invalid",t);break;case"textarea":D1(t,r),i=ZE(t,r),Pt("invalid",t);break;default:i=r}t0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rp(t,l):typeof l=="number"&&rp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(np.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pt("scroll",t):l!=null&&TT(t,s,l,o))}switch(n){case"input":_g(t),O1(t,r,!1);break;case"textarea":_g(t),L1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?sd(t,!!r.multiple,s,!1):r.defaultValue!=null&&sd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return er(e),null;case 6:if(t&&e.stateNode!=null)fO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=Jl(pp.current),Jl(Ds.current),Cg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Is]=e,(s=r.nodeValue!==n)&&(t=Jr,t!==null))switch(t.tag){case 3:kg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kg(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Is]=e,e.stateNode=r}return er(e),null;case 13:if(Lt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&Yr!==null&&e.mode&1&&!(e.flags&128))xN(),Ld(),e.flags|=98560,s=!1;else if(s=Cg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Is]=e}else Ld(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;er(e),s=!1}else qi!==null&&(M0(qi),qi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?bn===0&&(bn=3):sb())),e.updateQueue!==null&&(e.flags|=4),er(e),null);case 4:return Vd(),C0(t,e),t===null&&cp(e.stateNode.containerInfo),er(e),null;case 10:return zT(e.type._context),er(e),null;case 17:return $r(e.type)&&Hy(),er(e),null;case 19:if(Lt(zt),s=e.memoizedState,s===null)return er(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)af(s,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zy(t),o!==null){for(e.flags|=128,af(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ct(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ln()>jd&&(e.flags|=128,r=!0,af(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),af(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Vt)return er(e),null}else 2*ln()-s.renderingStartTime>jd&&n!==1073741824&&(e.flags|=128,r=!0,af(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ln(),e.sibling=null,n=zt.current,Ct(zt,r?n&1|2:n&1),e):(er(e),null);case 22:case 23:return ib(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kr&1073741824&&(er(e),e.subtreeFlags&6&&(e.flags|=8192)):er(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function X4(t,e){switch(FT(e),e.tag){case 1:return $r(e.type)&&Hy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vd(),Lt(Ur),Lt(ir),GT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return HT(e),null;case 13:if(Lt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ld()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(zt),null;case 4:return Vd(),null;case 10:return zT(e.type._context),null;case 22:case 23:return ib(),null;case 24:return null;default:return null}}var xg=!1,rr=!1,J4=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Jc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yt(t,e,r)}else n.current=null}function R0(t,e,n){try{n()}catch(r){Yt(t,e,r)}}var bk=!1;function Z4(t,e){if(h0=zy,t=vN(),MT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,p=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)p=f,f=_;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++h===r&&(l=o),(_=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(f0={focusedElem:t,selectionRange:n},zy=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var P=S.memoizedProps,R=S.memoizedState,I=e.stateNode,w=I.getSnapshotBeforeUpdate(e.elementType===e.type?P:$i(e.type,P),R);I.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(L){Yt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return S=bk,bk=!1,S}function Ff(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&R0(e,n,s)}i=i.next}while(i!==r)}}function o_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function P0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pO(t){var e=t.alternate;e!==null&&(t.alternate=null,pO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Is],delete e[hp],delete e[g0],delete e[L4],delete e[M4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mO(t){return t.tag===5||t.tag===3||t.tag===4}function Sk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wy));else if(r!==4&&(t=t.child,t!==null))for(x0(t,e,n),t=t.sibling;t!==null;)x0(t,e,n),t=t.sibling}function N0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(N0(t,e,n),t=t.sibling;t!==null;)N0(t,e,n),t=t.sibling}var zn=null,Bi=!1;function ra(t,e,n){for(n=n.child;n!==null;)gO(t,e,n),n=n.sibling}function gO(t,e,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(Jv,n)}catch{}switch(n.tag){case 5:rr||Jc(n,e);case 6:var r=zn,i=Bi;zn=null,ra(t,e,n),zn=r,Bi=i,zn!==null&&(Bi?(t=zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(Bi?(t=zn,n=n.stateNode,t.nodeType===8?Jw(t.parentNode,n):t.nodeType===1&&Jw(t,n),ap(t)):Jw(zn,n.stateNode));break;case 4:r=zn,i=Bi,zn=n.stateNode.containerInfo,Bi=!0,ra(t,e,n),zn=r,Bi=i;break;case 0:case 11:case 14:case 15:if(!rr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&R0(n,e,o),i=i.next}while(i!==r)}ra(t,e,n);break;case 1:if(!rr&&(Jc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Yt(n,e,a)}ra(t,e,n);break;case 21:ra(t,e,n);break;case 22:n.mode&1?(rr=(r=rr)||n.memoizedState!==null,ra(t,e,n),rr=r):ra(t,e,n);break;default:ra(t,e,n)}}function Ak(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new J4),e.forEach(function(r){var i=lz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:zn=a.stateNode,Bi=!1;break e;case 3:zn=a.stateNode.containerInfo,Bi=!0;break e;case 4:zn=a.stateNode.containerInfo,Bi=!0;break e}a=a.return}if(zn===null)throw Error(re(160));gO(s,o,i),zn=null,Bi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yO(e,t),e=e.sibling}function yO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ui(e,t),hs(t),r&4){try{Ff(3,t,t.return),o_(3,t)}catch(P){Yt(t,t.return,P)}try{Ff(5,t,t.return)}catch(P){Yt(t,t.return,P)}}break;case 1:Ui(e,t),hs(t),r&512&&n!==null&&Jc(n,n.return);break;case 5:if(Ui(e,t),hs(t),r&512&&n!==null&&Jc(n,n.return),t.flags&32){var i=t.stateNode;try{rp(i,"")}catch(P){Yt(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jx(i,s),n0(a,o);var u=n0(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?qx(i,f):h==="dangerouslySetInnerHTML"?zx(i,f):h==="children"?rp(i,f):TT(i,h,f,u)}switch(a){case"input":XE(i,s);break;case"textarea":Ux(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?sd(i,!!s.multiple,_,!1):p!==!!s.multiple&&(s.defaultValue!=null?sd(i,!!s.multiple,s.defaultValue,!0):sd(i,!!s.multiple,s.multiple?[]:"",!1))}i[hp]=s}catch(P){Yt(t,t.return,P)}}break;case 6:if(Ui(e,t),hs(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){Yt(t,t.return,P)}}break;case 3:if(Ui(e,t),hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ap(e.containerInfo)}catch(P){Yt(t,t.return,P)}break;case 4:Ui(e,t),hs(t);break;case 13:Ui(e,t),hs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nb=ln())),r&4&&Ak(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(rr=(u=rr)||h,Ui(e,t),rr=u):Ui(e,t),hs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Ee=t,h=t.child;h!==null;){for(f=Ee=h;Ee!==null;){switch(p=Ee,_=p.child,p.tag){case 0:case 11:case 14:case 15:Ff(4,p,p.return);break;case 1:Jc(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(P){Yt(r,n,P)}}break;case 5:Jc(p,p.return);break;case 22:if(p.memoizedState!==null){Ck(f);continue}}_!==null?(_.return=p,Ee=_):Ck(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Bx("display",o))}catch(P){Yt(t,t.return,P)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(P){Yt(t,t.return,P)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ui(e,t),hs(t),r&4&&Ak(t);break;case 21:break;default:Ui(e,t),hs(t)}}function hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mO(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rp(i,""),r.flags&=-33);var s=Sk(t);N0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Sk(t);x0(t,a,o);break;default:throw Error(re(161))}}catch(l){Yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ez(t,e,n){Ee=t,vO(t)}function vO(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rr;a=xg;var u=rr;if(xg=o,(rr=l)&&!u)for(Ee=i;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?Rk(i):l!==null?(l.return=o,Ee=l):Rk(i);for(;s!==null;)Ee=s,vO(s),s=s.sibling;Ee=i,xg=a,rr=u}kk(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):kk(t)}}function kk(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rr||o_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$i(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dk(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dk(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ap(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}rr||e.flags&512&&P0(e)}catch(p){Yt(e,e.return,p)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function Ck(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function Rk(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{o_(4,e)}catch(l){Yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yt(e,i,l)}}var s=e.return;try{P0(e)}catch(l){Yt(e,s,l)}break;case 5:var o=e.return;try{P0(e)}catch(l){Yt(e,o,l)}}}catch(l){Yt(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var tz=Math.ceil,nv=Do.ReactCurrentDispatcher,eb=Do.ReactCurrentOwner,Ii=Do.ReactCurrentBatchConfig,at=0,Ln=null,gn=null,Wn=0,Kr=0,Zc=ol(0),bn=0,vp=null,Su=0,a_=0,tb=0,jf=null,Or=null,nb=0,jd=1/0,so=null,rv=!1,O0=null,Va=null,Ng=!1,ka=null,iv=0,Uf=0,D0=null,dy=-1,hy=0;function gr(){return at&6?ln():dy!==-1?dy:dy=ln()}function Fa(t){return t.mode&1?at&2&&Wn!==0?Wn&-Wn:F4.transition!==null?(hy===0&&(hy=nN()),hy):(t=_t,t!==0||(t=window.event,t=t===void 0?16:uN(t.type)),t):1}function Yi(t,e,n,r){if(50<Uf)throw Uf=0,D0=null,Error(re(185));rm(t,n,r),(!(at&2)||t!==Ln)&&(t===Ln&&(!(at&2)&&(a_|=n),bn===4&&pa(t,Wn)),zr(t,r),n===1&&at===0&&!(e.mode&1)&&(jd=ln()+500,r_&&al()))}function zr(t,e){var n=t.callbackNode;F$(t,e);var r=$y(t,t===Ln?Wn:0);if(r===0)n!==null&&F1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&F1(n),e===1)t.tag===0?V4(Pk.bind(null,t)):CN(Pk.bind(null,t)),O4(function(){!(at&6)&&al()}),n=null;else{switch(rN(r)){case 1:n=CT;break;case 4:n=eN;break;case 16:n=Uy;break;case 536870912:n=tN;break;default:n=Uy}n=AO(n,_O.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _O(t,e){if(dy=-1,hy=0,at&6)throw Error(re(327));var n=t.callbackNode;if(cd()&&t.callbackNode!==n)return null;var r=$y(t,t===Ln?Wn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sv(t,r);else{e=r;var i=at;at|=2;var s=EO();(Ln!==t||Wn!==e)&&(so=null,jd=ln()+500,mu(t,e));do try{iz();break}catch(a){wO(t,a)}while(!0);$T(),nv.current=s,at=i,gn!==null?e=0:(Ln=null,Wn=0,e=bn)}if(e!==0){if(e===2&&(i=a0(t),i!==0&&(r=i,e=L0(t,i))),e===1)throw n=vp,mu(t,0),pa(t,r),zr(t,ln()),n;if(e===6)pa(t,r);else{if(i=t.current.alternate,!(r&30)&&!nz(i)&&(e=sv(t,r),e===2&&(s=a0(t),s!==0&&(r=s,e=L0(t,s))),e===1))throw n=vp,mu(t,0),pa(t,r),zr(t,ln()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:jl(t,Or,so);break;case 3:if(pa(t,r),(r&130023424)===r&&(e=nb+500-ln(),10<e)){if($y(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=m0(jl.bind(null,t,Or,so),e);break}jl(t,Or,so);break;case 4:if(pa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tz(r/1960))-r,10<r){t.timeoutHandle=m0(jl.bind(null,t,Or,so),r);break}jl(t,Or,so);break;case 5:jl(t,Or,so);break;default:throw Error(re(329))}}}return zr(t,ln()),t.callbackNode===n?_O.bind(null,t):null}function L0(t,e){var n=jf;return t.current.memoizedState.isDehydrated&&(mu(t,e).flags|=256),t=sv(t,e),t!==2&&(e=Or,Or=n,e!==null&&M0(e)),t}function M0(t){Or===null?Or=t:Or.push.apply(Or,t)}function nz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pa(t,e){for(e&=~tb,e&=~a_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qi(e),r=1<<n;t[n]=-1,e&=~r}}function Pk(t){if(at&6)throw Error(re(327));cd();var e=$y(t,0);if(!(e&1))return zr(t,ln()),null;var n=sv(t,e);if(t.tag!==0&&n===2){var r=a0(t);r!==0&&(e=r,n=L0(t,r))}if(n===1)throw n=vp,mu(t,0),pa(t,e),zr(t,ln()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jl(t,Or,so),zr(t,ln()),null}function rb(t,e){var n=at;at|=1;try{return t(e)}finally{at=n,at===0&&(jd=ln()+500,r_&&al())}}function Au(t){ka!==null&&ka.tag===0&&!(at&6)&&cd();var e=at;at|=1;var n=Ii.transition,r=_t;try{if(Ii.transition=null,_t=1,t)return t()}finally{_t=r,Ii.transition=n,at=e,!(at&6)&&al()}}function ib(){Kr=Zc.current,Lt(Zc)}function mu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N4(n)),gn!==null)for(n=gn.return;n!==null;){var r=n;switch(FT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hy();break;case 3:Vd(),Lt(Ur),Lt(ir),GT();break;case 5:HT(r);break;case 4:Vd();break;case 13:Lt(zt);break;case 19:Lt(zt);break;case 10:zT(r.type._context);break;case 22:case 23:ib()}n=n.return}if(Ln=t,gn=t=ja(t.current,null),Wn=Kr=e,bn=0,vp=null,tb=a_=Su=0,Or=jf=null,Xl!==null){for(e=0;e<Xl.length;e++)if(n=Xl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xl=null}return t}function wO(t,e){do{var n=gn;try{if($T(),ly.current=tv,ev){for(var r=qt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ev=!1}if(bu=0,On=wn=qt=null,Vf=!1,mp=0,eb.current=null,n===null||n.return===null){bn=1,vp=e,gn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Wn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=yk(o);if(_!==null){_.flags&=-257,vk(_,o,a,s,e),_.mode&1&&gk(s,u,e),e=_,l=u;var S=e.updateQueue;if(S===null){var P=new Set;P.add(l),e.updateQueue=P}else S.add(l);break e}else{if(!(e&1)){gk(s,u,e),sb();break e}l=Error(re(426))}}else if(Vt&&a.mode&1){var R=yk(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),vk(R,o,a,s,e),jT(Fd(l,a));break e}}s=l=Fd(l,a),bn!==4&&(bn=2),jf===null?jf=[s]:jf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=rO(s,l,e);ck(s,I);break e;case 1:a=l;var w=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Va===null||!Va.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=iO(s,a,e);ck(s,L);break e}}s=s.return}while(s!==null)}TO(n)}catch(F){e=F,gn===n&&n!==null&&(gn=n=n.return);continue}break}while(!0)}function EO(){var t=nv.current;return nv.current=tv,t===null?tv:t}function sb(){(bn===0||bn===3||bn===2)&&(bn=4),Ln===null||!(Su&268435455)&&!(a_&268435455)||pa(Ln,Wn)}function sv(t,e){var n=at;at|=2;var r=EO();(Ln!==t||Wn!==e)&&(so=null,mu(t,e));do try{rz();break}catch(i){wO(t,i)}while(!0);if($T(),at=n,nv.current=r,gn!==null)throw Error(re(261));return Ln=null,Wn=0,bn}function rz(){for(;gn!==null;)IO(gn)}function iz(){for(;gn!==null&&!R$();)IO(gn)}function IO(t){var e=SO(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,e===null?TO(t):gn=e,eb.current=null}function TO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=X4(n,e),n!==null){n.flags&=32767,gn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,gn=null;return}}else if(n=Y4(n,e,Kr),n!==null){gn=n;return}if(e=e.sibling,e!==null){gn=e;return}gn=e=t}while(e!==null);bn===0&&(bn=5)}function jl(t,e,n){var r=_t,i=Ii.transition;try{Ii.transition=null,_t=1,sz(t,e,n,r)}finally{Ii.transition=i,_t=r}return null}function sz(t,e,n,r){do cd();while(ka!==null);if(at&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(j$(t,s),t===Ln&&(gn=Ln=null,Wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ng||(Ng=!0,AO(Uy,function(){return cd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ii.transition,Ii.transition=null;var o=_t;_t=1;var a=at;at|=4,eb.current=null,Z4(t,n),yO(n,t),S4(f0),zy=!!h0,f0=h0=null,t.current=n,ez(n),P$(),at=a,_t=o,Ii.transition=s}else t.current=n;if(Ng&&(Ng=!1,ka=t,iv=i),s=t.pendingLanes,s===0&&(Va=null),O$(n.stateNode),zr(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rv)throw rv=!1,t=O0,O0=null,t;return iv&1&&t.tag!==0&&cd(),s=t.pendingLanes,s&1?t===D0?Uf++:(Uf=0,D0=t):Uf=0,al(),null}function cd(){if(ka!==null){var t=rN(iv),e=Ii.transition,n=_t;try{if(Ii.transition=null,_t=16>t?16:t,ka===null)var r=!1;else{if(t=ka,ka=null,iv=0,at&6)throw Error(re(331));var i=at;for(at|=4,Ee=t.current;Ee!==null;){var s=Ee,o=s.child;if(Ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ee=u;Ee!==null;){var h=Ee;switch(h.tag){case 0:case 11:case 15:Ff(8,h,s)}var f=h.child;if(f!==null)f.return=h,Ee=f;else for(;Ee!==null;){h=Ee;var p=h.sibling,_=h.return;if(pO(h),h===u){Ee=null;break}if(p!==null){p.return=_,Ee=p;break}Ee=_}}}var S=s.alternate;if(S!==null){var P=S.child;if(P!==null){S.child=null;do{var R=P.sibling;P.sibling=null,P=R}while(P!==null)}}Ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ee=o;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ff(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,Ee=I;break e}Ee=s.return}}var w=t.current;for(Ee=w;Ee!==null;){o=Ee;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Ee=T;else e:for(o=w;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:o_(9,a)}}catch(F){Yt(a,a.return,F)}if(a===o){Ee=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,Ee=L;break e}Ee=a.return}}if(at=i,al(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(Jv,t)}catch{}r=!0}return r}finally{_t=n,Ii.transition=e}}return!1}function xk(t,e,n){e=Fd(n,e),e=rO(t,e,1),t=Ma(t,e,1),e=gr(),t!==null&&(rm(t,1,e),zr(t,e))}function Yt(t,e,n){if(t.tag===3)xk(t,t,n);else for(;e!==null;){if(e.tag===3){xk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Va===null||!Va.has(r))){t=Fd(n,t),t=iO(e,t,1),e=Ma(e,t,1),t=gr(),e!==null&&(rm(e,1,t),zr(e,t));break}}e=e.return}}function oz(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gr(),t.pingedLanes|=t.suspendedLanes&n,Ln===t&&(Wn&n)===n&&(bn===4||bn===3&&(Wn&130023424)===Wn&&500>ln()-nb?mu(t,0):tb|=n),zr(t,e)}function bO(t,e){e===0&&(t.mode&1?(e=Ig,Ig<<=1,!(Ig&130023424)&&(Ig=4194304)):e=1);var n=gr();t=bo(t,e),t!==null&&(rm(t,e,n),zr(t,n))}function az(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bO(t,n)}function lz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),bO(t,n)}var SO;SO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ur.current)Mr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mr=!1,Q4(t,e,n);Mr=!!(t.flags&131072)}else Mr=!1,Vt&&e.flags&1048576&&RN(e,Qy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cy(t,e),t=e.pendingProps;var i=Dd(e,ir.current);ud(e,n),i=QT(null,e,r,t,i,n);var s=YT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$r(r)?(s=!0,Gy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qT(e),i.updater=s_,e.stateNode=i,i._reactInternals=e,I0(e,r,t,n),e=S0(null,e,r,!0,s,n)):(e.tag=0,Vt&&s&&VT(e),hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cz(r),t=$i(r,t),i){case 0:e=b0(null,e,r,t,n);break e;case 1:e=Ek(null,e,r,t,n);break e;case 11:e=_k(null,e,r,t,n);break e;case 14:e=wk(null,e,r,$i(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),b0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Ek(t,e,r,i,n);case 3:e:{if(lO(e),t===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,LN(t,e),Jy(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fd(Error(re(423)),e),e=Ik(t,e,r,n,i);break e}else if(r!==i){i=Fd(Error(re(424)),e),e=Ik(t,e,r,n,i);break e}else for(Yr=La(e.stateNode.containerInfo.firstChild),Jr=e,Vt=!0,qi=null,n=ON(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ld(),r===i){e=So(t,e,n);break e}hr(t,e,r,n)}e=e.child}return e;case 5:return MN(e),t===null&&_0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,p0(r,i)?o=null:s!==null&&p0(r,s)&&(e.flags|=32),aO(t,e),hr(t,e,o,n),e.child;case 6:return t===null&&_0(e),null;case 13:return uO(t,e,n);case 4:return WT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Md(e,null,r,n):hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),_k(t,e,r,i,n);case 7:return hr(t,e,e.pendingProps,n),e.child;case 8:return hr(t,e,e.pendingProps.children,n),e.child;case 12:return hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ct(Yy,r._currentValue),r._currentValue=o,s!==null)if(Xi(s.value,o)){if(s.children===i.children&&!Ur.current){e=So(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vo(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),w0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),w0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ud(e,n),i=bi(i),r=r(i),e.flags|=1,hr(t,e,r,n),e.child;case 14:return r=e.type,i=$i(r,e.pendingProps),i=$i(r.type,i),wk(t,e,r,i,n);case 15:return sO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),cy(t,e),e.tag=1,$r(r)?(t=!0,Gy(e)):t=!1,ud(e,n),nO(e,r,i),I0(e,r,i,n),S0(null,e,r,!0,t,n);case 19:return cO(t,e,n);case 22:return oO(t,e,n)}throw Error(re(156,e.tag))};function AO(t,e){return Zx(t,e)}function uz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wi(t,e,n,r){return new uz(t,e,n,r)}function ob(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cz(t){if(typeof t=="function")return ob(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ST)return 11;if(t===AT)return 14}return 2}function ja(t,e){var n=t.alternate;return n===null?(n=wi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fy(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ob(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bc:return gu(n.children,i,s,e);case bT:o=8,i|=8;break;case HE:return t=wi(12,n,e,i|2),t.elementType=HE,t.lanes=s,t;case GE:return t=wi(13,n,e,i),t.elementType=GE,t.lanes=s,t;case KE:return t=wi(19,n,e,i),t.elementType=KE,t.lanes=s,t;case Mx:return l_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dx:o=10;break e;case Lx:o=9;break e;case ST:o=11;break e;case AT:o=14;break e;case ca:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=wi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gu(t,e,n,r){return t=wi(7,t,r,e),t.lanes=n,t}function l_(t,e,n,r){return t=wi(22,t,r,e),t.elementType=Mx,t.lanes=n,t.stateNode={isHidden:!1},t}function oE(t,e,n){return t=wi(6,t,null,e),t.lanes=n,t}function aE(t,e,n){return e=wi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dz(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$w(0),this.expirationTimes=$w(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$w(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ab(t,e,n,r,i,s,o,a,l){return t=new dz(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qT(s),t}function hz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kO(t){if(!t)return Wa;t=t._reactInternals;e:{if(Wu(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if($r(n))return kN(t,n,e)}return e}function CO(t,e,n,r,i,s,o,a,l){return t=ab(n,r,!0,t,i,s,o,a,l),t.context=kO(null),n=t.current,r=gr(),i=Fa(n),s=vo(r,i),s.callback=e??null,Ma(n,s,i),t.current.lanes=i,rm(t,i,r),zr(t,r),t}function u_(t,e,n,r){var i=e.current,s=gr(),o=Fa(i);return n=kO(n),e.context===null?e.context=n:e.pendingContext=n,e=vo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ma(i,e,o),t!==null&&(Yi(t,i,o,s),ay(t,i,o)),o}function ov(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lb(t,e){Nk(t,e),(t=t.alternate)&&Nk(t,e)}function fz(){return null}var RO=typeof reportError=="function"?reportError:function(t){console.error(t)};function ub(t){this._internalRoot=t}c_.prototype.render=ub.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));u_(t,e,null,null)};c_.prototype.unmount=ub.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Au(function(){u_(null,t,null,null)}),e[To]=null}};function c_(t){this._internalRoot=t}c_.prototype.unstable_scheduleHydration=function(t){if(t){var e=oN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fa.length&&e!==0&&e<fa[n].priority;n++);fa.splice(n,0,t),n===0&&lN(t)}};function cb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ok(){}function pz(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ov(o);s.call(u)}}var o=CO(e,r,t,0,null,!1,!1,"",Ok);return t._reactRootContainer=o,t[To]=o.current,cp(t.nodeType===8?t.parentNode:t),Au(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ov(l);a.call(u)}}var l=ab(t,0,!1,null,null,!1,!1,"",Ok);return t._reactRootContainer=l,t[To]=l.current,cp(t.nodeType===8?t.parentNode:t),Au(function(){u_(e,l,n,r)}),l}function h_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ov(o);a.call(l)}}u_(e,o,t,i)}else o=pz(n,e,t,i,r);return ov(o)}iN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wf(e.pendingLanes);n!==0&&(RT(e,n|1),zr(e,ln()),!(at&6)&&(jd=ln()+500,al()))}break;case 13:Au(function(){var r=bo(t,1);if(r!==null){var i=gr();Yi(r,t,1,i)}}),lb(t,1)}};PT=function(t){if(t.tag===13){var e=bo(t,134217728);if(e!==null){var n=gr();Yi(e,t,134217728,n)}lb(t,134217728)}};sN=function(t){if(t.tag===13){var e=Fa(t),n=bo(t,e);if(n!==null){var r=gr();Yi(n,t,e,r)}lb(t,e)}};oN=function(){return _t};aN=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};i0=function(t,e,n){switch(e){case"input":if(XE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=n_(r);if(!i)throw Error(re(90));Fx(r),XE(r,i)}}}break;case"textarea":Ux(t,n);break;case"select":e=n.value,e!=null&&sd(t,!!n.multiple,e,!1)}};Gx=rb;Kx=Au;var mz={usingClientEntryPoint:!1,Events:[sm,Gc,n_,Wx,Hx,rb]},lf={findFiberByHostInstance:Yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gz={bundleType:lf.bundleType,version:lf.version,rendererPackageName:lf.rendererPackageName,rendererConfig:lf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Do.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xx(t),t===null?null:t.stateNode},findFiberByHostInstance:lf.findFiberByHostInstance||fz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Og.isDisabled&&Og.supportsFiber)try{Jv=Og.inject(gz),Os=Og}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mz;ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cb(e))throw Error(re(200));return hz(t,e,null,n)};ti.createRoot=function(t,e){if(!cb(t))throw Error(re(299));var n=!1,r="",i=RO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ab(t,1,!1,null,null,n,!1,r,i),t[To]=e.current,cp(t.nodeType===8?t.parentNode:t),new ub(e)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=Xx(e),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return Au(t)};ti.hydrate=function(t,e,n){if(!d_(e))throw Error(re(200));return h_(null,t,e,!0,n)};ti.hydrateRoot=function(t,e,n){if(!cb(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CO(e,null,t,1,n??null,i,!1,s,o),t[To]=e.current,cp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new c_(e)};ti.render=function(t,e,n){if(!d_(e))throw Error(re(200));return h_(null,t,e,!1,n)};ti.unmountComponentAtNode=function(t){if(!d_(t))throw Error(re(40));return t._reactRootContainer?(Au(function(){h_(null,null,t,!1,function(){t._reactRootContainer=null,t[To]=null})}),!0):!1};ti.unstable_batchedUpdates=rb;ti.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!d_(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return h_(t,e,n,!1,r)};ti.version="18.3.1-next-f1338f8080-20240426";function PO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PO)}catch(t){console.error(t)}}PO(),Px.exports=ti;var yz=Px.exports;const Zl=tm(yz);/**
 * @remix-run/router v1.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}var Ca;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ca||(Ca={}));const Dk="popstate";function vz(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return V0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:av(i)}return wz(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _z(){return Math.random().toString(36).substr(2,8)}function Lk(t,e){return{usr:t.state,key:t.key,idx:e}}function V0(t,e,n,r){return n===void 0&&(n=null),_p({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ch(e):e,{state:n,key:e&&e.key||r||_z()})}function av(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ch(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ca.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(_p({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ca.Pop;let R=h(),I=R==null?null:R-u;u=R,l&&l({action:a,location:P.location,delta:I})}function p(R,I){a=Ca.Push;let w=V0(P.location,R,I);u=h()+1;let T=Lk(w,u),L=P.createHref(w);try{o.pushState(T,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(L)}s&&l&&l({action:a,location:P.location,delta:1})}function _(R,I){a=Ca.Replace;let w=V0(P.location,R,I);u=h();let T=Lk(w,u),L=P.createHref(w);o.replaceState(T,"",L),s&&l&&l({action:a,location:P.location,delta:0})}function S(R){let I=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof R=="string"?R:av(R);return w=w.replace(/ $/,"%20"),cn(I,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,I)}let P={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Dk,f),l=R,()=>{i.removeEventListener(Dk,f),l=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let I=S(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:p,replace:_,go(R){return o.go(R)}};return P}var Mk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Mk||(Mk={}));function Ez(t,e,n){return n===void 0&&(n="/"),Iz(t,e,n,!1)}function Iz(t,e,n,r){let i=typeof e=="string"?ch(e):e,s=db(i.pathname||"/",n);if(s==null)return null;let o=NO(t);Tz(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Dz(s);a=Nz(o[l],u,r)}return a}function NO(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(cn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ua([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(cn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),NO(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Pz(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OO(s.path))i(s,o,l)}),e}function OO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Tz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bz=/^:[\w-]+$/,Sz=3,Az=2,kz=1,Cz=10,Rz=-2,Vk=t=>t==="*";function Pz(t,e){let n=t.split("/"),r=n.length;return n.some(Vk)&&(r+=Rz),e&&(r+=Az),n.filter(i=>!Vk(i)).reduce((i,s)=>i+(bz.test(s)?Sz:s===""?kz:Cz),r)}function xz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Nz(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Fk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Fk({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ua([s,f.pathname]),pathnameBase:Fz(Ua([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Ua([s,f.pathnameBase]))}return o}function Fk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Oz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:p,isOptional:_}=h;if(p==="*"){let P=a[f]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const S=a[f];return _&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Oz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Dz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function db(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Lz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ch(t):t;return{pathname:n?n.startsWith("/")?n:Mz(n,e):e,search:jz(r),hash:Uz(i)}}function Mz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lE(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hb(t,e){let n=Vz(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ch(t):(i=_p({},t),cn(!i.pathname||!i.pathname.includes("?"),lE("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),lE("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),lE("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=Lz(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Ua=t=>t.join("/").replace(/\/\/+/g,"/"),Fz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Uz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $z(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DO=["post","put","patch","delete"];new Set(DO);const zz=["get",...DO];new Set(zz);/**
 * React Router v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}const pb=N.createContext(null),Bz=N.createContext(null),ll=N.createContext(null),f_=N.createContext(null),ul=N.createContext({outlet:null,matches:[],isDataRoute:!1}),LO=N.createContext(null);function qz(t,e){let{relative:n}=e===void 0?{}:e;dh()||cn(!1);let{basename:r,navigator:i}=N.useContext(ll),{hash:s,pathname:o,search:a}=VO(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ua([r,o])),i.createHref({pathname:l,search:a,hash:s})}function dh(){return N.useContext(f_)!=null}function am(){return dh()||cn(!1),N.useContext(f_).location}function MO(t){N.useContext(ll).static||N.useLayoutEffect(t)}function Hu(){let{isDataRoute:t}=N.useContext(ul);return t?rB():Wz()}function Wz(){dh()||cn(!1);let t=N.useContext(pb),{basename:e,future:n,navigator:r}=N.useContext(ll),{matches:i}=N.useContext(ul),{pathname:s}=am(),o=JSON.stringify(hb(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return MO(()=>{a.current=!0}),N.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=fb(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ua([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function VO(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(ll),{matches:i}=N.useContext(ul),{pathname:s}=am(),o=JSON.stringify(hb(i,r.v7_relativeSplatPath));return N.useMemo(()=>fb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Hz(t,e){return Gz(t,e)}function Gz(t,e,n,r){dh()||cn(!1);let{navigator:i}=N.useContext(ll),{matches:s}=N.useContext(ul),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=am(),h;if(e){var f;let R=typeof e=="string"?ch(e):e;l==="/"||(f=R.pathname)!=null&&f.startsWith(l)||cn(!1),h=R}else h=u;let p=h.pathname||"/",_=p;if(l!=="/"){let R=l.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=Ez(t,{pathname:_}),P=Jz(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:Ua([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:Ua([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&P?N.createElement(f_.Provider,{value:{location:wp({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ca.Pop}},P):P}function Kz(){let t=nB(),e=$z(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const Qz=N.createElement(Kz,null);class Yz extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(ul.Provider,{value:this.props.routeContext},N.createElement(LO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xz(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(pb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ul.Provider,{value:e},r)}function Jz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||cn(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:_}=n,S=f.route.loader&&p[f.route.id]===void 0&&(!_||_[f.route.id]===void 0);if(f.route.lazy||S){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let _,S=!1,P=null,R=null;n&&(_=a&&f.route.id?a[f.route.id]:void 0,P=f.route.errorElement||Qz,l&&(u<0&&p===0?(S=!0,R=null):u===p&&(S=!0,R=f.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,p+1)),w=()=>{let T;return _?T=P:S?T=R:f.route.Component?T=N.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,N.createElement(Xz,{match:f,routeContext:{outlet:h,matches:I,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(Yz,{location:n.location,revalidation:n.revalidation,component:P,error:_,children:w(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):w()},null)}var FO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FO||{}),lv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lv||{});function Zz(t){let e=N.useContext(pb);return e||cn(!1),e}function eB(t){let e=N.useContext(Bz);return e||cn(!1),e}function tB(t){let e=N.useContext(ul);return e||cn(!1),e}function jO(t){let e=tB(),n=e.matches[e.matches.length-1];return n.route.id||cn(!1),n.route.id}function nB(){var t;let e=N.useContext(LO),n=eB(lv.UseRouteError),r=jO(lv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rB(){let{router:t}=Zz(FO.UseNavigateStable),e=jO(lv.UseNavigateStable),n=N.useRef(!1);return MO(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wp({fromRouteId:e},s)))},[t,e])}function jk(t){let{to:e,replace:n,state:r,relative:i}=t;dh()||cn(!1);let{future:s,static:o}=N.useContext(ll),{matches:a}=N.useContext(ul),{pathname:l}=am(),u=Hu(),h=fb(e,hb(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(h);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function fs(t){cn(!1)}function iB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ca.Pop,navigator:s,static:o=!1,future:a}=t;dh()&&cn(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:o,future:wp({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ch(r));let{pathname:h="/",search:f="",hash:p="",state:_=null,key:S="default"}=r,P=N.useMemo(()=>{let R=db(h,l);return R==null?null:{location:{pathname:R,search:f,hash:p,state:_,key:S},navigationType:i}},[l,h,f,p,_,S,i]);return P==null?null:N.createElement(ll.Provider,{value:u},N.createElement(f_.Provider,{children:n,value:P}))}function sB(t){let{children:e,location:n}=t;return Hz(F0(e),n)}new Promise(()=>{});function F0(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,F0(r.props.children,s));return}r.type!==fs&&cn(!1),!r.props.index||!r.props.children||cn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=F0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function oB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lB(t,e){return t.button===0&&(!e||e==="_self")&&!aB(t)}const uB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],cB="6";try{window.__reactRouterVersion=cB}catch{}const dB="startTransition",Uk=s$[dB];function hB(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=vz({window:i,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=N.useCallback(f=>{u&&Uk?Uk(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.createElement(iB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const fB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ms=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,unstable_viewTransition:f}=e,p=oB(e,uB),{basename:_}=N.useContext(ll),S,P=!1;if(typeof u=="string"&&pB.test(u)&&(S=u,fB))try{let T=new URL(window.location.href),L=u.startsWith("//")?new URL(T.protocol+u):new URL(u),F=db(L.pathname,_);L.origin===T.origin&&F!=null?u=F+L.search+L.hash:P=!0}catch{}let R=qz(u,{relative:i}),I=mB(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:f});function w(T){r&&r(T),T.defaultPrevented||I(T)}return N.createElement("a",j0({},p,{href:S||R,onClick:P||s?r:w,ref:n,target:l}))});var $k;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($k||($k={}));var zk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zk||(zk={}));function mB(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Hu(),u=am(),h=VO(t,{relative:o});return N.useCallback(f=>{if(lB(f,n)){f.preventDefault();let p=r!==void 0?r:av(u)===av(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,h,r,i,n,t,s,o,a])}var hh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ud=typeof window>"u"||"Deno"in globalThis;function gi(){}function gB(t,e){return typeof t=="function"?t(e):t}function U0(t){return typeof t=="number"&&t>=0&&t!==1/0}function UO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dd(t,e){return typeof t=="function"?t(e):t}function Wi(t,e){return typeof t=="function"?t(e):t}function Bk(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==mb(o,e.options))return!1}else if(!Ep(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function qk(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ku(e.options.mutationKey)!==ku(s))return!1}else if(!Ep(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function mb(t,e){return((e==null?void 0:e.queryKeyHashFn)||ku)(t)}function ku(t){return JSON.stringify(t,(e,n)=>$0(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ep(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ep(t[n],e[n])):!1}function $O(t,e){if(t===e)return t;const n=Wk(t)&&Wk(e);if(n||$0(t)&&$0(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const h=n?u:s[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=$O(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function uv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Wk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $0(t){if(!Hk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Hk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Hk(t){return Object.prototype.toString.call(t)==="[object Object]"}function yB(t){return new Promise(e=>{setTimeout(e,t)})}function z0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?$O(t,e):e}function vB(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _B(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zO=Symbol(),BO=(t,e)=>!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,lu,va,wd,ux,wB=(ux=class extends hh{constructor(){super();Re(this,lu);Re(this,va);Re(this,wd);ge(this,wd,e=>{if(!Ud&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,va)||this.setEventListener(U(this,wd))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,va))==null||e.call(this),ge(this,va,void 0))}setEventListener(e){var n;ge(this,wd,e),(n=U(this,va))==null||n.call(this),ge(this,va,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,lu)!==e&&(ge(this,lu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,lu)=="boolean"?U(this,lu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},lu=new WeakMap,va=new WeakMap,wd=new WeakMap,ux),gb=new wB,Ed,_a,Id,cx,EB=(cx=class extends hh{constructor(){super();Re(this,Ed,!0);Re(this,_a);Re(this,Id);ge(this,Id,e=>{if(!Ud&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,_a)||this.setEventListener(U(this,Id))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,_a))==null||e.call(this),ge(this,_a,void 0))}setEventListener(e){var n;ge(this,Id,e),(n=U(this,_a))==null||n.call(this),ge(this,_a,e(this.setOnline.bind(this)))}setOnline(e){U(this,Ed)!==e&&(ge(this,Ed,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Ed)}},Ed=new WeakMap,_a=new WeakMap,Id=new WeakMap,cx),cv=new EB;function IB(t){return Math.min(1e3*2**t,3e4)}function qO(t){return(t??"online")==="online"?cv.isOnline():!0}var WO=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function uE(t){return t instanceof WO}function HO(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((I,w)=>{s=I,o=w}),l=I=>{var w;r||(S(new WO(I)),(w=t.abort)==null||w.call(t))},u=()=>{e=!0},h=()=>{e=!1},f=()=>gb.isFocused()&&(t.networkMode==="always"||cv.isOnline())&&t.canRun(),p=()=>qO(t.networkMode)&&t.canRun(),_=I=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,I),i==null||i(),s(I))},S=I=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,I),i==null||i(),o(I))},P=()=>new Promise(I=>{var w;i=T=>{(r||f())&&I(T)},(w=t.onPause)==null||w.call(t)}).then(()=>{var I;i=void 0,r||(I=t.onContinue)==null||I.call(t)}),R=()=>{if(r)return;let I;const w=n===0?t.initialPromise:void 0;try{I=w??t.fn()}catch(T){I=Promise.reject(T)}Promise.resolve(I).then(_).catch(T=>{var b;if(r)return;const L=t.retry??(Ud?0:3),F=t.retryDelay??IB,B=typeof F=="function"?F(n,T):F,C=L===!0||typeof L=="number"&&n<L||typeof L=="function"&&L(n,T);if(e||!C){S(T);return}n++,(b=t.onFail)==null||b.call(t,n,T),yB(B).then(()=>f()?void 0:P()).then(()=>{e?S(T):R()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:h,canStart:p,start:()=>(p()?R():P().then(R),a)}}function TB(){let t=[],e=0,n=p=>{p()},r=p=>{p()},i=p=>setTimeout(p,0);const s=p=>{i=p},o=p=>{let _;e++;try{_=p()}finally{e--,e||u()}return _},a=p=>{e?t.push(p):i(()=>{n(p)})},l=p=>(..._)=>{a(()=>{p(..._)})},u=()=>{const p=t;t=[],p.length&&i(()=>{r(()=>{p.forEach(_=>{n(_)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{r=p},setScheduler:s}}var En=TB(),uu,dx,GO=(dx=class{constructor(){Re(this,uu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U0(this.gcTime)&&ge(this,uu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ud?1/0:5*60*1e3))}clearGcTimeout(){U(this,uu)&&(clearTimeout(U(this,uu)),ge(this,uu,void 0))}},uu=new WeakMap,dx),Td,bd,mi,nr,Xp,cu,zi,io,hx,bB=(hx=class extends GO{constructor(n){super();Re(this,zi);Re(this,Td);Re(this,bd);Re(this,mi);Re(this,nr);Re(this,Xp);Re(this,cu);ge(this,cu,!1),ge(this,Xp,n.defaultOptions),this.setOptions(n.options),this.observers=[],ge(this,mi,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ge(this,Td,n.state||SB(this.options)),this.state=U(this,Td),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,nr))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Xp),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,mi).remove(this)}setData(n,r){const i=z0(this.state.data,n,this.options);return Ge(this,zi,io).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ge(this,zi,io).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=U(this,nr))==null?void 0:i.promise;return(s=U(this,nr))==null||s.cancel(n),r?r.then(gi).catch(gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Td))}isActive(){return this.observers.some(n=>Wi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!UO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,nr))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,nr))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,mi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,nr)&&(U(this,cu)?U(this,nr).cancel({revert:!0}):U(this,nr).cancelRetry()),this.scheduleGc()),U(this,mi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ge(this,zi,io).call(this,{type:"invalidate"})}fetch(n,r){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,nr))return U(this,nr).continueRetry(),U(this,nr).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(_=>_.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ge(this,cu,!0),i.signal)})},o=()=>{const p=BO(this.options,r),_={queryKey:this.queryKey,meta:this.meta};return s(_),ge(this,cu,!1),this.options.persister?this.options.persister(p,_,this):p(_)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),ge(this,bd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Ge(this,zi,io).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var _,S,P,R;uE(p)&&p.silent||Ge(this,zi,io).call(this,{type:"error",error:p}),uE(p)||((S=(_=U(this,mi).config).onError)==null||S.call(_,p,this),(R=(P=U(this,mi).config).onSettled)==null||R.call(P,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ge(this,nr,HO({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var _,S,P,R;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(p),(S=(_=U(this,mi).config).onSuccess)==null||S.call(_,p,this),(R=(P=U(this,mi).config).onSettled)==null||R.call(P,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(p,_)=>{Ge(this,zi,io).call(this,{type:"failed",failureCount:p,error:_})},onPause:()=>{Ge(this,zi,io).call(this,{type:"pause"})},onContinue:()=>{Ge(this,zi,io).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,nr).start()}},Td=new WeakMap,bd=new WeakMap,mi=new WeakMap,nr=new WeakMap,Xp=new WeakMap,cu=new WeakMap,zi=new WeakSet,io=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...KO(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return uE(s)&&s.revert&&U(this,bd)?{...U(this,bd),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),En.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,mi).notify({query:this,type:"updated",action:n})})},hx);function KO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function SB(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ys,fx,AB=(fx=class extends hh{constructor(e={}){super();Re(this,ys);this.config=e,ge(this,ys,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??mb(i,n);let o=this.get(s);return o||(o=new bB({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){U(this,ys).has(e.queryHash)||(U(this,ys).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,ys).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,ys).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,ys).get(e)}getAll(){return[...U(this,ys).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Bk(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Bk(e,r)):n}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){En.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ys=new WeakMap,fx),vs,cr,du,_s,ua,px,kB=(px=class extends GO{constructor(n){super();Re(this,_s);Re(this,vs);Re(this,cr);Re(this,du);this.mutationId=n.mutationId,ge(this,cr,n.mutationCache),ge(this,vs,[]),this.state=n.state||QO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,vs).includes(n)||(U(this,vs).push(n),this.clearGcTimeout(),U(this,cr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ge(this,vs,U(this,vs).filter(r=>r!==n)),this.scheduleGc(),U(this,cr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,vs).length||(this.state.status==="pending"?this.scheduleGc():U(this,cr).remove(this))}continue(){var n;return((n=U(this,du))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,h,f,p,_,S,P,R,I,w,T,L,F,B,C,b;ge(this,du,HO({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(x,D)=>{Ge(this,_s,ua).call(this,{type:"failed",failureCount:x,error:D})},onPause:()=>{Ge(this,_s,ua).call(this,{type:"pause"})},onContinue:()=>{Ge(this,_s,ua).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,cr).canRun(this)}));const r=this.state.status==="pending",i=!U(this,du).canStart();try{if(!r){Ge(this,_s,ua).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=U(this,cr).config).onMutate)==null?void 0:o.call(s,n,this));const D=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));D!==this.state.context&&Ge(this,_s,ua).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const x=await U(this,du).start();return await((h=(u=U(this,cr).config).onSuccess)==null?void 0:h.call(u,x,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,x,n,this.state.context)),await((S=(_=U(this,cr).config).onSettled)==null?void 0:S.call(_,x,null,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,x,null,n,this.state.context)),Ge(this,_s,ua).call(this,{type:"success",data:x}),x}catch(x){try{throw await((w=(I=U(this,cr).config).onError)==null?void 0:w.call(I,x,n,this.state.context,this)),await((L=(T=this.options).onError)==null?void 0:L.call(T,x,n,this.state.context)),await((B=(F=U(this,cr).config).onSettled)==null?void 0:B.call(F,void 0,x,this.state.variables,this.state.context,this)),await((b=(C=this.options).onSettled)==null?void 0:b.call(C,void 0,x,n,this.state.context)),x}finally{Ge(this,_s,ua).call(this,{type:"error",error:x})}}finally{U(this,cr).runNext(this)}}},vs=new WeakMap,cr=new WeakMap,du=new WeakMap,_s=new WeakSet,ua=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),En.batch(()=>{U(this,vs).forEach(i=>{i.onMutationUpdate(n)}),U(this,cr).notify({mutation:this,type:"updated",action:n})})},px);function QO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hr,Jp,mx,CB=(mx=class extends hh{constructor(e={}){super();Re(this,Hr);Re(this,Jp);this.config=e,ge(this,Hr,new Map),ge(this,Jp,Date.now())}build(e,n,r){const i=new kB({mutationCache:this,mutationId:++gg(this,Jp)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Dg(e),r=U(this,Hr).get(n)??[];r.push(e),U(this,Hr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Dg(e);if(U(this,Hr).has(n)){const i=(r=U(this,Hr).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?U(this,Hr).delete(n):U(this,Hr).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,Hr).get(Dg(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,Hr).get(Dg(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,Hr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qk(n,r))}findAll(e={}){return this.getAll().filter(n=>qk(e,n))}notify(e){En.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(e.map(n=>n.continue().catch(gi))))}},Hr=new WeakMap,Jp=new WeakMap,mx);function Dg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function RB(t){return{onFetch:(e,n)=>{const r=async()=>{var S,P,R,I,w;const i=e.options,s=(R=(P=(S=e.fetchOptions)==null?void 0:S.meta)==null?void 0:P.fetchMore)==null?void 0:R.direction,o=((I=e.state.data)==null?void 0:I.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const h=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=BO(e.options,e.fetchOptions),p=async(T,L,F)=>{if(u)return Promise.reject();if(L==null&&T.pages.length)return Promise.resolve(T);const B={queryKey:e.queryKey,pageParam:L,direction:F?"backward":"forward",meta:e.options.meta};h(B);const C=await f(B),{maxPages:b}=e.options,x=F?_B:vB;return{pages:x(T.pages,C,b),pageParams:x(T.pageParams,L,b)}};let _;if(s&&o.length){const T=s==="backward",L=T?PB:Gk,F={pages:o,pageParams:a},B=L(i,F);_=await p(F,B,T)}else{_=await p(l,a[0]??i.initialPageParam);const T=t??o.length;for(let L=1;L<T;L++){const F=Gk(i,_);_=await p(_,F)}}return _};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function Gk(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function PB(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var Qt,wa,Ea,Sd,Ad,Ia,kd,Cd,gx,xB=(gx=class{constructor(t={}){Re(this,Qt);Re(this,wa);Re(this,Ea);Re(this,Sd);Re(this,Ad);Re(this,Ia);Re(this,kd);Re(this,Cd);ge(this,Qt,t.queryCache||new AB),ge(this,wa,t.mutationCache||new CB),ge(this,Ea,t.defaultOptions||{}),ge(this,Sd,new Map),ge(this,Ad,new Map),ge(this,Ia,0)}mount(){gg(this,Ia)._++,U(this,Ia)===1&&(ge(this,kd,gb.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Qt).onFocus())})),ge(this,Cd,cv.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Qt).onOnline())})))}unmount(){var t,e;gg(this,Ia)._--,U(this,Ia)===0&&((t=U(this,kd))==null||t.call(this),ge(this,kd,void 0),(e=U(this,Cd))==null||e.call(this),ge(this,Cd,void 0))}isFetching(t){return U(this,Qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,wa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Qt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,Qt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(dd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,Qt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,Qt).get(r.queryHash),s=i==null?void 0:i.state.data,o=gB(e,s);if(o!==void 0)return U(this,Qt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return En.batch(()=>U(this,Qt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Qt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Qt);En.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Qt),r={type:"active",...t};return En.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=En.batch(()=>U(this,Qt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(gi).catch(gi)}invalidateQueries(t={},e={}){return En.batch(()=>{if(U(this,Qt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=En.batch(()=>U(this,Qt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(gi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(gi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Qt).build(this,e);return n.isStaleByTime(dd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gi).catch(gi)}fetchInfiniteQuery(t){return t.behavior=RB(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gi).catch(gi)}resumePausedMutations(){return cv.isOnline()?U(this,wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Qt)}getMutationCache(){return U(this,wa)}getDefaultOptions(){return U(this,Ea)}setDefaultOptions(t){ge(this,Ea,t)}setQueryDefaults(t,e){U(this,Sd).set(ku(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Sd).values()];let n={};return e.forEach(r=>{Ep(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,Ad).set(ku(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Ad).values()];let n={};return e.forEach(r=>{Ep(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Ea).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Ea).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Qt).clear(),U(this,wa).clear()}},Qt=new WeakMap,wa=new WeakMap,Ea=new WeakMap,Sd=new WeakMap,Ad=new WeakMap,Ia=new WeakMap,kd=new WeakMap,Cd=new WeakMap,gx),Rr,nt,Zp,dr,hu,Rd,ws,em,Pd,xd,fu,pu,Ta,Nd,ft,If,B0,q0,W0,H0,G0,K0,Q0,YO,yx,NB=(yx=class extends hh{constructor(e,n){super();Re(this,ft);Re(this,Rr);Re(this,nt);Re(this,Zp);Re(this,dr);Re(this,hu);Re(this,Rd);Re(this,ws);Re(this,em);Re(this,Pd);Re(this,xd);Re(this,fu);Re(this,pu);Re(this,Ta);Re(this,Nd,new Set);this.options=n,ge(this,Rr,e),ge(this,ws,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,nt).addObserver(this),Kk(U(this,nt),this.options)?Ge(this,ft,If).call(this):this.updateResult(),Ge(this,ft,H0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Y0(U(this,nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Y0(U(this,nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ge(this,ft,G0).call(this),Ge(this,ft,K0).call(this),U(this,nt).removeObserver(this)}setOptions(e,n){const r=this.options,i=U(this,nt);if(this.options=U(this,Rr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wi(this.options.enabled,U(this,nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ge(this,ft,Q0).call(this),U(this,nt).setOptions(this.options),r._defaulted&&!uv(this.options,r)&&U(this,Rr).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,nt),observer:this});const s=this.hasListeners();s&&Qk(U(this,nt),i,this.options,r)&&Ge(this,ft,If).call(this),this.updateResult(n),s&&(U(this,nt)!==i||Wi(this.options.enabled,U(this,nt))!==Wi(r.enabled,U(this,nt))||dd(this.options.staleTime,U(this,nt))!==dd(r.staleTime,U(this,nt)))&&Ge(this,ft,B0).call(this);const o=Ge(this,ft,q0).call(this);s&&(U(this,nt)!==i||Wi(this.options.enabled,U(this,nt))!==Wi(r.enabled,U(this,nt))||o!==U(this,Ta))&&Ge(this,ft,W0).call(this,o)}getOptimisticResult(e){const n=U(this,Rr).getQueryCache().build(U(this,Rr),e),r=this.createResult(n,e);return DB(this,r)&&(ge(this,dr,r),ge(this,Rd,this.options),ge(this,hu,U(this,nt).state)),r}getCurrentResult(){return U(this,dr)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){U(this,Nd).add(e)}getCurrentQuery(){return U(this,nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=U(this,Rr).defaultQueryOptions(e),r=U(this,Rr).getQueryCache().build(U(this,Rr),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Ge(this,ft,If).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,dr)))}createResult(e,n){var C;const r=U(this,nt),i=this.options,s=U(this,dr),o=U(this,hu),a=U(this,Rd),u=e!==r?e.state:U(this,Zp),{state:h}=e;let f={...h},p=!1,_;if(n._optimisticResults){const b=this.hasListeners(),x=!b&&Kk(e,n),D=b&&Qk(e,r,n,i);(x||D)&&(f={...f,...KO(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:S,errorUpdatedAt:P,status:R}=f;if(n.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&n.select===U(this,em))_=U(this,Pd);else try{ge(this,em,n.select),_=n.select(f.data),_=z0(s==null?void 0:s.data,_,n),ge(this,Pd,_),ge(this,ws,null)}catch(b){ge(this,ws,b)}else _=f.data;if(n.placeholderData!==void 0&&_===void 0&&R==="pending"){let b;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))b=s.data;else if(b=typeof n.placeholderData=="function"?n.placeholderData((C=U(this,xd))==null?void 0:C.state.data,U(this,xd)):n.placeholderData,n.select&&b!==void 0)try{b=n.select(b),ge(this,ws,null)}catch(x){ge(this,ws,x)}b!==void 0&&(R="success",_=z0(s==null?void 0:s.data,b,n),p=!0)}U(this,ws)&&(S=U(this,ws),_=U(this,Pd),P=Date.now(),R="error");const I=f.fetchStatus==="fetching",w=R==="pending",T=R==="error",L=w&&I,F=_!==void 0;return{status:R,fetchStatus:f.fetchStatus,isPending:w,isSuccess:R==="success",isError:T,isInitialLoading:L,isLoading:L,data:_,dataUpdatedAt:f.dataUpdatedAt,error:S,errorUpdatedAt:P,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:I,isRefetching:I&&!w,isLoadingError:T&&!F,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:T&&F,isStale:yb(e,n),refetch:this.refetch}}updateResult(e){const n=U(this,dr),r=this.createResult(U(this,nt),this.options);if(ge(this,hu,U(this,nt).state),ge(this,Rd,this.options),U(this,hu).data!==void 0&&ge(this,xd,U(this,nt)),uv(r,n))return;ge(this,dr,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!U(this,Nd).size)return!0;const l=new Set(a??U(this,Nd));return this.options.throwOnError&&l.add("error"),Object.keys(U(this,dr)).some(u=>{const h=u;return U(this,dr)[h]!==n[h]&&l.has(h)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Ge(this,ft,YO).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ge(this,ft,H0).call(this)}},Rr=new WeakMap,nt=new WeakMap,Zp=new WeakMap,dr=new WeakMap,hu=new WeakMap,Rd=new WeakMap,ws=new WeakMap,em=new WeakMap,Pd=new WeakMap,xd=new WeakMap,fu=new WeakMap,pu=new WeakMap,Ta=new WeakMap,Nd=new WeakMap,ft=new WeakSet,If=function(e){Ge(this,ft,Q0).call(this);let n=U(this,nt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(gi)),n},B0=function(){Ge(this,ft,G0).call(this);const e=dd(this.options.staleTime,U(this,nt));if(Ud||U(this,dr).isStale||!U0(e))return;const r=UO(U(this,dr).dataUpdatedAt,e)+1;ge(this,fu,setTimeout(()=>{U(this,dr).isStale||this.updateResult()},r))},q0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,nt)):this.options.refetchInterval)??!1},W0=function(e){Ge(this,ft,K0).call(this),ge(this,Ta,e),!(Ud||Wi(this.options.enabled,U(this,nt))===!1||!U0(U(this,Ta))||U(this,Ta)===0)&&ge(this,pu,setInterval(()=>{(this.options.refetchIntervalInBackground||gb.isFocused())&&Ge(this,ft,If).call(this)},U(this,Ta)))},H0=function(){Ge(this,ft,B0).call(this),Ge(this,ft,W0).call(this,Ge(this,ft,q0).call(this))},G0=function(){U(this,fu)&&(clearTimeout(U(this,fu)),ge(this,fu,void 0))},K0=function(){U(this,pu)&&(clearInterval(U(this,pu)),ge(this,pu,void 0))},Q0=function(){const e=U(this,Rr).getQueryCache().build(U(this,Rr),this.options);if(e===U(this,nt))return;const n=U(this,nt);ge(this,nt,e),ge(this,Zp,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},YO=function(e){En.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(U(this,dr))}),U(this,Rr).getQueryCache().notify({query:U(this,nt),type:"observerResultsUpdated"})})},yx);function OB(t,e){return Wi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kk(t,e){return OB(t,e)||t.state.data!==void 0&&Y0(t,e,e.refetchOnMount)}function Y0(t,e,n){if(Wi(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&yb(t,e)}return!1}function Qk(t,e,n,r){return(t!==e||Wi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&yb(t,n)}function yb(t,e){return Wi(e.enabled,t)!==!1&&t.isStaleByTime(dd(e.staleTime,t))}function DB(t,e){return!uv(t.getCurrentResult(),e)}var ba,Sa,Pr,ao,Eo,py,X0,vx,LB=(vx=class extends hh{constructor(n,r){super();Re(this,Eo);Re(this,ba);Re(this,Sa);Re(this,Pr);Re(this,ao);ge(this,ba,n),this.setOptions(r),this.bindMethods(),Ge(this,Eo,py).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=U(this,ba).defaultMutationOptions(n),uv(this.options,r)||U(this,ba).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,Pr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ku(r.mutationKey)!==ku(this.options.mutationKey)?this.reset():((i=U(this,Pr))==null?void 0:i.state.status)==="pending"&&U(this,Pr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,Pr))==null||n.removeObserver(this)}onMutationUpdate(n){Ge(this,Eo,py).call(this),Ge(this,Eo,X0).call(this,n)}getCurrentResult(){return U(this,Sa)}reset(){var n;(n=U(this,Pr))==null||n.removeObserver(this),ge(this,Pr,void 0),Ge(this,Eo,py).call(this),Ge(this,Eo,X0).call(this)}mutate(n,r){var i;return ge(this,ao,r),(i=U(this,Pr))==null||i.removeObserver(this),ge(this,Pr,U(this,ba).getMutationCache().build(U(this,ba),this.options)),U(this,Pr).addObserver(this),U(this,Pr).execute(n)}},ba=new WeakMap,Sa=new WeakMap,Pr=new WeakMap,ao=new WeakMap,Eo=new WeakSet,py=function(){var r;const n=((r=U(this,Pr))==null?void 0:r.state)??QO();ge(this,Sa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},X0=function(n){En.batch(()=>{var r,i,s,o,a,l,u,h;if(U(this,ao)&&this.hasListeners()){const f=U(this,Sa).variables,p=U(this,Sa).context;(n==null?void 0:n.type)==="success"?((i=(r=U(this,ao)).onSuccess)==null||i.call(r,n.data,f,p),(o=(s=U(this,ao)).onSettled)==null||o.call(s,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((l=(a=U(this,ao)).onError)==null||l.call(a,n.error,f,p),(h=(u=U(this,ao)).onSettled)==null||h.call(u,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(U(this,Sa))})})},vx),XO=N.createContext(void 0),vb=t=>{const e=N.useContext(XO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},MB=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(XO.Provider,{value:t,children:e})),JO=N.createContext(!1),VB=()=>N.useContext(JO);JO.Provider;function FB(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var jB=N.createContext(FB()),UB=()=>N.useContext(jB);function ZO(t,e){return typeof t=="function"?t(...e):!!t}function $B(){}var zB=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},BB=t=>{N.useEffect(()=>{t.clearReset()},[t])},qB=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&ZO(n,[t.error,r]),WB=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},HB=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,GB=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function KB(t,e,n){const r=vb(),i=VB(),s=UB(),o=r.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",WB(o),zB(o,s),BB(s);const[a]=N.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(u=>{const h=i?()=>{}:a.subscribe(En.batchCalls(u));return a.updateResult(),h},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),N.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),HB(o,l))throw GB(o,a,s);if(qB({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function eD(t,e){return KB(t,NB)}function $f(t,e){const n=vb(),[r]=N.useState(()=>new LB(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const i=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(En.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((o,a)=>{r.mutate(o,a).catch($B)},[r]);if(i.error&&ZO(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var lm=t=>t.type==="checkbox",ed=t=>t instanceof Date,pr=t=>t==null;const tD=t=>typeof t=="object";var An=t=>!pr(t)&&!Array.isArray(t)&&tD(t)&&!ed(t),QB=t=>An(t)&&t.target?lm(t.target)?t.target.checked:t.target.value:t,YB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,XB=(t,e)=>t.has(YB(e)),JB=t=>{const e=t.constructor&&t.constructor.prototype;return An(e)&&e.hasOwnProperty("isPrototypeOf")},_b=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pi(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(_b&&(t instanceof Blob||t instanceof FileList))&&(n||An(t)))if(e=n?[]:{},!n&&!JB(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=pi(t[r]));else return t;return e}var um=t=>Array.isArray(t)?t.filter(Boolean):[],an=t=>t===void 0,ye=(t,e,n)=>{if(!e||!An(t))return n;const r=um(e.split(/[,[\].]+?/)).reduce((i,s)=>pr(i)?i:i[s],t);return an(r)||r===t?an(t[e])?n:t[e]:r},ma=t=>typeof t=="boolean",wb=t=>/^\w*$/.test(t),nD=t=>um(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(t,e,n)=>{let r=-1;const i=wb(e)?[e]:nD(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=An(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const Yk={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},no={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ht.createContext(null);var ZB=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Hi.all&&(e._proxyFormState[o]=!r||Hi.all),t[o]}});return i},Gr=t=>An(t)&&!Object.keys(t).length,e3=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Gr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Hi.all)},cE=t=>Array.isArray(t)?t:[t];function t3(t){const e=ht.useRef(t);e.current=t,ht.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ks=t=>typeof t=="string",n3=(t,e,n,r,i)=>ks(t)?(r&&e.watch.add(t),ye(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ye(n,s))):(r&&(e.watchAll=!0),n),rD=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Xk=t=>({isOnSubmit:!t||t===Hi.onSubmit,isOnBlur:t===Hi.onBlur,isOnChange:t===Hi.onChange,isOnAll:t===Hi.all,isOnTouch:t===Hi.onTouched}),Jk=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const zf=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ye(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;zf(a,e)}else An(a)&&zf(a,e)}}};var r3=(t,e,n)=>{const r=um(ye(t,n));return xt(r,"root",e[n]),xt(t,n,r),t},Eb=t=>t.type==="file",Ra=t=>typeof t=="function",dv=t=>{if(!_b)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},my=t=>ks(t),Ib=t=>t.type==="radio",hv=t=>t instanceof RegExp;const Zk={value:!1,isValid:!1},eC={value:!0,isValid:!0};var iD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!an(t[0].attributes.value)?an(t[0].value)||t[0].value===""?eC:{value:t[0].value,isValid:!0}:eC:Zk}return Zk};const tC={isValid:!1,value:null};var sD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,tC):tC;function nC(t,e,n="validate"){if(my(t)||Array.isArray(t)&&t.every(my)||ma(t)&&!t)return{type:n,message:my(t)?t:"",ref:e}}var bc=t=>An(t)&&!hv(t)?t:{value:t,message:""},rC=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:h,max:f,pattern:p,validate:_,name:S,valueAsNumber:P,mount:R,disabled:I}=t._f,w=ye(e,S);if(!R||I)return{};const T=o?o[0]:s,L=V=>{r&&T.reportValidity&&(T.setCustomValidity(ma(V)?"":V||""),T.reportValidity())},F={},B=Ib(s),C=lm(s),b=B||C,x=(P||Eb(s))&&an(s.value)&&an(w)||dv(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,D=rD.bind(null,S,n,F),M=(V,O,pe,Pe=no.maxLength,Me=no.minLength)=>{const We=V?O:pe;F[S]={type:V?Pe:Me,message:We,ref:s,...D(V?Pe:Me,We)}};if(i?!Array.isArray(w)||!w.length:a&&(!b&&(x||pr(w))||ma(w)&&!w||C&&!iD(o).isValid||B&&!sD(o).isValid)){const{value:V,message:O}=my(a)?{value:!!a,message:a}:bc(a);if(V&&(F[S]={type:no.required,message:O,ref:T,...D(no.required,O)},!n))return L(O),F}if(!x&&(!pr(h)||!pr(f))){let V,O;const pe=bc(f),Pe=bc(h);if(!pr(w)&&!isNaN(w)){const Me=s.valueAsNumber||w&&+w;pr(pe.value)||(V=Me>pe.value),pr(Pe.value)||(O=Me<Pe.value)}else{const Me=s.valueAsDate||new Date(w),We=W=>new Date(new Date().toDateString()+" "+W),Z=s.type=="time",be=s.type=="week";ks(pe.value)&&w&&(V=Z?We(w)>We(pe.value):be?w>pe.value:Me>new Date(pe.value)),ks(Pe.value)&&w&&(O=Z?We(w)<We(Pe.value):be?w<Pe.value:Me<new Date(Pe.value))}if((V||O)&&(M(!!V,pe.message,Pe.message,no.max,no.min),!n))return L(F[S].message),F}if((l||u)&&!x&&(ks(w)||i&&Array.isArray(w))){const V=bc(l),O=bc(u),pe=!pr(V.value)&&w.length>+V.value,Pe=!pr(O.value)&&w.length<+O.value;if((pe||Pe)&&(M(pe,V.message,O.message),!n))return L(F[S].message),F}if(p&&!x&&ks(w)){const{value:V,message:O}=bc(p);if(hv(V)&&!w.match(V)&&(F[S]={type:no.pattern,message:O,ref:s,...D(no.pattern,O)},!n))return L(O),F}if(_){if(Ra(_)){const V=await _(w,e),O=nC(V,T);if(O&&(F[S]={...O,...D(no.validate,O.message)},!n))return L(O.message),F}else if(An(_)){let V={};for(const O in _){if(!Gr(V)&&!n)break;const pe=nC(await _[O](w,e),T,O);pe&&(V={...pe,...D(O,pe.message)},L(pe.message),n&&(F[S]=V))}if(!Gr(V)&&(F[S]={ref:T,...V},!n))return F}}return L(!0),F};function i3(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=an(t)?r++:t[e[r++]];return t}function s3(t){for(const e in t)if(t.hasOwnProperty(e)&&!an(t[e]))return!1;return!0}function _n(t,e){const n=Array.isArray(e)?e:wb(e)?[e]:nD(e),r=n.length===1?t:i3(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(An(r)&&Gr(r)||Array.isArray(r)&&s3(r))&&_n(t,n.slice(0,-1)),t}var dE=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},fv=t=>pr(t)||!tD(t);function eu(t,e){if(fv(t)||fv(e))return t===e;if(ed(t)&&ed(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(ed(s)&&ed(o)||An(s)&&An(o)||Array.isArray(s)&&Array.isArray(o)?!eu(s,o):s!==o)return!1}}return!0}var oD=t=>t.type==="select-multiple",o3=t=>Ib(t)||lm(t),hE=t=>dv(t)&&t.isConnected,aD=t=>{for(const e in t)if(Ra(t[e]))return!0;return!1};function pv(t,e={}){const n=Array.isArray(t);if(An(t)||n)for(const r in t)Array.isArray(t[r])||An(t[r])&&!aD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},pv(t[r],e[r])):pr(t[r])||(e[r]=!0);return e}function lD(t,e,n){const r=Array.isArray(t);if(An(t)||r)for(const i in t)Array.isArray(t[i])||An(t[i])&&!aD(t[i])?an(e)||fv(n[i])?n[i]=Array.isArray(t[i])?pv(t[i],[]):{...pv(t[i])}:lD(t[i],pr(e)?{}:e[i],n[i]):n[i]=!eu(t[i],e[i]);return n}var Lg=(t,e)=>lD(t,e,pv(e)),uD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>an(t)?t:e?t===""?NaN:t&&+t:n&&ks(t)?new Date(t):r?r(t):t;function fE(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Eb(e)?e.files:Ib(e)?sD(t.refs).value:oD(e)?[...e.selectedOptions].map(({value:n})=>n):lm(e)?iD(t.refs).value:uD(an(e.value)?t.ref.value:e.value,t)}var a3=(t,e,n,r)=>{const i={};for(const s of t){const o=ye(e,s);o&&xt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},uf=t=>an(t)?t:hv(t)?t.source:An(t)?hv(t.value)?t.value.source:t.value:t,l3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function iC(t,e,n){const r=ye(t,n);if(r||wb(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ye(e,s),a=ye(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var u3=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,c3=(t,e)=>!um(ye(t,e)).length&&_n(t,e);const d3={mode:Hi.onSubmit,reValidateMode:Hi.onChange,shouldFocusError:!0};function h3(t={}){let e={...d3,...t},n={submitCount:0,isDirty:!1,isLoading:Ra(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=An(e.defaultValues)||An(e.values)?pi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:pi(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:dE(),array:dE(),state:dE()},p=Xk(e.mode),_=Xk(e.reValidateMode),S=e.criteriaMode===Hi.all,P=j=>G=>{clearTimeout(u),u=setTimeout(j,G)},R=async j=>{if(h.isValid||j){const G=e.resolver?Gr((await b()).errors):await D(r,!0);G!==n.isValid&&f.state.next({isValid:G})}},I=(j,G)=>{(h.isValidating||h.validatingFields)&&((j||Array.from(a.mount)).forEach(X=>{X&&(G?xt(n.validatingFields,X,G):_n(n.validatingFields,X))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Gr(n.validatingFields)}))},w=(j,G=[],X,ue,ae=!0,ne=!0)=>{if(ue&&X){if(o.action=!0,ne&&Array.isArray(ye(r,j))){const me=X(ye(r,j),ue.argA,ue.argB);ae&&xt(r,j,me)}if(ne&&Array.isArray(ye(n.errors,j))){const me=X(ye(n.errors,j),ue.argA,ue.argB);ae&&xt(n.errors,j,me),c3(n.errors,j)}if(h.touchedFields&&ne&&Array.isArray(ye(n.touchedFields,j))){const me=X(ye(n.touchedFields,j),ue.argA,ue.argB);ae&&xt(n.touchedFields,j,me)}h.dirtyFields&&(n.dirtyFields=Lg(i,s)),f.state.next({name:j,isDirty:V(j,G),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xt(s,j,G)},T=(j,G)=>{xt(n.errors,j,G),f.state.next({errors:n.errors})},L=j=>{n.errors=j,f.state.next({errors:n.errors,isValid:!1})},F=(j,G,X,ue)=>{const ae=ye(r,j);if(ae){const ne=ye(s,j,an(X)?ye(i,j):X);an(ne)||ue&&ue.defaultChecked||G?xt(s,j,G?ne:fE(ae._f)):Pe(j,ne),o.mount&&R()}},B=(j,G,X,ue,ae)=>{let ne=!1,me=!1;const Ve={name:j},he=!!(ye(r,j)&&ye(r,j)._f&&ye(r,j)._f.disabled);if(!X||ue){h.isDirty&&(me=n.isDirty,n.isDirty=Ve.isDirty=V(),ne=me!==Ve.isDirty);const ze=he||eu(ye(i,j),G);me=!!(!he&&ye(n.dirtyFields,j)),ze||he?_n(n.dirtyFields,j):xt(n.dirtyFields,j,!0),Ve.dirtyFields=n.dirtyFields,ne=ne||h.dirtyFields&&me!==!ze}if(X){const ze=ye(n.touchedFields,j);ze||(xt(n.touchedFields,j,X),Ve.touchedFields=n.touchedFields,ne=ne||h.touchedFields&&ze!==X)}return ne&&ae&&f.state.next(Ve),ne?Ve:{}},C=(j,G,X,ue)=>{const ae=ye(n.errors,j),ne=h.isValid&&ma(G)&&n.isValid!==G;if(t.delayError&&X?(l=P(()=>T(j,X)),l(t.delayError)):(clearTimeout(u),l=null,X?xt(n.errors,j,X):_n(n.errors,j)),(X?!eu(ae,X):ae)||!Gr(ue)||ne){const me={...ue,...ne&&ma(G)?{isValid:G}:{},errors:n.errors,name:j};n={...n,...me},f.state.next(me)}},b=async j=>{I(j,!0);const G=await e.resolver(s,e.context,a3(j||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return I(j),G},x=async j=>{const{errors:G}=await b(j);if(j)for(const X of j){const ue=ye(G,X);ue?xt(n.errors,X,ue):_n(n.errors,X)}else n.errors=G;return G},D=async(j,G,X={valid:!0})=>{for(const ue in j){const ae=j[ue];if(ae){const{_f:ne,...me}=ae;if(ne){const Ve=a.array.has(ne.name);I([ue],!0);const he=await rC(ae,s,S,e.shouldUseNativeValidation&&!G,Ve);if(I([ue]),he[ne.name]&&(X.valid=!1,G))break;!G&&(ye(he,ne.name)?Ve?r3(n.errors,he,ne.name):xt(n.errors,ne.name,he[ne.name]):_n(n.errors,ne.name))}me&&await D(me,G,X)}}return X.valid},M=()=>{for(const j of a.unMount){const G=ye(r,j);G&&(G._f.refs?G._f.refs.every(X=>!hE(X)):!hE(G._f.ref))&&pt(j)}a.unMount=new Set},V=(j,G)=>(j&&G&&xt(s,j,G),!eu($e(),i)),O=(j,G,X)=>n3(j,a,{...o.mount?s:an(G)?i:ks(j)?{[j]:G}:G},X,G),pe=j=>um(ye(o.mount?s:i,j,t.shouldUnregister?ye(i,j,[]):[])),Pe=(j,G,X={})=>{const ue=ye(r,j);let ae=G;if(ue){const ne=ue._f;ne&&(!ne.disabled&&xt(s,j,uD(G,ne)),ae=dv(ne.ref)&&pr(G)?"":G,oD(ne.ref)?[...ne.ref.options].forEach(me=>me.selected=ae.includes(me.value)):ne.refs?lm(ne.ref)?ne.refs.length>1?ne.refs.forEach(me=>(!me.defaultChecked||!me.disabled)&&(me.checked=Array.isArray(ae)?!!ae.find(Ve=>Ve===me.value):ae===me.value)):ne.refs[0]&&(ne.refs[0].checked=!!ae):ne.refs.forEach(me=>me.checked=me.value===ae):Eb(ne.ref)?ne.ref.value="":(ne.ref.value=ae,ne.ref.type||f.values.next({name:j,values:{...s}})))}(X.shouldDirty||X.shouldTouch)&&B(j,ae,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&W(j)},Me=(j,G,X)=>{for(const ue in G){const ae=G[ue],ne=`${j}.${ue}`,me=ye(r,ne);(a.array.has(j)||!fv(ae)||me&&!me._f)&&!ed(ae)?Me(ne,ae,X):Pe(ne,ae,X)}},We=(j,G,X={})=>{const ue=ye(r,j),ae=a.array.has(j),ne=pi(G);xt(s,j,ne),ae?(f.array.next({name:j,values:{...s}}),(h.isDirty||h.dirtyFields)&&X.shouldDirty&&f.state.next({name:j,dirtyFields:Lg(i,s),isDirty:V(j,ne)})):ue&&!ue._f&&!pr(ne)?Me(j,ne,X):Pe(j,ne,X),Jk(j,a)&&f.state.next({...n}),f.values.next({name:o.mount?j:void 0,values:{...s}})},Z=async j=>{o.mount=!0;const G=j.target;let X=G.name,ue=!0;const ae=ye(r,X),ne=()=>G.type?fE(ae._f):QB(j),me=Ve=>{ue=Number.isNaN(Ve)||Ve===ye(s,X,Ve)};if(ae){let Ve,he;const ze=ne(),sn=j.type===Yk.BLUR||j.type===Yk.FOCUS_OUT,Ri=!l3(ae._f)&&!e.resolver&&!ye(n.errors,X)&&!ae._f.deps||u3(sn,ye(n.touchedFields,X),n.isSubmitted,_,p),Pi=Jk(X,a,sn);xt(s,X,ze),sn?(ae._f.onBlur&&ae._f.onBlur(j),l&&l(0)):ae._f.onChange&&ae._f.onChange(j);const yl=B(X,ze,sn,!1),xi=!Gr(yl)||Pi;if(!sn&&f.values.next({name:X,type:j.type,values:{...s}}),Ri)return h.isValid&&R(),xi&&f.state.next({name:X,...Pi?{}:yl});if(!sn&&Pi&&f.state.next({...n}),e.resolver){const{errors:vl}=await b([X]);if(me(ze),ue){const rc=iC(n.errors,r,X),Bo=iC(vl,r,rc.name||X);Ve=Bo.error,X=Bo.name,he=Gr(vl)}}else I([X],!0),Ve=(await rC(ae,s,S,e.shouldUseNativeValidation))[X],I([X]),me(ze),ue&&(Ve?he=!1:h.isValid&&(he=await D(r,!0)));ue&&(ae._f.deps&&W(ae._f.deps),C(X,he,Ve,yl))}},be=(j,G)=>{if(ye(n.errors,G)&&j.focus)return j.focus(),1},W=async(j,G={})=>{let X,ue;const ae=cE(j);if(e.resolver){const ne=await x(an(j)?j:ae);X=Gr(ne),ue=j?!ae.some(me=>ye(ne,me)):X}else j?(ue=(await Promise.all(ae.map(async ne=>{const me=ye(r,ne);return await D(me&&me._f?{[ne]:me}:me)}))).every(Boolean),!(!ue&&!n.isValid)&&R()):ue=X=await D(r);return f.state.next({...!ks(j)||h.isValid&&X!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:X}:{},errors:n.errors}),G.shouldFocus&&!ue&&zf(r,be,j?ae:a.mount),ue},$e=j=>{const G={...o.mount?s:i};return an(j)?G:ks(j)?ye(G,j):j.map(X=>ye(G,X))},_e=(j,G)=>({invalid:!!ye((G||n).errors,j),isDirty:!!ye((G||n).dirtyFields,j),error:ye((G||n).errors,j),isValidating:!!ye(n.validatingFields,j),isTouched:!!ye((G||n).touchedFields,j)}),Oe=j=>{j&&cE(j).forEach(G=>_n(n.errors,G)),f.state.next({errors:j?n.errors:{}})},ot=(j,G,X)=>{const ue=(ye(r,j,{_f:{}})._f||{}).ref,ae=ye(n.errors,j)||{},{ref:ne,message:me,type:Ve,...he}=ae;xt(n.errors,j,{...he,...G,ref:ue}),f.state.next({name:j,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&ue&&ue.focus&&ue.focus()},$t=(j,G)=>Ra(j)?f.values.subscribe({next:X=>j(O(void 0,G),X)}):O(j,G,!0),pt=(j,G={})=>{for(const X of j?cE(j):a.mount)a.mount.delete(X),a.array.delete(X),G.keepValue||(_n(r,X),_n(s,X)),!G.keepError&&_n(n.errors,X),!G.keepDirty&&_n(n.dirtyFields,X),!G.keepTouched&&_n(n.touchedFields,X),!G.keepIsValidating&&_n(n.validatingFields,X),!e.shouldUnregister&&!G.keepDefaultValue&&_n(i,X);f.values.next({values:{...s}}),f.state.next({...n,...G.keepDirty?{isDirty:V()}:{}}),!G.keepIsValid&&R()},rn=({disabled:j,name:G,field:X,fields:ue,value:ae})=>{if(ma(j)&&o.mount||j){const ne=j?void 0:an(ae)?fE(X?X._f:ye(ue,G)._f):ae;xt(s,G,ne),B(G,ne,!1,!1,!0)}},Te=(j,G={})=>{let X=ye(r,j);const ue=ma(G.disabled);return xt(r,j,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:j}},name:j,mount:!0,...G}}),a.mount.add(j),X?rn({field:X,disabled:G.disabled,name:j,value:G.value}):F(j,!0,G.value),{...ue?{disabled:G.disabled}:{},...e.progressive?{required:!!G.required,min:uf(G.min),max:uf(G.max),minLength:uf(G.minLength),maxLength:uf(G.maxLength),pattern:uf(G.pattern)}:{},name:j,onChange:Z,onBlur:Z,ref:ae=>{if(ae){Te(j,G),X=ye(r,j);const ne=an(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,me=o3(ne),Ve=X._f.refs||[];if(me?Ve.find(he=>he===ne):ne===X._f.ref)return;xt(r,j,{_f:{...X._f,...me?{refs:[...Ve.filter(hE),ne,...Array.isArray(ye(i,j))?[{}]:[]],ref:{type:ne.type,name:j}}:{ref:ne}}}),F(j,!1,void 0,ne)}else X=ye(r,j,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||G.shouldUnregister)&&!(XB(a.array,j)&&o.action)&&a.unMount.add(j)}}},sr=()=>e.shouldFocusError&&zf(r,be,a.mount),Kn=j=>{ma(j)&&(f.state.next({disabled:j}),zf(r,(G,X)=>{const ue=ye(r,X);ue&&(G.disabled=ue._f.disabled||j,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(ae=>{ae.disabled=ue._f.disabled||j}))},0,!1))},Ir=(j,G)=>async X=>{let ue;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ae=pi(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:me}=await b();n.errors=ne,ae=me}else await D(r);if(_n(n.errors,"root"),Gr(n.errors)){f.state.next({errors:{}});try{await j(ae,X)}catch(ne){ue=ne}}else G&&await G({...n.errors},X),sr(),setTimeout(sr);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gr(n.errors)&&!ue,submitCount:n.submitCount+1,errors:n.errors}),ue)throw ue},Tr=(j,G={})=>{ye(r,j)&&(an(G.defaultValue)?We(j,pi(ye(i,j))):(We(j,G.defaultValue),xt(i,j,pi(G.defaultValue))),G.keepTouched||_n(n.touchedFields,j),G.keepDirty||(_n(n.dirtyFields,j),n.isDirty=G.defaultValue?V(j,pi(ye(i,j))):V()),G.keepError||(_n(n.errors,j),h.isValid&&R()),f.state.next({...n}))},Rn=(j,G={})=>{const X=j?pi(j):i,ue=pi(X),ae=Gr(j),ne=ae?i:ue;if(G.keepDefaultValues||(i=X),!G.keepValues){if(G.keepDirtyValues)for(const me of a.mount)ye(n.dirtyFields,me)?xt(ne,me,ye(s,me)):We(me,ye(ne,me));else{if(_b&&an(j))for(const me of a.mount){const Ve=ye(r,me);if(Ve&&Ve._f){const he=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(dv(he)){const ze=he.closest("form");if(ze){ze.reset();break}}}}r={}}s=t.shouldUnregister?G.keepDefaultValues?pi(i):{}:pi(ne),f.array.next({values:{...ne}}),f.values.next({values:{...ne}})}a={mount:G.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:G.keepSubmitCount?n.submitCount:0,isDirty:ae?!1:G.keepDirty?n.isDirty:!!(G.keepDefaultValues&&!eu(j,i)),isSubmitted:G.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ae?[]:G.keepDirtyValues?G.keepDefaultValues&&s?Lg(i,s):n.dirtyFields:G.keepDefaultValues&&j?Lg(i,j):G.keepDirty?n.dirtyFields:{},touchedFields:G.keepTouched?n.touchedFields:{},errors:G.keepErrors?n.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Qn=(j,G)=>Rn(Ra(j)?j(s):j,G);return{control:{register:Te,unregister:pt,getFieldState:_e,handleSubmit:Ir,setError:ot,_executeSchema:b,_getWatch:O,_getDirty:V,_updateValid:R,_removeUnmounted:M,_updateFieldArray:w,_updateDisabledField:rn,_getFieldArray:pe,_reset:Rn,_resetDefaultValues:()=>Ra(e.defaultValues)&&e.defaultValues().then(j=>{Qn(j,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:Kn,_subjects:f,_proxyFormState:h,_setErrors:L,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(j){o=j},get _defaultValues(){return i},get _names(){return a},set _names(j){a=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:W,register:Te,handleSubmit:Ir,watch:$t,setValue:We,getValues:$e,reset:Qn,resetField:Tr,clearErrors:Oe,unregister:pt,setError:ot,setFocus:(j,G={})=>{const X=ye(r,j),ue=X&&X._f;if(ue){const ae=ue.refs?ue.refs[0]:ue.ref;ae.focus&&(ae.focus(),G.shouldSelect&&ae.select())}},getFieldState:_e}}function cD(t={}){const e=ht.useRef(),n=ht.useRef(),[r,i]=ht.useState({isDirty:!1,isValidating:!1,isLoading:Ra(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ra(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...h3(t),formState:r});const s=e.current.control;return s._options=t,t3({subject:s._subjects.state,next:o=>{e3(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),ht.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ht.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ht.useEffect(()=>{t.values&&!eu(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ht.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ht.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ht.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=ZB(r,s),e.current}var sC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(p=64)),r.push(n[h],n[f],n[p],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new p3;const p=s<<2|a>>4;if(r.push(p),u!==64){const _=a<<4&240|u>>2;if(r.push(_),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m3=function(t){const e=dD(t);return hD.encodeByteArray(e,!0)},mv=function(t){return m3(t).replace(/\./g,"")},Tb=function(t){try{return hD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!g3(n)||(t[n]=gv(t[n],e[n]));return t}function g3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=()=>y3().__FIREBASE_DEFAULTS__,_3=()=>{if(typeof process>"u"||typeof sC>"u")return;const t=sC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tb(t[1]);return e&&JSON.parse(e)},p_=()=>{try{return v3()||_3()||w3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fD=t=>{var e,n;return(n=(e=p_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},E3=t=>{const e=fD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pD=()=>{var t;return(t=p_())===null||t===void 0?void 0:t.config},bb=t=>{var e;return(e=p_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mv(JSON.stringify(n)),mv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Sb(){var t;const e=(t=p_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gD(){return typeof self=="object"&&self.self===self}function Ab(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function m_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kb(){const t=Ye();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yD(){return!Sb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ip(){try{return typeof indexedDB=="object"}catch{return!1}}function b3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="FirebaseError";class Mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S3,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qs.prototype.create)}}class qs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?A3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mn(i,a,r)}}function A3(t,e){return t.replace(k3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const k3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $d(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(aC(s)&&aC(o)){if(!$d(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Cb(t,e){const n=new C3(t,e);return n.subscribe.bind(n)}class C3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pE),i.error===void 0&&(i.error=pE),i.complete===void 0&&(i.complete=pE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t){return t&&t._delegate?t._delegate:t}class Ai{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N3(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x3(t){return t===Ul?void 0:t}function N3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=[];var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const wD={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},O3=Ke.INFO,D3={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},L3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=D3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cm{constructor(e){this.name=e,this._logLevel=O3,this._logHandler=L3,this._userLogHandler=null,Rb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}function M3(t){Rb.forEach(e=>{e.setLogLevel(t)})}function V3(t,e){for(const n of Rb){let r=null;e&&e.level&&(r=wD[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:Ke[s].toLowerCase(),message:a,args:o,type:i.name})}}}const F3=(t,e)=>e.some(n=>t instanceof n);let lC,uC;function j3(){return lC||(lC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return uC||(uC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ED=new WeakMap,J0=new WeakMap,ID=new WeakMap,mE=new WeakMap,Pb=new WeakMap;function $3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($a(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ED.set(n,t)}).catch(()=>{}),Pb.set(e,t),e}function z3(t){if(J0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});J0.set(t,e)}let Z0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return J0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ID.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $a(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B3(t){Z0=t(Z0)}function q3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gE(this),e,...n);return ID.set(r,e.sort?e.sort():[e]),$a(r)}:U3().includes(t)?function(...e){return t.apply(gE(this),e),$a(ED.get(this))}:function(...e){return $a(t.apply(gE(this),e))}}function W3(t){return typeof t=="function"?q3(t):(t instanceof IDBTransaction&&z3(t),F3(t,j3())?new Proxy(t,Z0):t)}function $a(t){if(t instanceof IDBRequest)return $3(t);if(mE.has(t))return mE.get(t);const e=W3(t);return e!==t&&(mE.set(t,e),Pb.set(e,t)),e}const gE=t=>Pb.get(t);function H3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$a(o);return r&&o.addEventListener("upgradeneeded",l=>{r($a(o.result),l.oldVersion,l.newVersion,$a(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const G3=["get","getKey","getAll","getAllKeys","count"],K3=["put","add","delete","clear"],yE=new Map;function cC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yE.get(e))return yE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G3.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return yE.set(e,s),s}B3(t=>({...t,get:(e,n,r)=>cC(e,n)||t.get(e,n,r),has:(e,n)=>!!cC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yv="@firebase/app",eI="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new cm("@firebase/app"),X3="@firebase/app-compat",J3="@firebase/analytics-compat",Z3="@firebase/analytics",e5="@firebase/app-check-compat",t5="@firebase/app-check",n5="@firebase/auth",r5="@firebase/auth-compat",i5="@firebase/database",s5="@firebase/database-compat",o5="@firebase/functions",a5="@firebase/functions-compat",l5="@firebase/installations",u5="@firebase/installations-compat",c5="@firebase/messaging",d5="@firebase/messaging-compat",h5="@firebase/performance",f5="@firebase/performance-compat",p5="@firebase/remote-config",m5="@firebase/remote-config-compat",g5="@firebase/storage",y5="@firebase/storage-compat",v5="@firebase/firestore",_5="@firebase/vertexai-preview",w5="@firebase/firestore-compat",E5="firebase",I5="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]",T5={[yv]:"fire-core",[X3]:"fire-core-compat",[Z3]:"fire-analytics",[J3]:"fire-analytics-compat",[t5]:"fire-app-check",[e5]:"fire-app-check-compat",[n5]:"fire-auth",[r5]:"fire-auth-compat",[i5]:"fire-rtdb",[s5]:"fire-rtdb-compat",[o5]:"fire-fn",[a5]:"fire-fn-compat",[l5]:"fire-iid",[u5]:"fire-iid-compat",[c5]:"fire-fcm",[d5]:"fire-fcm-compat",[h5]:"fire-perf",[f5]:"fire-perf-compat",[p5]:"fire-rc",[m5]:"fire-rc-compat",[g5]:"fire-gcs",[y5]:"fire-gcs-compat",[v5]:"fire-fst",[w5]:"fire-fst-compat",[_5]:"fire-vertex","fire-js":"fire-js",[E5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Map,zd=new Map,Bd=new Map;function Tp(t,e){try{t.container.addComponent(e)}catch(n){Cu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function TD(t,e){t.container.addOrOverwriteComponent(e)}function js(t){const e=t.name;if(Bd.has(e))return Cu.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,t);for(const n of Ga.values())Tp(n,t);for(const n of zd.values())Tp(n,t);return!0}function dm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function b5(t,e,n=Ha){dm(t,e).clearInstance(n)}function bD(t){return t.options!==void 0}function ct(t){return t.settings!==void 0}function S5(){Bd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new qs("app","Firebase",A5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SD=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5 extends SD{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Br(yv,eI,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Nb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ti.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=I5;function g_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ha,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=pD()),!n)throw Ti.create("no-options");const s=Ga.get(i);if(s){if($d(n,s.options)&&$d(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}const o=new _D(i);for(const l of Bd.values())o.addComponent(l);const a=new SD(n,r,o);return Ga.set(i,a),a}function C5(t,e){if(gD())throw Ti.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;bD(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((h,f)=>Math.imul(31,h)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ti.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=zd.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new _D(s);for(const u of Bd.values())a.addComponent(u);const l=new k5(n,e,s,a);return zd.set(s,l),l}function xb(t=Ha){const e=Ga.get(t);if(!e&&t===Ha&&pD())return g_();if(!e)throw Ti.create("no-app",{appName:t});return e}function R5(){return Array.from(Ga.values())}async function Nb(t){let e=!1;const n=t.name;Ga.has(n)?(e=!0,Ga.delete(n)):zd.has(n)&&t.decRefCount()<=0&&(zd.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Br(t,e,n){var r;let i=(r=T5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cu.warn(a.join(" "));return}js(new Ai(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function AD(t,e){if(t!==null&&typeof t!="function")throw Ti.create("invalid-log-argument");V3(t,e)}function kD(t){M3(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="firebase-heartbeat-database",x5=1,bp="firebase-heartbeat-store";let vE=null;function CD(){return vE||(vE=H3(P5,x5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),vE}async function N5(t){try{const n=(await CD()).transaction(bp),r=await n.objectStore(bp).get(RD(t));return await n.done,r}catch(e){if(e instanceof Mn)Cu.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cu.warn(n.message)}}}async function dC(t,e){try{const r=(await CD()).transaction(bp,"readwrite");await r.objectStore(bp).put(e,RD(t)),await r.done}catch(n){if(n instanceof Mn)Cu.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cu.warn(r.message)}}}function RD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=1024,D5=30*24*60*60*1e3;class L5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=D5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hC(),{heartbeatsToSend:r,unsentEntries:i}=M5(this._heartbeatsCache.heartbeats),s=mv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function hC(){return new Date().toISOString().substring(0,10)}function M5(t,e=O5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ip()?b3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fC(t){return mv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){js(new Ai("platform-logger",e=>new Q3(e),"PRIVATE")),js(new Ai("heartbeat",e=>new L5(e),"PRIVATE")),Br(yv,eI,t),Br(yv,eI,"esm2017"),Br("fire-js","")}F5("");const j5=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Mn,SDK_VERSION:ri,_DEFAULT_ENTRY_NAME:Ha,_addComponent:Tp,_addOrOverwriteComponent:TD,_apps:Ga,_clearComponents:S5,_components:Bd,_getProvider:dm,_isFirebaseApp:bD,_isFirebaseServerApp:ct,_registerComponent:js,_removeServiceInstance:b5,_serverApps:zd,deleteApp:Nb,getApp:xb,getApps:R5,initializeApp:g_,initializeServerApp:C5,onLog:AD,registerVersion:Br,setLogLevel:kD},Symbol.toStringTag,{value:"Module"}));var U5="firebase",$5="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(U5,$5,"app");var pC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yu,PD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function x(){}x.prototype=b.prototype,C.D=b.prototype,C.prototype=new x,C.prototype.constructor=C,C.C=function(D,M,V){for(var O=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)O[pe-2]=arguments[pe];return b.prototype[M].apply(D,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,x){x||(x=0);var D=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)D[M]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(M=0;16>M;++M)D[M]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=C.g[0],x=C.g[1],M=C.g[2];var V=C.g[3],O=b+(V^x&(M^V))+D[0]+3614090360&4294967295;b=x+(O<<7&4294967295|O>>>25),O=V+(M^b&(x^M))+D[1]+3905402710&4294967295,V=b+(O<<12&4294967295|O>>>20),O=M+(x^V&(b^x))+D[2]+606105819&4294967295,M=V+(O<<17&4294967295|O>>>15),O=x+(b^M&(V^b))+D[3]+3250441966&4294967295,x=M+(O<<22&4294967295|O>>>10),O=b+(V^x&(M^V))+D[4]+4118548399&4294967295,b=x+(O<<7&4294967295|O>>>25),O=V+(M^b&(x^M))+D[5]+1200080426&4294967295,V=b+(O<<12&4294967295|O>>>20),O=M+(x^V&(b^x))+D[6]+2821735955&4294967295,M=V+(O<<17&4294967295|O>>>15),O=x+(b^M&(V^b))+D[7]+4249261313&4294967295,x=M+(O<<22&4294967295|O>>>10),O=b+(V^x&(M^V))+D[8]+1770035416&4294967295,b=x+(O<<7&4294967295|O>>>25),O=V+(M^b&(x^M))+D[9]+2336552879&4294967295,V=b+(O<<12&4294967295|O>>>20),O=M+(x^V&(b^x))+D[10]+4294925233&4294967295,M=V+(O<<17&4294967295|O>>>15),O=x+(b^M&(V^b))+D[11]+2304563134&4294967295,x=M+(O<<22&4294967295|O>>>10),O=b+(V^x&(M^V))+D[12]+1804603682&4294967295,b=x+(O<<7&4294967295|O>>>25),O=V+(M^b&(x^M))+D[13]+4254626195&4294967295,V=b+(O<<12&4294967295|O>>>20),O=M+(x^V&(b^x))+D[14]+2792965006&4294967295,M=V+(O<<17&4294967295|O>>>15),O=x+(b^M&(V^b))+D[15]+1236535329&4294967295,x=M+(O<<22&4294967295|O>>>10),O=b+(M^V&(x^M))+D[1]+4129170786&4294967295,b=x+(O<<5&4294967295|O>>>27),O=V+(x^M&(b^x))+D[6]+3225465664&4294967295,V=b+(O<<9&4294967295|O>>>23),O=M+(b^x&(V^b))+D[11]+643717713&4294967295,M=V+(O<<14&4294967295|O>>>18),O=x+(V^b&(M^V))+D[0]+3921069994&4294967295,x=M+(O<<20&4294967295|O>>>12),O=b+(M^V&(x^M))+D[5]+3593408605&4294967295,b=x+(O<<5&4294967295|O>>>27),O=V+(x^M&(b^x))+D[10]+38016083&4294967295,V=b+(O<<9&4294967295|O>>>23),O=M+(b^x&(V^b))+D[15]+3634488961&4294967295,M=V+(O<<14&4294967295|O>>>18),O=x+(V^b&(M^V))+D[4]+3889429448&4294967295,x=M+(O<<20&4294967295|O>>>12),O=b+(M^V&(x^M))+D[9]+568446438&4294967295,b=x+(O<<5&4294967295|O>>>27),O=V+(x^M&(b^x))+D[14]+3275163606&4294967295,V=b+(O<<9&4294967295|O>>>23),O=M+(b^x&(V^b))+D[3]+4107603335&4294967295,M=V+(O<<14&4294967295|O>>>18),O=x+(V^b&(M^V))+D[8]+1163531501&4294967295,x=M+(O<<20&4294967295|O>>>12),O=b+(M^V&(x^M))+D[13]+2850285829&4294967295,b=x+(O<<5&4294967295|O>>>27),O=V+(x^M&(b^x))+D[2]+4243563512&4294967295,V=b+(O<<9&4294967295|O>>>23),O=M+(b^x&(V^b))+D[7]+1735328473&4294967295,M=V+(O<<14&4294967295|O>>>18),O=x+(V^b&(M^V))+D[12]+2368359562&4294967295,x=M+(O<<20&4294967295|O>>>12),O=b+(x^M^V)+D[5]+4294588738&4294967295,b=x+(O<<4&4294967295|O>>>28),O=V+(b^x^M)+D[8]+2272392833&4294967295,V=b+(O<<11&4294967295|O>>>21),O=M+(V^b^x)+D[11]+1839030562&4294967295,M=V+(O<<16&4294967295|O>>>16),O=x+(M^V^b)+D[14]+4259657740&4294967295,x=M+(O<<23&4294967295|O>>>9),O=b+(x^M^V)+D[1]+2763975236&4294967295,b=x+(O<<4&4294967295|O>>>28),O=V+(b^x^M)+D[4]+1272893353&4294967295,V=b+(O<<11&4294967295|O>>>21),O=M+(V^b^x)+D[7]+4139469664&4294967295,M=V+(O<<16&4294967295|O>>>16),O=x+(M^V^b)+D[10]+3200236656&4294967295,x=M+(O<<23&4294967295|O>>>9),O=b+(x^M^V)+D[13]+681279174&4294967295,b=x+(O<<4&4294967295|O>>>28),O=V+(b^x^M)+D[0]+3936430074&4294967295,V=b+(O<<11&4294967295|O>>>21),O=M+(V^b^x)+D[3]+3572445317&4294967295,M=V+(O<<16&4294967295|O>>>16),O=x+(M^V^b)+D[6]+76029189&4294967295,x=M+(O<<23&4294967295|O>>>9),O=b+(x^M^V)+D[9]+3654602809&4294967295,b=x+(O<<4&4294967295|O>>>28),O=V+(b^x^M)+D[12]+3873151461&4294967295,V=b+(O<<11&4294967295|O>>>21),O=M+(V^b^x)+D[15]+530742520&4294967295,M=V+(O<<16&4294967295|O>>>16),O=x+(M^V^b)+D[2]+3299628645&4294967295,x=M+(O<<23&4294967295|O>>>9),O=b+(M^(x|~V))+D[0]+4096336452&4294967295,b=x+(O<<6&4294967295|O>>>26),O=V+(x^(b|~M))+D[7]+1126891415&4294967295,V=b+(O<<10&4294967295|O>>>22),O=M+(b^(V|~x))+D[14]+2878612391&4294967295,M=V+(O<<15&4294967295|O>>>17),O=x+(V^(M|~b))+D[5]+4237533241&4294967295,x=M+(O<<21&4294967295|O>>>11),O=b+(M^(x|~V))+D[12]+1700485571&4294967295,b=x+(O<<6&4294967295|O>>>26),O=V+(x^(b|~M))+D[3]+2399980690&4294967295,V=b+(O<<10&4294967295|O>>>22),O=M+(b^(V|~x))+D[10]+4293915773&4294967295,M=V+(O<<15&4294967295|O>>>17),O=x+(V^(M|~b))+D[1]+2240044497&4294967295,x=M+(O<<21&4294967295|O>>>11),O=b+(M^(x|~V))+D[8]+1873313359&4294967295,b=x+(O<<6&4294967295|O>>>26),O=V+(x^(b|~M))+D[15]+4264355552&4294967295,V=b+(O<<10&4294967295|O>>>22),O=M+(b^(V|~x))+D[6]+2734768916&4294967295,M=V+(O<<15&4294967295|O>>>17),O=x+(V^(M|~b))+D[13]+1309151649&4294967295,x=M+(O<<21&4294967295|O>>>11),O=b+(M^(x|~V))+D[4]+4149444226&4294967295,b=x+(O<<6&4294967295|O>>>26),O=V+(x^(b|~M))+D[11]+3174756917&4294967295,V=b+(O<<10&4294967295|O>>>22),O=M+(b^(V|~x))+D[2]+718787259&4294967295,M=V+(O<<15&4294967295|O>>>17),O=x+(V^(M|~b))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var x=b-this.blockSize,D=this.B,M=this.h,V=0;V<b;){if(M==0)for(;V<=x;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<b;)if(D[M++]=C.charCodeAt(V++),M==this.blockSize){i(this,D),M=0;break}}else for(;V<b;)if(D[M++]=C[V++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var x=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=x&255,x/=256;for(this.u(C),C=Array(16),b=x=0;4>b;++b)for(var D=0;32>D;D+=8)C[x++]=this.g[b]>>>D&255;return C};function s(C,b){var x=a;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=b(C)}function o(C,b){this.h=b;for(var x=[],D=!0,M=C.length-1;0<=M;M--){var V=C[M]|0;D&&V==b||(x[M]=V,D=!1)}this.g=x}var a={};function l(C){return-128<=C&&128>C?s(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return R(u(-C));for(var b=[],x=1,D=0;C>=x;D++)b[D]=C/x|0,x*=4294967296;return new o(b,0)}function h(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return R(h(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(b,8)),D=f,M=0;M<C.length;M+=8){var V=Math.min(8,C.length-M),O=parseInt(C.substring(M,M+V),b);8>V?(V=u(Math.pow(b,V)),D=D.j(V).add(u(O))):(D=D.j(x),D=D.add(u(O)))}return D}var f=l(0),p=l(1),_=l(16777216);t=o.prototype,t.m=function(){if(P(this))return-R(this).m();for(var C=0,b=1,x=0;x<this.g.length;x++){var D=this.i(x);C+=(0<=D?D:4294967296+D)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(P(this))return"-"+R(this).toString(C);for(var b=u(Math.pow(C,6)),x=this,D="";;){var M=L(x,b).g;x=I(x,M.j(b));var V=((0<x.g.length?x.g[0]:x.h)>>>0).toString(C);if(x=M,S(x))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=I(this,C),P(C)?-1:S(C)?0:1};function R(C){for(var b=C.g.length,x=[],D=0;D<b;D++)x[D]=~C.g[D];return new o(x,~C.h).add(p)}t.abs=function(){return P(this)?R(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],D=0,M=0;M<=b;M++){var V=D+(this.i(M)&65535)+(C.i(M)&65535),O=(V>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);D=O>>>16,V&=65535,O&=65535,x[M]=O<<16|V}return new o(x,x[x.length-1]&-2147483648?-1:0)};function I(C,b){return C.add(R(b))}t.j=function(C){if(S(this)||S(C))return f;if(P(this))return P(C)?R(this).j(R(C)):R(R(this).j(C));if(P(C))return R(this.j(R(C)));if(0>this.l(_)&&0>C.l(_))return u(this.m()*C.m());for(var b=this.g.length+C.g.length,x=[],D=0;D<2*b;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<C.g.length;M++){var V=this.i(D)>>>16,O=this.i(D)&65535,pe=C.i(M)>>>16,Pe=C.i(M)&65535;x[2*D+2*M]+=O*Pe,w(x,2*D+2*M),x[2*D+2*M+1]+=V*Pe,w(x,2*D+2*M+1),x[2*D+2*M+1]+=O*pe,w(x,2*D+2*M+1),x[2*D+2*M+2]+=V*pe,w(x,2*D+2*M+2)}for(D=0;D<b;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=b;D<2*b;D++)x[D]=0;return new o(x,0)};function w(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function T(C,b){this.g=C,this.h=b}function L(C,b){if(S(b))throw Error("division by zero");if(S(C))return new T(f,f);if(P(C))return b=L(R(C),b),new T(R(b.g),R(b.h));if(P(b))return b=L(C,R(b)),new T(R(b.g),b.h);if(30<C.g.length){if(P(C)||P(b))throw Error("slowDivide_ only works with positive integers.");for(var x=p,D=b;0>=D.l(C);)x=F(x),D=F(D);var M=B(x,1),V=B(D,1);for(D=B(D,2),x=B(x,2);!S(D);){var O=V.add(D);0>=O.l(C)&&(M=M.add(x),V=O),D=B(D,1),x=B(x,1)}return b=I(C,M.j(b)),new T(M,b)}for(M=f;0<=C.l(b);){for(x=Math.max(1,Math.floor(C.m()/b.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=u(x),O=V.j(b);P(O)||0<O.l(C);)x-=D,V=u(x),O=V.j(b);S(V)&&(V=p),M=M.add(V),C=I(C,O)}return new T(M,C)}t.A=function(C){return L(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)&C.i(D);return new o(x,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)|C.i(D);return new o(x,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)^C.i(D);return new o(x,this.h^C.h)};function F(C){for(var b=C.g.length+1,x=[],D=0;D<b;D++)x[D]=C.i(D)<<1|C.i(D-1)>>>31;return new o(x,C.h)}function B(C,b){var x=b>>5;b%=32;for(var D=C.g.length-x,M=[],V=0;V<D;V++)M[V]=0<b?C.i(V+x)>>>b|C.i(V+x+1)<<32-b:C.i(V+x);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,yu=o}).apply(typeof pC<"u"?pC:typeof self<"u"?self:typeof window<"u"?window:{});var Mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xD,ND,Tf,OD,gy,tI,DD,LD,MD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,y){return c==Array.prototype||c==Object.prototype||(c[m]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mg=="object"&&Mg];for(var m=0;m<c.length;++m){var y=c[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var y=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var q=c[k];if(!(q in y))break e;y=y[q]}c=c[c.length-1],k=y[c],m=m(k),m!=k&&m!=null&&e(y,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var y=0,k=!1,q={next:function(){if(!k&&y<c.length){var Q=y++;return{value:m(Q,c[Q]),done:!1}}return k=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,y){return c.call.apply(c.bind,arguments)}function f(c,m,y){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,k),c.apply(m,q)}}return function(){return c.apply(m,arguments)}}function p(c,m,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function _(c,m){var y=Array.prototype.slice.call(arguments,1);return function(){var k=y.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function S(c,m){function y(){}y.prototype=m.prototype,c.aa=m.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(k,q,Q){for(var se=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)se[mt-2]=arguments[mt];return m.prototype[q].apply(k,se)}}function P(c){const m=c.length;if(0<m){const y=Array(m);for(let k=0;k<m;k++)y[k]=c[k];return y}return[]}function R(c,m){for(let y=1;y<arguments.length;y++){const k=arguments[y];if(l(k)){const q=c.length||0,Q=k.length||0;c.length=q+Q;for(let se=0;se<Q;se++)c[q+se]=k[se]}else c.push(k)}}class I{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function L(c){return L[" "](c),c}L[" "]=function(){};var F=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function B(c,m,y){for(const k in c)m.call(y,c[k],k,c)}function C(c,m){for(const y in c)m.call(void 0,c[y],y,c)}function b(c){const m={};for(const y in c)m[y]=c[y];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,m){let y,k;for(let q=1;q<arguments.length;q++){k=arguments[q];for(y in k)c[y]=k[y];for(let Q=0;Q<x.length;Q++)y=x[Q],Object.prototype.hasOwnProperty.call(k,y)&&(c[y]=k[y])}}function M(c){var m=1;c=c.split(":");const y=[];for(;0<m&&c.length;)y.push(c.shift()),m--;return c.length&&y.push(c.join(":")),y}function V(c){a.setTimeout(()=>{throw c},0)}function O(){var c=be;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,y){const k=Pe.get();k.set(m,y),this.h?this.h.next=k:this.g=k,this.h=k}}var Pe=new I(()=>new Me,c=>c.reset());class Me{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let We,Z=!1,be=new pe,W=()=>{const c=a.Promise.resolve(void 0);We=()=>{c.then($e)}};var $e=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(y){V(y)}var m=Pe;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}Z=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return c}();function $t(c,m){if(Oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(F){e:{try{L(m.nodeName);var q=!0;break e}catch{}q=!1}q||(m=null)}}else y=="mouseover"?m=c.fromElement:y=="mouseout"&&(m=c.toElement);this.relatedTarget=m,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$t.aa.h.call(this)}}S($t,Oe);var pt={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rn="closure_listenable_"+(1e6*Math.random()|0),Te=0;function sr(c,m,y,k,q){this.listener=c,this.proxy=null,this.src=m,this.type=y,this.capture=!!k,this.ha=q,this.key=++Te,this.da=this.fa=!1}function Kn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ir(c){this.src=c,this.g={},this.h=0}Ir.prototype.add=function(c,m,y,k,q){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=Rn(c,m,k,q);return-1<se?(m=c[se],y||(m.fa=!1)):(m=new sr(m,this.src,Q,!!k,q),m.fa=y,c.push(m)),m};function Tr(c,m){var y=m.type;if(y in c.g){var k=c.g[y],q=Array.prototype.indexOf.call(k,m,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(k,q,1),Q&&(Kn(m),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Rn(c,m,y,k){for(var q=0;q<c.length;++q){var Q=c[q];if(!Q.da&&Q.listener==m&&Q.capture==!!y&&Q.ha==k)return q}return-1}var Qn="closure_lm_"+(1e6*Math.random()|0),et={};function or(c,m,y,k,q){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)or(c,m[Q],y,k,q);return null}return y=Ve(y),c&&c[rn]?c.K(m,y,u(k)?!!k.capture:!!k,q):ns(c,m,y,!1,k,q)}function ns(c,m,y,k,q,Q){if(!m)throw Error("Invalid event type");var se=u(q)?!!q.capture:!!q,mt=ne(c);if(mt||(c[Qn]=mt=new Ir(c)),y=mt.add(m,y,k,se,Q),y.proxy)return y;if(k=j(),y.proxy=k,k.src=c,k.listener=y,c.addEventListener)ot||(q=se),q===void 0&&(q=!1),c.addEventListener(m.toString(),k,q);else if(c.attachEvent)c.attachEvent(ue(m.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return y}function j(){function c(y){return m.call(c.src,c.listener,y)}const m=ae;return c}function G(c,m,y,k,q){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)G(c,m[Q],y,k,q);else k=u(k)?!!k.capture:!!k,y=Ve(y),c&&c[rn]?(c=c.i,m=String(m).toString(),m in c.g&&(Q=c.g[m],y=Rn(Q,y,k,q),-1<y&&(Kn(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete c.g[m],c.h--)))):c&&(c=ne(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rn(m,y,k,q)),(y=-1<c?m[c]:null)&&X(y))}function X(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[rn])Tr(m.i,c);else{var y=c.type,k=c.proxy;m.removeEventListener?m.removeEventListener(y,k,c.capture):m.detachEvent?m.detachEvent(ue(y),k):m.addListener&&m.removeListener&&m.removeListener(k),(y=ne(m))?(Tr(y,c),y.h==0&&(y.src=null,m[Qn]=null)):Kn(c)}}}function ue(c){return c in et?et[c]:et[c]="on"+c}function ae(c,m){if(c.da)c=!0;else{m=new $t(m,this);var y=c.listener,k=c.ha||c.src;c.fa&&X(c),c=y.call(k,m)}return c}function ne(c){return c=c[Qn],c instanceof Ir?c:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(c){return typeof c=="function"?c:(c[me]||(c[me]=function(m){return c.handleEvent(m)}),c[me])}function he(){_e.call(this),this.i=new Ir(this),this.M=this,this.F=null}S(he,_e),he.prototype[rn]=!0,he.prototype.removeEventListener=function(c,m,y,k){G(this,c,m,y,k)};function ze(c,m){var y,k=c.F;if(k)for(y=[];k;k=k.F)y.push(k);if(c=c.M,k=m.type||m,typeof m=="string")m=new Oe(m,c);else if(m instanceof Oe)m.target=m.target||c;else{var q=m;m=new Oe(k,c),D(m,q)}if(q=!0,y)for(var Q=y.length-1;0<=Q;Q--){var se=m.g=y[Q];q=sn(se,k,!0,m)&&q}if(se=m.g=c,q=sn(se,k,!0,m)&&q,q=sn(se,k,!1,m)&&q,y)for(Q=0;Q<y.length;Q++)se=m.g=y[Q],q=sn(se,k,!1,m)&&q}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var y=c.g[m],k=0;k<y.length;k++)Kn(y[k]);delete c.g[m],c.h--}}this.F=null},he.prototype.K=function(c,m,y,k){return this.i.add(String(c),m,!1,y,k)},he.prototype.L=function(c,m,y,k){return this.i.add(String(c),m,!0,y,k)};function sn(c,m,y,k){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var q=!0,Q=0;Q<m.length;++Q){var se=m[Q];if(se&&!se.da&&se.capture==y){var mt=se.listener,yn=se.ha||se.src;se.fa&&Tr(c.i,se),q=mt.call(yn,k)!==!1&&q}}return q&&!k.defaultPrevented}function Ri(c,m,y){if(typeof c=="function")y&&(c=p(c,y));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Pi(c){c.g=Ri(()=>{c.g=null,c.i&&(c.i=!1,Pi(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class yl extends _e{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(c){_e.call(this),this.h=c,this.g={}}S(xi,_e);var vl=[];function rc(c){B(c.g,function(m,y){this.g.hasOwnProperty(y)&&X(m)},c),c.g={}}xi.prototype.N=function(){xi.aa.N.call(this),rc(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bo=a.JSON.stringify,yw=a.JSON.parse,vw=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ph(){}Ph.prototype.h=null;function xh(c){return c.h||(c.h=c.i())}function _l(){}var qo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ic(){Oe.call(this,"d")}S(ic,Oe);function Nh(){Oe.call(this,"c")}S(Nh,Oe);var Ws={},Um=null;function sc(){return Um=Um||new he}Ws.La="serverreachability";function Hs(c){Oe.call(this,Ws.La,c)}S(Hs,Oe);function Ni(c){const m=sc();ze(m,new Hs(m))}Ws.STAT_EVENT="statevent";function $m(c,m){Oe.call(this,Ws.STAT_EVENT,c),this.stat=m}S($m,Oe);function $n(c){const m=sc();ze(m,new $m(m,c))}Ws.Ma="timingevent";function zm(c,m){Oe.call(this,Ws.Ma,c),this.size=m}S(zm,Oe);function wl(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function El(){this.g=!0}El.prototype.xa=function(){this.g=!1};function Oh(c,m,y,k,q,Q){c.info(function(){if(c.g)if(Q)for(var se="",mt=Q.split("&"),yn=0;yn<mt.length;yn++){var it=mt[yn].split("=");if(1<it.length){var wt=it[0];it=it[1];var vn=wt.split("_");se=2<=vn.length&&vn[1]=="type"?se+(wt+"="+it+"&"):se+(wt+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+k+") [attempt "+q+"]: "+m+`
`+y+`
`+se})}function Wo(c,m,y,k,q,Q,se){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+q+"]: "+m+`
`+y+`
`+Q+" "+se})}function Oi(c,m,y,k){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(c,y)+(k?" "+k:"")})}function _w(c,m){c.info(function(){return"TIMEOUT: "+m})}El.prototype.info=function(){};function Dh(c,m){if(!c.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var k=y[c];if(!(2>k.length)){var q=k[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<q.length;se++)q[se]=""}}}}return Bo(y)}catch{return m}}var oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rs;function hn(){}S(hn,Ph),hn.prototype.g=function(){return new XMLHttpRequest},hn.prototype.i=function(){return{}},rs=new hn;function Gt(c,m,y,k){this.j=c,this.i=m,this.l=y,this.R=k||1,this.U=new xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Pn={},Ho={};function is(c,m,y){c.L=1,c.v=Ko(qr(m)),c.m=y,c.P=!0,ss(c,null)}function ss(c,m){c.F=Date.now(),Go(c),c.A=qr(c.v);var y=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),zh(y.i,"t",k),c.C=0,y=c.j.J,c.h=new Yn,c.g=ig(c.j,y?m:null,!c.m),0<c.O&&(c.M=new yl(p(c.Y,c,c.g),c.O)),m=c.U,y=c.g,k=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(vl[0]=q.toString()),q=vl);for(var Q=0;Q<q.length;Q++){var se=or(y,q[Q],k||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ni(),Oh(c.i,c.u,c.A,c.l,c.R,c.m)}Gt.prototype.ca=function(c){c=c.target;const m=this.M;m&&li(c)==3?m.j():this.Y(c)},Gt.prototype.Y=function(c){try{if(c==this.g)e:{const vn=li(this.g);var m=this.g.Ba();const Zs=this.g.Z();if(!(3>vn)&&(vn!=3||this.g&&(this.h.h||this.g.oa()||Hh(this.g)))){this.J||vn!=4||m==7||(m==8||0>=Zs?Ni(3):Ni(2)),ac(this);var y=this.g.Z();this.X=y;t:if(Gs(this)){var k=Hh(this.g);c="";var q=k.length,Q=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),Qs(this);var se="";break t}this.h.i=new a.TextDecoder}for(m=0;m<q;m++)this.h.h=!0,c+=this.h.i.decode(k[m],{stream:!(Q&&m==q-1)});k.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=y==200,Wo(this.i,this.u,this.A,this.l,this.R,vn,y),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,yn=this.g;if((mt=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(mt)){var it=mt;break t}}it=null}if(y=it)Oi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lc(this,y);else{this.o=!1,this.s=3,$n(12),Di(this),Qs(this);break e}}if(this.P){y=!0;let kr;for(;!this.J&&this.C<se.length;)if(kr=qm(this,se),kr==Ho){vn==4&&(this.s=4,$n(14),y=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==Pn){this.s=4,$n(15),Oi(this.i,this.l,se,"[Invalid Chunk]"),y=!1;break}else Oi(this.i,this.l,kr,null),lc(this,kr);if(Gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vn!=4||se.length!=0||this.h.h||(this.s=1,$n(16),y=!1),this.o=this.o&&y,!y)Oi(this.i,this.l,se,"[Invalid Chunked Response]"),Di(this),Qs(this);else if(0<se.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),vc(wt),wt.M=!0,$n(11))}}else Oi(this.i,this.l,se,null),lc(this,se);vn==4&&Di(this),this.o&&!this.J&&(vn==4?_c(this.j,this):(this.o=!1,Go(this)))}else Ym(this.g),y==400&&0<se.indexOf("Unknown SID")?(this.s=3,$n(12)):(this.s=0,$n(13)),Di(this),Qs(this)}}}catch{}finally{}};function Gs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qm(c,m){var y=c.C,k=m.indexOf(`
`,y);return k==-1?Ho:(y=Number(m.substring(y,k)),isNaN(y)?Pn:(k+=1,k+y>m.length?Ho:(m=m.slice(k,k+y),c.C=k+y,m)))}Gt.prototype.cancel=function(){this.J=!0,Di(this)};function Go(c){c.S=Date.now()+c.I,Ks(c,c.I)}function Ks(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wl(p(c.ba,c),m)}function ac(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Gt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_w(this.i,this.A),this.L!=2&&(Ni(),$n(17)),Di(this),this.s=2,Qs(this)):Ks(this,this.S-c)};function Qs(c){c.j.G==0||c.J||_c(c.j,c)}function Di(c){ac(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,rc(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function lc(c,m){try{var y=c.j;if(y.G!=0&&(y.g==c||uc(y.h,c))){if(!c.K&&uc(y.h,c)&&y.G==3){try{var k=y.Da.g.parse(m)}catch{k=null}if(Array.isArray(k)&&k.length==3){var q=k;if(q[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)ui(y),Cl(y);else break e;Rl(y),$n(18)}}else y.za=q[1],0<y.za-y.T&&37500>q[2]&&y.F&&y.v==0&&!y.C&&(y.C=wl(p(y.Za,y),6e3));if(1>=Vh(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else us(y,11)}else if((c.K||y.g==c)&&ui(y),!w(m))for(q=y.Da.g.parse(m),m=0;m<q.length;m++){let it=q[m];if(y.T=it[0],it=it[1],y.G==2)if(it[0]=="c"){y.K=it[1],y.ia=it[2];const wt=it[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const vn=it[4];vn!=null&&(y.Aa=vn,y.j.info("SVER="+y.Aa));const Zs=it[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(k=1.5*Zs,y.L=k,y.j.info("backChannelRequestTimeoutMs_="+k)),k=y;const kr=c.g;if(kr){const wc=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wc){var Q=k.h;Q.g||wc.indexOf("spdy")==-1&&wc.indexOf("quic")==-1&&wc.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(cc(Q,Q.h),Q.h=null))}if(k.D){const Yh=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;Yh&&(k.ya=Yh,ut(k.I,k.D,Yh))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),k=y;var se=c;if(k.qa=rg(k,k.J?k.ia:null,k.W),se.K){Fh(k.h,se);var mt=se,yn=k.L;yn&&(mt.I=yn),mt.B&&(ac(mt),Go(mt)),k.g=se}else eg(k);0<y.i.length&&yc(y)}else it[0]!="stop"&&it[0]!="close"||us(y,7);else y.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?us(y,7):kl(y):it[0]!="noop"&&y.l&&y.l.ta(it),y.v=0)}}Ni(4)}catch{}}var Wm=class{constructor(c,m){this.g=c,this.map=m}};function Lh(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mh(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vh(c){return c.h?1:c.g?c.g.size:0}function uc(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function cc(c,m){c.g?c.g.add(m):c.h=m}function Fh(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Lh.prototype.cancel=function(){if(this.i=jh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jh(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const y of c.g.values())m=m.concat(y.D);return m}return P(c.i)}function Hm(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],y=c.length,k=0;k<y;k++)m.push(c[k]);return m}m=[],y=0;for(k in c)m[y++]=c[k];return m}function si(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var y=0;y<c;y++)m.push(y);return m}m=[],y=0;for(const k in c)m[y++]=k;return m}}}function Xn(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var y=si(c),k=Hm(c),q=k.length,Q=0;Q<q;Q++)m.call(void 0,k[Q],y&&y[Q],c)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function br(c,m){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var k=c[y].indexOf("="),q=null;if(0<=k){var Q=c[y].substring(0,k);q=c[y].substring(k+1)}else Q=c[y];m(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Li(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Li){this.h=c.h,ar(this,c.j),this.o=c.o,this.g=c.g,oi(this,c.s),this.l=c.l;var m=c.i,y=new Yo;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Il(this,y),this.m=c.m}else c&&(m=String(c).match(os))?(this.h=!1,ar(this,m[1]||"",!0),this.o=Qo(m[2]||""),this.g=Qo(m[3]||"",!0),oi(this,m[4]),this.l=Qo(m[5]||"",!0),Il(this,m[6]||"",!0),this.m=Qo(m[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}Li.prototype.toString=function(){var c=[],m=this.j;m&&c.push(ai(m,$h,!0),":");var y=this.g;return(y||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ai(m,$h,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(ai(y,y.charAt(0)=="/"?ww:Mi,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",ai(y,dc)),c.join("")};function qr(c){return new Li(c)}function ar(c,m,y){c.j=y?Qo(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function oi(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Il(c,m,y){m instanceof Yo?(c.i=m,Gm(c.i,c.h)):(y||(m=ai(m,as)),c.i=new Yo(m,c.h))}function ut(c,m,y){c.i.set(m,y)}function Ko(c){return ut(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qo(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ai(c,m,y){return typeof c=="string"?(c=encodeURI(c).replace(m,Uh),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $h=/[#\/\?@]/g,Mi=/[#\?:]/g,ww=/[#\?]/g,as=/[#\?@]/g,dc=/#/g;function Yo(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Sr(c){c.g||(c.g=new Map,c.h=0,c.i&&br(c.i,function(m,y){c.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Yo.prototype,t.add=function(c,m){Sr(this),this.i=null,c=Ys(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(m),this.h+=1,this};function hc(c,m){Sr(c),m=Ys(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Xo(c,m){return Sr(c),m=Ys(c,m),c.g.has(m)}t.forEach=function(c,m){Sr(this),this.g.forEach(function(y,k){y.forEach(function(q){c.call(m,q,k,this)},this)},this)},t.na=function(){Sr(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let k=0;k<m.length;k++){const q=c[k];for(let Q=0;Q<q.length;Q++)y.push(m[k])}return y},t.V=function(c){Sr(this);let m=[];if(typeof c=="string")Xo(this,c)&&(m=m.concat(this.g.get(Ys(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)m=m.concat(c[y])}return m},t.set=function(c,m){return Sr(this),this.i=null,c=Ys(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function zh(c,m,y){hc(c,m),0<y.length&&(c.i=null,c.g.set(Ys(c,m),P(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var k=m[y];const Q=encodeURIComponent(String(k)),se=this.V(k);for(k=0;k<se.length;k++){var q=Q;se[k]!==""&&(q+="="+encodeURIComponent(String(se[k]))),c.push(q)}}return this.i=c.join("&")};function Ys(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Gm(c,m){m&&!c.j&&(Sr(c),c.i=null,c.g.forEach(function(y,k){var q=k.toLowerCase();k!=q&&(hc(this,k),zh(this,q,y))},c)),c.j=m}function Jo(c,m){const y=new El;if(a.Image){const k=new Image;k.onload=_(Vi,y,"TestLoadImage: loaded",!0,m,k),k.onerror=_(Vi,y,"TestLoadImage: error",!1,m,k),k.onabort=_(Vi,y,"TestLoadImage: abort",!1,m,k),k.ontimeout=_(Vi,y,"TestLoadImage: timeout",!1,m,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else m(!1)}function Ew(c,m){const y=new El,k=new AbortController,q=setTimeout(()=>{k.abort(),Vi(y,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:k.signal}).then(Q=>{clearTimeout(q),Q.ok?Vi(y,"TestPingServer: ok",!0,m):Vi(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(q),Vi(y,"TestPingServer: error",!1,m)})}function Vi(c,m,y,k,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),k(y)}catch{}}function Bh(){this.g=new vw}function fc(c,m,y){const k=y||"";try{Xn(c,function(q,Q){let se=q;u(q)&&(se=Bo(q)),m.push(k+Q+"="+encodeURIComponent(se))})}catch(q){throw m.push(k+"type="+encodeURIComponent("_badmap")),q}}function Xs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Xs,Ph),Xs.prototype.g=function(){return new pc(this.l,this.j)},Xs.prototype.i=function(c){return function(){return c}}({});function pc(c,m){he.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(pc,he),t=pc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Zo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?bl(this):Zo(this),this.readyState==3&&Tl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,bl(this))},t.Qa=function(c){this.g&&(this.response=c,bl(this))},t.ga=function(){this.g&&bl(this)};function bl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zo(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=m.next();return c.join(`\r
`)};function Zo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function mc(c){let m="";return B(c,function(y,k){m+=k,m+=":",m+=y,m+=`\r
`}),m}function Sl(c,m,y){e:{for(k in y){var k=!1;break e}k=!0}k||(y=mc(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):ut(c,m,y))}function At(c){he.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(At,he);var Km=/^https?$/i,Al=["POST","PUT"];t=At.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,y,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rs.g(),this.v=this.o?xh(this.o):xh(rs),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(Q){gc(this,Q);return}if(c=y||"",y=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var q in k)y.set(q,k[q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Q of k.keys())y.set(Q,k.get(Q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Al,m,void 0))||k||q||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of y)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qm(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){gc(this,Q)}};function gc(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,qh(c),Fi(c)}function qh(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ze(this,"complete"),ze(this,"abort"),Fi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wh(this):this.bb())},t.bb=function(){Wh(this)};function Wh(c){if(c.h&&typeof o<"u"&&(!c.v[1]||li(c)!=4||c.Z()!=2)){if(c.u&&li(c)==4)Ri(c.Ea,0,c);else if(ze(c,"readystatechange"),li(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var k;if(k=se===0){var q=String(c.D).match(os)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),k=!Km.test(q?q.toLowerCase():"")}y=k}if(y)ze(c,"complete"),ze(c,"success");else{c.m=6;try{var Q=2<li(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",qh(c)}}finally{Fi(c)}}}}function Fi(c,m){if(c.g){Qm(c);const y=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||ze(c,"ready");try{y.onreadystatechange=k}catch{}}}function Qm(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function li(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),yw(m)}};function Hh(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ym(c){const m={};c=(c.g&&2<=li(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(w(c[k]))continue;var y=M(c[k]);const q=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=m[q]||[];m[q]=Q,Q.push(y)}C(m,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(c,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||m}function Gh(c){this.Aa=0,this.i=[],this.j=new El,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,c),this.cb=ea("retryDelaySeedMs",1e4,c),this.Wa=ea("forwardChannelMaxRetries",2,c),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Lh(c&&c.concurrentRequestLimit),this.Da=new Bh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gh.prototype,t.la=8,t.G=1,t.connect=function(c,m,y,k){$n(0),this.W=c,this.H=m||{},y&&k!==void 0&&(this.H.OSID=y,this.H.OAID=k),this.F=this.X,this.I=rg(this,null,this.W),yc(this)};function kl(c){if(Xm(c),c.G==3){var m=c.U++,y=qr(c.I);if(ut(y,"SID",c.K),ut(y,"RID",m),ut(y,"TYPE","terminate"),ls(c,y),m=new Gt(c,c.j,m),m.L=2,m.v=Ko(qr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=ig(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Go(m)}ng(c)}function Cl(c){c.g&&(vc(c),c.g.cancel(),c.g=null)}function Xm(c){Cl(c),c.u&&(a.clearTimeout(c.u),c.u=null),ui(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yc(c){if(!Mh(c.h)&&!c.s){c.s=!0;var m=c.Ga;We||W(),Z||(We(),Z=!0),be.add(m,c),c.B=0}}function Jm(c,m){return Vh(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wl(p(c.Ga,c,m),tg(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Gt(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=b(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var k=this.i[y];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(m+=k,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Zm(this,q,m),y=qr(this.I),ut(y,"RID",c),ut(y,"CVER",22),this.D&&ut(y,"X-HTTP-Session-Id",this.D),ls(this,y),Q&&(this.O?m="headers="+encodeURIComponent(String(mc(Q)))+"&"+m:this.m&&Sl(y,this.m,Q)),cc(this.h,q),this.Ua&&ut(y,"TYPE","init"),this.P?(ut(y,"$req",m),ut(y,"SID","null"),q.T=!0,is(q,y,null)):is(q,y,m),this.G=2}}else this.G==3&&(c?Kh(this,c):this.i.length==0||Mh(this.h)||Kh(this))};function Kh(c,m){var y;m?y=m.l:y=c.U++;const k=qr(c.I);ut(k,"SID",c.K),ut(k,"RID",y),ut(k,"AID",c.T),ls(c,k),c.m&&c.o&&Sl(k,c.m,c.o),y=new Gt(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Zm(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),cc(c.h,y),is(y,k,m)}function ls(c,m){c.H&&B(c.H,function(y,k){ut(m,k,y)}),c.l&&Xn({},function(y,k){ut(m,k,y)})}function Zm(c,m,y){y=Math.min(c.i.length,y);var k=c.l?p(c.l.Na,c.l,c):null;e:{var q=c.i;let Q=-1;for(;;){const se=["count="+y];Q==-1?0<y?(Q=q[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let mt=!0;for(let yn=0;yn<y;yn++){let it=q[yn].g;const wt=q[yn].map;if(it-=Q,0>it)Q=Math.max(0,q[yn].g-100),mt=!1;else try{fc(wt,se,"req"+it+"_")}catch{k&&k(wt)}}if(mt){k=se.join("&");break e}}}return c=c.i.splice(0,y),m.D=c,k}function eg(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;We||W(),Z||(We(),Z=!0),be.add(m,c),c.v=0}}function Rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wl(p(c.Fa,c),tg(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Qh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wl(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$n(10),Cl(this),Qh(this))};function vc(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Qh(c){c.g=new Gt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=qr(c.qa);ut(m,"RID","rpc"),ut(m,"SID",c.K),ut(m,"AID",c.T),ut(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&ut(m,"TO",c.ja),ut(m,"TYPE","xmlhttp"),ls(c,m),c.m&&c.o&&Sl(m,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Ko(qr(m)),y.m=null,y.P=!0,ss(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Cl(this),Rl(this),$n(19))};function ui(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function _c(c,m){var y=null;if(c.g==m){ui(c),vc(c),c.g=null;var k=2}else if(uc(c.h,m))y=m.D,Fh(c.h,m),k=1;else return;if(c.G!=0){if(m.o)if(k==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var q=c.B;k=sc(),ze(k,new zm(k,y)),yc(c)}else eg(c);else if(q=m.s,q==3||q==0&&0<m.X||!(k==1&&Jm(c,m)||k==2&&Rl(c)))switch(y&&0<y.length&&(m=c.h,m.i=m.i.concat(y)),q){case 1:us(c,5);break;case 4:us(c,10);break;case 3:us(c,6);break;default:us(c,2)}}}function tg(c,m){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*m}function us(c,m){if(c.j.info("Error code "+m),m==2){var y=p(c.fb,c),k=c.Xa;const q=!k;k=new Li(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ar(k,"https"),Ko(k),q?Jo(k.toString(),y):Ew(k.toString(),y)}else $n(2);c.G=0,c.l&&c.l.sa(m),ng(c),Xm(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),$n(2)):(this.j.info("Failed to ping google.com"),$n(1))};function ng(c){if(c.G=0,c.ka=[],c.l){const m=jh(c.h);(m.length!=0||c.i.length!=0)&&(R(c.ka,m),R(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function rg(c,m,y){var k=y instanceof Li?qr(y):new Li(y);if(k.g!="")m&&(k.g=m+"."+k.g),oi(k,k.s);else{var q=a.location;k=q.protocol,m=m?m+"."+q.hostname:q.hostname,q=+q.port;var Q=new Li(null);k&&ar(Q,k),m&&(Q.g=m),q&&oi(Q,q),y&&(Q.l=y),k=Q}return y=c.D,m=c.ya,y&&m&&ut(k,y,m),ut(k,"VER",c.la),ls(c,k),k}function ig(c,m,y){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new At(new Xs({eb:y})):new At(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sg(){}t=sg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pl(){}Pl.prototype.g=function(c,m){return new Jn(c,m)};function Jn(c,m){he.call(this),this.g=new Gh(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!w(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ar(this)}S(Jn,he),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){kl(this.g)},Jn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Bo(c),c=y);m.i.push(new Wm(m.Ya++,c)),m.G==3&&yc(m)},Jn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,Jn.aa.N.call(this)};function og(c){ic.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const y in m){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(og,ic);function Js(){Nh.call(this),this.status=1}S(Js,Nh);function Ar(c){this.g=c}S(Ar,sg),Ar.prototype.ua=function(){ze(this.g,"a")},Ar.prototype.ta=function(c){ze(this.g,new og(c))},Ar.prototype.sa=function(c){ze(this.g,new Js)},Ar.prototype.ra=function(){ze(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,MD=function(){return new Pl},LD=function(){return sc()},DD=Ws,tI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oc.NO_ERROR=0,oc.TIMEOUT=8,oc.HTTP_ERROR=6,gy=oc,Bm.COMPLETE="complete",OD=Bm,_l.EventType=qo,qo.OPEN="a",qo.CLOSE="b",qo.ERROR="c",qo.MESSAGE="d",he.prototype.listen=he.prototype.K,Tf=_l,ND=Xs,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,xD=At}).apply(typeof Mg<"u"?Mg:typeof self<"u"?self:typeof window<"u"?window:{});const mC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new cm("@firebase/firestore");function Oc(){return Ka.logLevel}function z5(t){Ka.setLogLevel(t)}function te(t,...e){if(Ka.logLevel<=Ke.DEBUG){const n=e.map(Ob);Ka.debug(`Firestore (${fh}): ${t}`,...n)}}function un(t,...e){if(Ka.logLevel<=Ke.ERROR){const n=e.map(Ob);Ka.error(`Firestore (${fh}): ${t}`,...n)}}function Ji(t,...e){if(Ka.logLevel<=Ke.WARN){const n=e.map(Ob);Ka.warn(`Firestore (${fh}): ${t}`,...n)}}function Ob(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${fh}) INTERNAL ASSERTION FAILED: `+t;throw un(e),new Error(e)}function ke(t,e){t||fe()}function B5(t,e){t||fe()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class W5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H5{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new VD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Dn(e)}}class G5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class K5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new G5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new Q5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=X5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function qd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function jD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ut(0,0))}static max(){return new Ce(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends Sp{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const J5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Sp{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return J5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Je.fromString(e))}static fromName(e){return new le(Je.fromString(e).popFirst(5))}static empty(){return new le(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function nI(t){return t.fields.find(e=>e.kind===2)}function $l(t){return t.fields.filter(e=>e.kind!==2)}vv.UNKNOWN_ID=-1;class yy{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ap{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ap(0,ei.min())}}function UD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new ei(i,le.empty(),e)}function $D(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(Ce.min(),le.empty(),-1)}static max(){return new ei(Ce.max(),le.empty(),-1)}}function Db(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==zD)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Vn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Bf(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Lb(r.target.error);this.V.reject(new Bf(e,i))}}static open(e,n,r,i){try{return new y_(n,e.transaction(i,r))}catch(s){throw new Bf(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new e6(n)}}class Ls{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ls.S(Ye())===12.2&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),ql(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ip())return!1;if(Ls.C())return!0;const e=Ye(),n=Ls.S(e),r=0<n&&n<10,i=qD(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Bf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ee(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ee(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Bf(e,o))},i.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=y_.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),H.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function qD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Z5{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ql(this.B.delete())}}class Bf extends ee{constructor(e,n){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function dl(t){return t.name==="IndexedDbTransactionError"}class e6{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(te("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ql(r)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),ql(this.store.add(e))}get(e){return ql(this.store.get(e)).next(n=>(n===void 0&&(n=null),te("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),ql(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),ql(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new H((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new H((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){te("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new H((r,i)=>{n.onerror=s=>{const o=Lb(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new H((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Z5(a),u=n(a.primaryKey,a.value,l);if(u instanceof H){const h=u.catch(f=>(l.done(),H.reject(f)));r.push(h)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>H.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ql(t){return new H((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Lb(r.target.error);n(i)}})}let gC=!1;function Lb(t){const e=Ls.S(Ye());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gC||(gC=!0,setTimeout(()=>{throw r},0)),r}}return t}class t6{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{te("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){dl(n)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await cl(n)}await this.X(6e4)})}}class n6{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return H.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return te("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(te("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=$D(s);Db(o,r)>0&&(r=o)}),new ei(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vr.oe=-1;function hm(t){return t==null}function kp(t){return t===0&&1/t==-1/0}function WD(t){return typeof t=="number"&&Number.isInteger(t)&&!kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yC(e)),e=r6(t.get(n),e);return yC(e)}function r6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function yC(t){return t+""}function Rs(t){const e=t.length;if(ke(e>=2),e===2)return ke(t.charAt(0)===""&&t.charAt(1)===""),Je.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&fe(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:fe()}s=o+2}return new Je(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){return[t,yr(e)]}function HD(t,e,n){return[t,yr(e),n]}const i6={},s6=["prefixPath","collectionGroup","readTime","documentId"],o6=["prefixPath","collectionGroup","documentId"],a6=["collectionGroup","readTime","prefixPath","documentId"],l6=["canonicalId","targetId"],u6=["targetId","path"],c6=["path","targetId"],d6=["collectionId","parent"],h6=["indexId","uid"],f6=["uid","sequenceNumber"],p6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],m6=["indexId","uid","orderedDocumentKey"],g6=["userId","collectionPath","documentId"],y6=["userId","collectionPath","largestBatchId"],v6=["userId","collectionGroup","largestBatchId"],GD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_6=[...GD,"documentOverlays"],KD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QD=KD,YD=[...QD,"indexConfiguration","indexState","indexEntries"],w6=YD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends BD{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function jn(t,e){const n=ce(t);return Ls.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vg(this.root,e,this.comparator,!0)}}class Vg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bn.RED,this.left=i??Bn.EMPTY,this.right=s??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wC(this.data.getIterator())}getIteratorFrom(e){return new wC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class wC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Fr([])}unionWith(e){let n=new Tt(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JD("Invalid base64 string: "+s):s}}(e);return new kn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const I6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(t){if(ke(!!t),typeof t=="string"){let e=0;const n=I6.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qa(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mb(t){const e=t.mapValue.fields.__previous_value__;return v_(e)?Mb(e):e}function Cp(t){const e=Ao(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ya{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ya("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_y={nullValue:"NULL_VALUE"};function Ru(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?v_(t)?4:ZD(t)?9007199254740991:10:fe()}function Us(t,e){if(t===e)return!0;const n=Ru(t);if(n!==Ru(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cp(t).isEqual(Cp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ao(i.timestampValue),a=Ao(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qa(i.bytesValue).isEqual(Qa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xt(i.geoPointValue.latitude)===Xt(s.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xt(i.integerValue)===Xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xt(i.doubleValue),a=Xt(s.doubleValue);return o===a?kp(o)===kp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qd(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_C(o)!==_C(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Us(o[l],a[l])))return!1;return!0}(t,e);default:return fe()}}function Rp(t,e){return(t.values||[]).find(n=>Us(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=Ru(t),r=Ru(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xt(s.integerValue||s.doubleValue),l=Xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return EC(t.timestampValue,e.timestampValue);case 4:return EC(Cp(t),Cp(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Qa(s),l=Qa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ue(a[u],l[u]);if(h!==0)return h}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(Xt(s.latitude),Xt(o.latitude));return a!==0?a:Ue(Xt(s.longitude),Xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Xa(a[u],l[u]);if(h)return h}return Ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Pa.mapValue&&o===Pa.mapValue)return 0;if(s===Pa.mapValue)return 1;if(o===Pa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Ue(l[f],h[f]);if(p!==0)return p;const _=Xa(a[l[f]],u[h[f]]);if(_!==0)return _}return Ue(l.length,h.length)}(t.mapValue,e.mapValue);default:throw fe()}}function EC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Ao(t),r=Ao(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function Wd(t){return iI(t)}function iI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ao(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=iI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${iI(n.fields[o])}`;return i+"}"}(t.mapValue):fe()}function Pu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sI(t){return!!t&&"integerValue"in t}function Pp(t){return!!t&&"arrayValue"in t}function IC(t){return!!t&&"nullValue"in t}function TC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wy(t){return!!t&&"mapValue"in t}function qf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function b6(t){return"nullValue"in t?_y:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Pu(Ya.empty(),le.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:fe()}function S6(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Pu(Ya.empty(),le.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Pa:fe()}function bC(t,e){const n=Xa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function SC(t,e){const n=Xa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qn(qf(this.value))}}function eL(t){const e=[];return Gu(t.fields,(n,r)=>{const i=new Ft([n]);if(wy(r)){const s=eL(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,Ce.min(),Ce.min(),Ce.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ot(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new Ot(e,2,n,Ce.min(),Ce.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,Ce.min(),Ce.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.position=e,this.inclusive=n}}function AC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Xa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n="asc"){this.field=e,this.dir=n}}function A6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{}class Ze extends tL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new k6(e,n,r):n==="array-contains"?new P6(e,r):n==="in"?new aL(e,r):n==="not-in"?new x6(e,r):n==="array-contains-any"?new N6(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C6(e,r):new R6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xa(n,this.value)):n!==null&&Ru(this.value)===Ru(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vt extends tL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new vt(e,n)}matches(e){return Hd(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hd(t){return t.op==="and"}function oI(t){return t.op==="or"}function Vb(t){return nL(t)&&Hd(t)}function nL(t){for(const e of t.filters)if(e instanceof vt)return!1;return!0}function aI(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Wd(t.value);if(Vb(t))return t.filters.map(e=>aI(e)).join(",");{const e=t.filters.map(n=>aI(n)).join(",");return`${t.op}(${e})`}}function rL(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Us(r.value,i.value)}(t,e):t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&rL(o,i.filters[a]),!0):!1}(t,e):void fe()}function iL(t,e){const n=t.filters.concat(e);return vt.create(n,t.op)}function sL(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Wd(n.value)}`}(t):t instanceof vt?function(n){return n.op.toString()+" {"+n.getFilters().map(sL).join(" ,")+"}"}(t):"Filter"}class k6 extends Ze{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class C6 extends Ze{constructor(e,n){super(e,"in",n),this.keys=oL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R6 extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=oL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class P6 extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pp(n)&&Rp(n.arrayValue,this.value)}}class aL extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rp(this.value.arrayValue,n)}}class x6 extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rp(this.value.arrayValue,n)}}class N6 extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function lI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new O6(t,e,n,r,i,s,o)}function xu(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>aI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wd(r)).join(",")),e.ue=n}return e.ue}function fm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!A6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kC(t.startAt,e.startAt)&&kC(t.endAt,e.endAt)}function _v(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wv(t,e){return t.filters.filter(n=>n instanceof Ze&&n.field.isEqual(e))}function CC(t,e,n){let r=_y,i=!0;for(const s of wv(t,e)){let o=_y,a=!0;switch(s.op){case"<":case"<=":o=b6(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=_y}bC({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];bC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function RC(t,e,n){let r=Pa,i=!0;for(const s of wv(t,e)){let o=Pa,a=!0;switch(s.op){case">=":case">":o=S6(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Pa}SC({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];SC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lL(t,e,n,r,i,s,o,a){return new Lo(t,e,n,r,i,s,o,a)}function ph(t){return new Lo(t)}function PC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fb(t){return t.collectionGroup!==null}function hd(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(Ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new xp(s,r))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new xp(Ft.keyField(),r))}return e.ce}function vr(t){const e=ce(t);return e.le||(e.le=D6(e,hd(t))),e.le}function D6(t,e){if(t.limitType==="F")return lI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new xp(i.field,s)});const n=t.endAt?new Ja(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ja(t.startAt.position,t.startAt.inclusive):null;return lI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uI(t,e){const n=t.filters.concat([e]);return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ev(t,e,n){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pm(t,e){return fm(vr(t),vr(e))&&t.limitType===e.limitType}function uL(t){return`${xu(vr(t))}|lt:${t.limitType}`}function Dc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sL(i)).join(", ")}]`),hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wd(i)).join(",")),`Target(${r})`}(vr(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=AC(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,hd(r),i)||r.endAt&&!function(o,a,l){const u=AC(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,hd(r),i))}(t,e)}function cL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dL(t){return(e,n)=>{let r=!1;for(const i of hd(t)){const s=L6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function L6(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Xa(l,u):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return XD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new Rt(le.comparator);function jr(){return M6}const hL=new Rt(le.comparator);function bf(...t){let e=hL;for(const n of t)e=e.insert(n.key,n);return e}function fL(t){let e=hL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ps(){return Wf()}function pL(){return Wf()}function Wf(){return new hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const V6=new Rt(le.comparator),F6=new Tt(le.comparator);function Be(...t){let e=F6;for(const n of t)e=e.add(n);return e}const j6=new Tt(Ue);function jb(){return j6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function gL(t){return{integerValue:""+t}}function yL(t,e){return WD(e)?gL(e):mL(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this._=void 0}}function U6(t,e,n){return t instanceof Gd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&v_(s)&&(s=Mb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Nu?_L(t,e):t instanceof Ou?wL(t,e):function(i,s){const o=vL(i,s),a=xC(o)+xC(i.Pe);return sI(o)&&sI(i.Pe)?gL(a):mL(i.serializer,a)}(t,e)}function $6(t,e,n){return t instanceof Nu?_L(t,e):t instanceof Ou?wL(t,e):n}function vL(t,e){return t instanceof Kd?function(r){return sI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gd extends __{}class Nu extends __{constructor(e){super(),this.elements=e}}function _L(t,e){const n=EL(e);for(const r of t.elements)n.some(i=>Us(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ou extends __{constructor(e){super(),this.elements=e}}function wL(t,e){let n=EL(e);for(const r of t.elements)n=n.filter(i=>!Us(i,r));return{arrayValue:{values:n}}}class Kd extends __{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function xC(t){return Xt(t.integerValue||t.doubleValue)}function EL(t){return Pp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.field=e,this.transform=n}}function z6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Nu&&i instanceof Nu||r instanceof Ou&&i instanceof Ou?qd(r.elements,i.elements,Us):r instanceof Kd&&i instanceof Kd?Us(r.Pe,i.Pe):r instanceof Gd&&i instanceof Gd}(t.transform,e.transform)}class B6{constructor(e,n){this.version=e,this.transformResults=n}}class jt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jt}static exists(e){return new jt(void 0,e)}static updateTime(e){return new jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ey(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class w_{}function IL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gh(t.key,jt.none()):new mh(t.key,t.data,jt.none());{const n=t.data,r=qn.empty();let i=new Tt(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Mo(t.key,r,new Fr(i.toArray()),jt.none())}}function q6(t,e,n){t instanceof mh?function(i,s,o){const a=i.value.clone(),l=OC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mo?function(i,s,o){if(!Ey(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=OC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(TL(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hf(t,e,n,r){return t instanceof mh?function(s,o,a,l){if(!Ey(s.precondition,o))return a;const u=s.value.clone(),h=DC(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mo?function(s,o,a,l){if(!Ey(s.precondition,o))return a;const u=DC(s.fieldTransforms,l,o),h=o.data;return h.setAll(TL(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Ey(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function W6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=vL(r.transform,i||null);s!=null&&(n===null&&(n=qn.empty()),n.set(r.field,s))}return n||null}function NC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qd(r,i,(s,o)=>z6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mh extends w_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mo extends w_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function TL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OC(t,e,n){const r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$6(o,a,n[i]))}return r}function DC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,U6(s,o,e))}return r}class gh extends w_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub extends w_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=IL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&qd(this.mutations,e.mutations,(n,r)=>NC(n,r))&&qd(this.baseMutations,e.baseMutations,(n,r)=>NC(n,r))}}class zb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return V6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,st;function bL(t){switch(t){default:return fe();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function SL(t){if(t===void 0)return un("GRPC error has no .code"),K.UNKNOWN;switch(t){case fn.OK:return K.OK;case fn.CANCELLED:return K.CANCELLED;case fn.UNKNOWN:return K.UNKNOWN;case fn.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case fn.INTERNAL:return K.INTERNAL;case fn.UNAVAILABLE:return K.UNAVAILABLE;case fn.UNAUTHENTICATED:return K.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case fn.NOT_FOUND:return K.NOT_FOUND;case fn.ALREADY_EXISTS:return K.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return K.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case fn.ABORTED:return K.ABORTED;case fn.OUT_OF_RANGE:return K.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return K.UNIMPLEMENTED;case fn.DATA_LOSS:return K.DATA_LOSS;default:return fe()}}(st=fn||(fn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new yu([4294967295,4294967295],0);function LC(t){const e=AL().encode(t),n=new PD;return n.update(e),new Uint8Array(n.digest())}function MC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yu([n,r],0),new yu([i,s],0)]}class qb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sf(`Invalid padding: ${n}`);if(r<0)throw new Sf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sf(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yu.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(yu.fromNumber(r)));return i.compare(G6)===1&&(i=new yu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=LC(e),[r,i]=MC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qb(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=LC(e),[r,i]=MC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ym(Ce.min(),i,new Rt(Ue),jr(),Be())}}class vm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vm(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class kL{constructor(e,n){this.targetId=e,this.me=n}}class CL{constructor(e,n,r=kn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VC{constructor(){this.fe=0,this.ge=jC(),this.pe=kn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Be(),n=Be(),r=Be();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new vm(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=jC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class K6{constructor(e){this.Le=e,this.Be=new Map,this.ke=jr(),this.qe=FC(),this.Qe=new Rt(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(_v(s))if(r===0){const o=new le(s.path);this.Ue(n,o,Ot.newNoDocument(o,Ce.min()))}else ke(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Qa(r).toUint8Array()}catch(l){if(l instanceof JD)return Ji("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new qb(o,i,s)}catch(l){return Ji(l instanceof Sf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&_v(a.target)){const l=new le(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ot.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Be();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ym(e,n,this.Qe,this.ke,r);return this.ke=jr(),this.qe=FC(),this.Qe=new Rt(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new VC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tt(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new VC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function FC(){return new Rt(le.comparator)}function jC(){return new Rt(le.comparator)}const Q6={asc:"ASCENDING",desc:"DESCENDING"},Y6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X6={and:"AND",or:"OR"};class J6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cI(t,e){return t.useProto3Json||hm(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z6(t,e){return Qd(t,e.toTimestamp())}function dn(t){return ke(!!t),Ce.fromTimestamp(function(n){const r=Ao(n);return new Ut(r.seconds,r.nanos)}(t))}function Wb(t,e){return dI(t,e).canonicalString()}function dI(t,e){const n=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PL(t){const e=Je.fromString(t);return ke(UL(e)),e}function Np(t,e){return Wb(t.databaseId,e.path)}function Ms(t,e){const n=PL(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(OL(n))}function xL(t,e){return Wb(t.databaseId,e)}function NL(t){const e=PL(t);return e.length===4?Je.emptyPath():OL(e)}function hI(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OL(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UC(t,e,n){return{name:Np(t,e),fields:n.value.mapValue.fields}}function DL(t,e,n){const r=Ms(t,e.name),i=dn(e.updateTime),s=e.createTime?dn(e.createTime):Ce.min(),o=new qn({mapValue:{fields:e.fields}}),a=Ot.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function eq(t,e){return"found"in e?function(r,i){ke(!!i.found),i.found.name,i.found.updateTime;const s=Ms(r,i.found.name),o=dn(i.found.updateTime),a=i.found.createTime?dn(i.found.createTime):Ce.min(),l=new qn({mapValue:{fields:i.found.fields}});return Ot.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){ke(!!i.missing),ke(!!i.readTime);const s=Ms(r,i.missing),o=dn(i.readTime);return Ot.newNoDocument(s,o)}(t,e):fe()}function tq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(ke(h===void 0||typeof h=="string"),kn.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),kn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?K.UNKNOWN:SL(u.code);return new ee(h,u.message||"")}(o);n=new CL(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ms(t,r.document.name),s=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):Ce.min(),a=new qn({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Iy(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ms(t,r.document),s=r.readTime?dn(r.readTime):Ce.min(),o=Ot.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Iy([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ms(t,r.document),s=r.removedTargetIds||[];n=new Iy([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new H6(i,s),a=r.targetId;n=new kL(a,o)}}return n}function Op(t,e){let n;if(e instanceof mh)n={update:UC(t,e.key,e.value)};else if(e instanceof gh)n={delete:Np(t,e.key)};else if(e instanceof Mo)n={update:UC(t,e.key,e.data),updateMask:aq(e.fieldMask)};else{if(!(e instanceof Ub))return fe();n={verify:Np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Gd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ou)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Z6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function fI(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?jt.updateTime(dn(s.updateTime)):s.exists!==void 0?jt.exists(s.exists):jt.none()}(e.currentDocument):jt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ke(a.setToServerValue==="REQUEST_TIME"),l=new Gd;else if("appendMissingElements"in a){const h=a.appendMissingElements.values||[];l=new Nu(h)}else if("removeAllFromArray"in a){const h=a.removeAllFromArray.values||[];l=new Ou(h)}else"increment"in a?l=new Kd(o,a.increment):fe();const u=Ft.fromServerFormat(a.fieldPath);return new gm(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ms(t,e.update.name),s=new qn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Fr(u.map(h=>Ft.fromServerFormat(h)))}(e.updateMask);return new Mo(i,s,o,n,r)}return new mh(i,s,n,r)}if(e.delete){const i=Ms(t,e.delete);return new gh(i,n)}if(e.verify){const i=Ms(t,e.verify);return new Ub(i,n)}return fe()}function nq(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?dn(i.updateTime):dn(s);return o.isEqual(Ce.min())&&(o=dn(s)),new B6(o,i.transformResults||[])}(n,e))):[]}function LL(t,e){return{documents:[xL(t,e.path)]}}function ML(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xL(t,i);const s=function(u){if(u.length!==0)return jL(vt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:Lc(p.field),direction:iq(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function VL(t){let e=NL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=FL(f);return p instanceof vt&&Vb(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(S){return new xp(Mc(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,hm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,_=f.values||[];return new Ja(_,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,_=f.values||[];return new Ja(_,p)}(n.endAt)),lL(e,i,o,s,a,"F",l,u)}function rq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mc(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mc(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mc(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mc(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Mc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vt.create(n.compositeFilter.filters.map(r=>FL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function iq(t){return Q6[t]}function sq(t){return Y6[t]}function oq(t){return X6[t]}function Lc(t){return{fieldPath:t.canonicalString()}}function Mc(t){return Ft.fromServerFormat(t.fieldPath)}function jL(t){return t instanceof Ze?function(n){if(n.op==="=="){if(TC(n.value))return{unaryFilter:{field:Lc(n.field),op:"IS_NAN"}};if(IC(n.value))return{unaryFilter:{field:Lc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TC(n.value))return{unaryFilter:{field:Lc(n.field),op:"IS_NOT_NAN"}};if(IC(n.value))return{unaryFilter:{field:Lc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(n.field),op:sq(n.op),value:n.value}}}(t):t instanceof vt?function(n){const r=n.getFilters().map(i=>jL(i));return r.length===1?r[0]:{compositeFilter:{op:oq(n.op),filters:r}}}(t):fe()}function aq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,s=Ce.min(),o=Ce.min(),a=kn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.ct=e}}function lq(t,e){let n;if(e.document)n=DL(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=le.fromSegments(e.noDocument.path),i=Lu(e.noDocument.readTime);n=Ot.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return fe();{const r=le.fromSegments(e.unknownDocument.path),i=Lu(e.unknownDocument.version);n=Ot.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Ut(i[0],i[1]);return Ce.fromTimestamp(s)}(e.readTime)),n}function $C(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Iv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Np(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Qd(s,o.version.toTimestamp()),createTime:Qd(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Du(e.version)};else{if(!e.isUnknownDocument())return fe();r.unknownDocument={path:n.path.toArray(),version:Du(e.version)}}return r}function Iv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Du(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Lu(t){const e=new Ut(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function Wl(t,e){const n=(e.baseMutations||[]).map(s=>fI(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>fI(t.ct,s)),i=Ut.fromMillis(e.localWriteTimeMs);return new $b(e.batchId,i,n,r)}function Af(t){const e=Lu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Lu(t.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ke(s.documents.length===1),vr(ph(NL(s.documents[0])))}(t.query):function(s){return vr(VL(s))}(t.query),new co(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,kn.fromBase64String(t.resumeToken))}function zL(t,e){const n=Du(e.snapshotVersion),r=Du(e.lastLimboFreeSnapshotVersion);let i;i=_v(e.target)?LL(t.ct,e.target):ML(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Hb(t){const e=VL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ev(e,e.limit,"L"):e}function _E(t,e){return new Bb(e.largestBatchId,fI(t.ct,e.overlayMutation))}function zC(t,e){const n=e.path.lastSegment();return[t,yr(e.path.popLast()),n]}function BC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Du(r.readTime),documentKey:yr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{getBundleMetadata(e,n){return qC(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Lu(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return qC(e).put(function(i){return{bundleId:i.id,createTime:Du(dn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return WC(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Hb(s.bundledQuery),readTime:Lu(s.readTime)}}(r)})}saveNamedQuery(e,n){return WC(e).put(function(i){return{name:i.name,readTime:Du(dn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function qC(t){return jn(t,"bundles")}function WC(t){return jn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new E_(e,r)}getOverlay(e,n){return cf(e).get(zC(this.userId,n)).next(r=>r?_E(this.serializer,r):null)}getOverlays(e,n){const r=Ps();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Bb(n,o);i.push(this.ht(e,a))}),H.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(yr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(cf(e).j("collectionPathOverlayIndex",a))}),H.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ps(),s=yr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cf(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=_E(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Ps();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cf(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const f=_E(this.serializer,u);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):h.done()}).next(()=>s)}ht(e,n){return cf(e).put(function(i,s,o){const[a,l,u]=zC(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Op(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function cf(t){return jn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Xt(e.integerValue));else if("doubleValue"in e){const r=Xt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),kp(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Ao(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Qa(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?ZD(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):fe()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),le.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Hl.bt=new Hl;function cq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function HC(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=cq(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class dq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=HC(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=HC(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hq{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class fq{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class df{constructor(){this.Gt=new dq,this.zt=new hq(this.Gt),this.jt=new fq(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gl(this.indexId,this.documentKey,this.arrayValue,r)}}function ia(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=GC(t.arrayValue,e.arrayValue),n!==0?n:(n=GC(t.directionalValue,e.directionalValue),n!==0?n:le.comparator(t.documentKey,e.documentKey)))}function GC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.Yt=new Tt((n,r)=>Ft.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ke(e.collectionGroup===this.collectionId),this.en)return!1;const n=nI(e);if(n!==void 0&&!this.nn(n))return!1;const r=$l(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Tt(Ft.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new yy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new yy(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new yy(r.field,r.dir==="asc"?0:1)));return new vv(vv.UNKNOWN_ID,this.collectionId,n,Ap.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){var e,n;if(ke(t instanceof Ze||t instanceof vt),t instanceof Ze){if(t instanceof aL){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ze.create(t.field,"==",s)))||[];return vt.create(i,"or")}return t}const r=t.filters.map(i=>BL(i));return vt.create(r,t.op)}function pq(t){if(t.getFilters().length===0)return[];const e=gI(BL(t));return ke(qL(e)),pI(e)||mI(e)?[e]:e.getFilters()}function pI(t){return t instanceof Ze}function mI(t){return t instanceof vt&&Vb(t)}function qL(t){return pI(t)||mI(t)||function(n){if(n instanceof vt&&oI(n)){for(const r of n.getFilters())if(!pI(r)&&!mI(r))return!1;return!0}return!1}(t)}function gI(t){if(ke(t instanceof Ze||t instanceof vt),t instanceof Ze)return t;if(t.filters.length===1)return gI(t.filters[0]);const e=t.filters.map(r=>gI(r));let n=vt.create(e,t.op);return n=Tv(n),qL(n)?n:(ke(n instanceof vt),ke(Hd(n)),ke(n.filters.length>1),n.filters.reduce((r,i)=>Gb(r,i)))}function Gb(t,e){let n;return ke(t instanceof Ze||t instanceof vt),ke(e instanceof Ze||e instanceof vt),n=t instanceof Ze?e instanceof Ze?function(i,s){return vt.create([i,s],"and")}(t,e):QC(t,e):e instanceof Ze?QC(e,t):function(i,s){if(ke(i.filters.length>0&&s.filters.length>0),Hd(i)&&Hd(s))return iL(i,s.getFilters());const o=oI(i)?i:s,a=oI(i)?s:i,l=o.filters.map(u=>Gb(u,a));return vt.create(l,"or")}(t,e),Tv(n)}function QC(t,e){if(Hd(e))return iL(e,t.getFilters());{const n=e.filters.map(r=>Gb(t,r));return vt.create(n,"or")}}function Tv(t){if(ke(t instanceof Ze||t instanceof vt),t instanceof Ze)return t;const e=t.getFilters();if(e.length===1)return Tv(e[0]);if(nL(t))return t;const n=e.map(i=>Tv(i)),r=[];return n.forEach(i=>{i instanceof Ze?r.push(i):i instanceof vt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:vt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(){this._n=new Kb}addToCollectionParentIndex(e,n){return this._n.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ei.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class Kb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tt(Je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Uint8Array(0);class gq{constructor(e,n){this.databaseId=n,this.an=new Kb,this.un=new hl(r=>xu(r),(r,i)=>fm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:yr(i)};return YC(e).put(s)}return H.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[jD(n),""],!1,!0);return YC(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Rs(o.parent))}return r})}addFieldIndex(e,n){const r=hf(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=kc(e);return s.next(a=>{o.put(BC(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=hf(e),i=kc(e),s=Ac(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=hf(e),r=Ac(e),i=kc(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return H.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new KC(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Ac(e);let i=!0;const s=new Map;return H.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Be();const a=[];return H.forEach(s,(l,u)=>{te("IndexedDbIndexManager",`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(L=>`${L.fieldPath}:${L.kind}`).join(",")}`}(l)} to execute ${xu(n)}`);const h=function(T,L){const F=nI(L);if(F===void 0)return null;for(const B of wv(T,F.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null}(u,l),f=function(T,L){const F=new Map;for(const B of $l(L))for(const C of wv(T,B.fieldPath))switch(C.op){case"==":case"in":F.set(B.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return F.set(B.fieldPath.canonicalString(),C.value),Array.from(F.values())}return null}(u,l),p=function(T,L){const F=[];let B=!0;for(const C of $l(L)){const b=C.kind===0?CC(T,C.fieldPath,T.startAt):RC(T,C.fieldPath,T.startAt);F.push(b.value),B&&(B=b.inclusive)}return new Ja(F,B)}(u,l),_=function(T,L){const F=[];let B=!0;for(const C of $l(L)){const b=C.kind===0?RC(T,C.fieldPath,T.endAt):CC(T,C.fieldPath,T.endAt);F.push(b.value),B&&(B=b.inclusive)}return new Ja(F,B)}(u,l),S=this.hn(l,u,p),P=this.hn(l,u,_),R=this.Pn(l,u,f),I=this.In(l.indexId,h,S,p.inclusive,P,_.inclusive,R);return H.forEach(I,w=>r.G(w,n.limit).next(T=>{T.forEach(L=>{const F=le.fromSegments(L.documentKey);o.has(F)||(o=o.add(F),a.push(F))})}))}).next(()=>a)}return H.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=pq(vt.create(e.filters,"and")).map(r=>lI(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),h=[];for(let f=0;f<l;++f){const p=n?this.Tn(n[f/u]):Fg,_=this.En(e,p,r[f%u],i),S=this.dn(e,p,s[f%u],o),P=a.map(R=>this.En(e,p,R,!0));h.push(...this.createRange(_,S,P))}return h}En(e,n,r,i){const s=new Gl(e,le.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Gl(e,le.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new KC(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return H.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Tt(Ft.comparator),h=!1;for(const f of l.filters)for(const p of f.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?h=!0:u=u.add(p.field));for(const f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new df;for(const i of $l(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);Hl.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new df;return Hl.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new df;return Hl.bt.Pt(Pu(this.databaseId,n),r.Ht(function(s){const o=$l(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new df);let s=0;for(const o of $l(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&Pp(a))i=this.mn(i,o,a);else{const u=l.Ht(o.kind);Hl.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new df;l.seed(a.Wt()),Hl.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ze&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=hf(e),i=kc(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return H.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,f){const p=f?new Ap(f.sequenceNumber,new ei(Lu(f.readTime),new le(Rs(f.documentKey)),f.largestBatchId)):Ap.empty(),_=h.fields.map(([S,P])=>new yy(Ft.fromServerFormat(S),P));return new vv(h.indexId,h.collectionGroup,_,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ue(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=hf(e),s=kc(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>H.forEach(a,l=>s.put(BC(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return H.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?H.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),H.forEach(a,l=>this.pn(e,i,l).next(u=>{const h=this.yn(s,l);return u.isEqual(h)?H.resolve():this.wn(e,s,l,u,h)}))))})}Sn(e,n,r,i){return Ac(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Ac(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Ac(e);let s=new Tt(ia);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Gl(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new Tt(ia);const i=this.An(n,e);if(i==null)return r;const s=nI(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Pp(o))for(const a of o.arrayValue.values||[])r=r.add(new Gl(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Gl(n.indexId,e.key,Fg,i));return r}wn(e,n,r,i,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,h,f,p){const _=l.getIterator(),S=u.getIterator();let P=Sc(_),R=Sc(S);for(;P||R;){let I=!1,w=!1;if(P&&R){const T=h(P,R);T<0?w=!0:T>0&&(I=!0)}else P!=null?w=!0:I=!0;I?(f(R),R=Sc(S)):w?(p(P),P=Sc(_)):(P=Sc(_),R=Sc(S))}}(i,s,ia,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),H.waitFor(o)}gn(e){let n=1;return kc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ia(o,a)).filter((o,a,l)=>!a||ia(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=ia(o,e),l=ia(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Fg,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Fg,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return ia(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(XC)}getMinOffset(e,n){return H.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||fe())).next(XC)}}function YC(t){return jn(t,"collectionParents")}function Ac(t){return jn(t,"indexEntries")}function hf(t){return jn(t,"indexConfiguration")}function kc(t){return jn(t,"indexState")}function XC(t){ke(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Db(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ei(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(h,f,p)=>(a++,p.delete()));s.push(l.next(()=>{ke(a===1)}));const u=[];for(const h of n.mutations){const f=HD(e,h.key.path,n.batchId);s.push(i.delete(f)),u.push(h.key)}return H.waitFor(s).next(()=>u)}function bv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(41943040,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);class I_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){ke(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new I_(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sa(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Vc(e),o=sa(e);return o.add({}).next(a=>{ke(typeof a=="number");const l=new $b(a,n,r,i),u=function(_,S,P){const R=P.baseMutations.map(w=>Op(_.ct,w)),I=P.mutations.map(w=>Op(_.ct,w));return{userId:S,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:R,mutations:I}}(this.serializer,this.userId,l),h=[];let f=new Tt((p,_)=>Ue(p.canonicalString(),_.canonicalString()));for(const p of i){const _=HD(this.userId,p.key.path,a);f=f.add(p.key.path.popLast()),h.push(o.put(u)),h.push(s.put(_,i6))}return f.forEach(p=>{h.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),H.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return sa(e).get(n).next(r=>r?(ke(r.userId===this.userId),Wl(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?H.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return sa(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ke(a.batchId>=r),s=Wl(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return sa(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sa(e).U("userMutationsIndex",n).next(r=>r.map(i=>Wl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=vy(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vc(e).J({range:i},(o,a,l)=>{const[u,h,f]=o,p=Rs(h);if(u===this.userId&&n.path.isEqual(p))return sa(e).get(f).next(_=>{if(!_)throw fe();ke(_.userId===this.userId),s.push(Wl(this.serializer,_))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Ue);const i=[];return n.forEach(s=>{const o=vy(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vc(e).J({range:a},(u,h,f)=>{const[p,_,S]=u,P=Rs(_);p===this.userId&&s.path.isEqual(P)?r=r.add(S):f.done()});i.push(l)}),H.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=vy(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Tt(Ue);return Vc(e).J({range:o},(l,u,h)=>{const[f,p,_]=l,S=Rs(p);f===this.userId&&r.isPrefixOf(S)?S.length===i&&(a=a.add(_)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(sa(e).get(s).next(o=>{if(o===null)throw fe();ke(o.userId===this.userId),r.push(Wl(this.serializer,o))}))}),H.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return WL(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),H.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return H.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Vc(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Rs(s[1]);i.push(l)}else a.done()}).next(()=>{ke(i.length===0)})})}containsKey(e,n){return HL(e,this.userId,n)}xn(e){return GL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HL(t,e,n){const r=vy(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vc(t).J({range:s,H:!0},(a,l,u)=>{const[h,f,p]=a;h===e&&f===i&&(o=!0),u.done()}).next(()=>o)}function sa(t){return jn(t,"mutations")}function Vc(t){return jn(t,"documentMutations")}function GL(t){return jn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Mu(0)}static Ln(){return new Mu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Mu(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Ce.fromTimestamp(new Ut(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Cc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ke(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Cc(e).J((o,a)=>{const l=Af(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>H.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Cc(e).J((r,i)=>{const s=Af(i);n(s)})}Bn(e){return ZC(e).get("targetGlobalKey").next(n=>(ke(n!==null),n))}kn(e,n){return ZC(e).put("targetGlobalKey",n)}qn(e,n){return Cc(e).put(zL(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=xu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Cc(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Af(a);fm(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ga(e);return n.forEach(o=>{const a=yr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),H.waitFor(i)}removeMatchingKeys(e,n,r){const i=ga(e);return H.forEach(n,s=>{const o=yr(s.path);return H.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ga(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ga(e);let s=Be();return i.J({range:r,H:!0},(o,a,l)=>{const u=Rs(o[1]),h=new le(u);s=s.add(h)}).next(()=>s)}containsKey(e,n){const r=yr(n.path),i=IDBKeyRange.bound([r],[jD(r)],!1,!0);let s=0;return ga(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return Cc(e).get(n).next(r=>r?Af(r):null)}}function Cc(t){return jn(t,"targets")}function ZC(t){return jn(t,"targetGlobal")}function ga(t){return jn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR([t,e],[n,r]){const i=Ue(t,n);return i===0?Ue(e,r):i}class vq{constructor(e){this.Kn=e,this.buffer=new Tt(eR),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _q{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.zn(3e5)})}}class wq{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Vr.oe);const r=new vq(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(JC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JC):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Oc()<=Ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Eq(t,e){return new wq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n){this.db=e,this.garbageCollector=Eq(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return jg(e,r)}removeReference(e,n,r){return jg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return jg(e,n)}er(e,n){return function(i,s){let o=!1;return GL(i).Y(a=>HL(i,a,s).next(l=>(l&&(o=!0),H.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Ce.min()),ga(e).delete(function(f){return[0,yr(f.path)]}(o))))});i.push(l)}}).next(()=>H.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return jg(e,n)}Xn(e,n){const r=ga(e);let i,s=Vr.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Vr.oe&&n(new le(Rs(i)),s),s=u,i=l):s=Vr.oe}).next(()=>{s!==Vr.oe&&n(new le(Rs(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jg(t,e){return ga(t).put(function(r,i){return{targetId:0,path:yr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.changes=new hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Vl(e).put(r)}removeEntry(e,n,r){return Vl(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Iv(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Ot.newInvalidDocument(n);return Vl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ff(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Ot.newInvalidDocument(n)};return Vl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ff(n))},(i,s)=>{r={document:this.nr(n,s),size:bv(s)}}).next(()=>r)}getEntries(e,n){let r=jr();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=jr(),i=new Rt(le.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,bv(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return H.resolve();let i=new Tt(rR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(ff(i.first()),ff(i.last())),o=i.getIterator();let a=o.getNext();return Vl(e).J({index:"documentKeyIndex",range:s},(l,u,h)=>{const f=le.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&rR(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?h.$(ff(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Iv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vl(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let h=jr();for(const f of u){const p=this.nr(le.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);p.isFoundDocument()&&(mm(n,p)||i.has(p.key))&&(h=h.insert(p.key,p))}return h})}getAllFromCollectionGroup(e,n,r,i){let s=jr();const o=nR(n,r),a=nR(n,ei.max());return Vl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,h)=>{const f=this.nr(le.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(f.key,f),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new bq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return tR(e).get("remoteDocumentGlobalKey").next(n=>(ke(!!n),n))}tr(e,n){return tR(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=lq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return Ot.newInvalidDocument(e)}}function QL(t){return new Tq(t)}class bq extends KL{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new hl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Tt((s,o)=>Ue(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=$C(this.ar.serializer,o);i=i.add(s.path.popLast());const u=bv(l);r+=u-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=$C(this.ar.serializer,o.convertToNoDocument(Ce.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),H.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function tR(t){return jn(t,"remoteDocumentGlobal")}function Vl(t){return jn(t,"remoteDocumentsV14")}function ff(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nR(t,e){const n=e.documentKey.path.toArray();return[t,Iv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ue(n[s],r[s]),i)return i;return i=Ue(n.length,r.length),i||(i=Ue(n[n.length-2],r[r.length-2]),i||Ue(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hf(r.mutation,i,Fr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const i=Ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jr();const o=Wf(),a=function(){return Wf()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Mo)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Hf(h.mutation,u,h.mutation.getFieldMask(),Ut.now())):o.set(u.key,Fr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new Sq(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wf();let i=new Rt((o,a)=>o-a),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Fr.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||Be()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=pL();h.forEach(p=>{if(!s.has(p)){const _=IL(n.get(p),r.get(p));_!==null&&f.set(p,_),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Ps());let a=-1,l=s;return o.next(u=>H.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Be())).next(h=>({batchId:a,changes:fL(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=bf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bf();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const u=function(f,p){return new Lo(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ot.newInvalidDocument(h)))});let a=bf();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&Hf(h.mutation,u,Fr.empty(),Ut.now()),mm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Hb(i.bundledQuery),readTime:dn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(){this.overlays=new Rt(le.comparator),this.hr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ps();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Ps(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Ps(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ps(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Bb(n,r));let s=this.hr.get(n);s===void 0&&(s=Be(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.Pr=new Tt(Nn.Ir),this.Tr=new Tt(Nn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Nn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new le(new Je([])),r=new Nn(n,e),i=new Nn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new le(new Je([])),r=new Nn(n,e),i=new Nn(n,e+1);let s=Be();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Nn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return le.comparator(e.key,n.key)||Ue(e.pr,n.pr)}static Er(e,n){return Ue(e.pr,n.pr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Tt(Nn.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $b(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Nn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),i=new Nn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Ue);return n.forEach(i=>{const s=new Nn(i,0),o=new Nn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),H.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new Nn(new le(s),0);let a=new Tt(Ue);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),H.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return H.forEach(n.mutations,i=>{const s=new Nn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Nn(n,0),i=this.wr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.vr=e,this.docs=function(){return new Rt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ot.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jr();const o=n.path,a=new le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Db($D(h),r)<=0||(i.has(h.key)||mm(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){fe()}Fr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Pq(this)}getSize(e){return H.resolve(this.size)}}class Pq extends KL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.persistence=e,this.Mr=new hl(n=>xu(n),fm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Qb,this.targetCount=0,this.Lr=Mu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),H.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Mu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.qn(n),H.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.Br={},this.overlays={},this.kr=new Vr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new xq(this),this.indexManager=new mq,this.remoteDocumentCache=function(i){return new Rq(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new $L(n),this.$r=new Aq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Cq(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new Nq(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return H.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Nq extends BD{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.zr=new Qb,this.jr=null}static Hr(e){return new T_(e)}get Jr(){if(this.jr)return this.jr;throw fe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,r=>{const i=le.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.serializer=e}O(e,n,r,i){const s=new y_("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vC,{unique:!0}),l.createObjectStore("documentMutations")}(e),iR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=H.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),iR(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vC,{unique:!0});const f=u.store("mutations"),p=h.map(_=>f.put(_));return H.waitFor(p)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:g6});u.createIndex("collectionPathOverlayIndex",y6,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",v6,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:s6});u.createIndex("documentKeyIndex",o6),u.createIndex("collectionGroupIndex",a6)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:h6}).createIndex("sequenceNumberIndex",f6,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:p6}).createIndex("documentKeyIndex",m6,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=bv(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>H.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>H.forEach(a,l=>{ke(l.userId===s.userId);const u=Wl(this.serializer,l);return WL(e,s.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new Je(o),u=function(f){return[0,yr(f)]}(l);s.push(n.get(u).next(h=>h?H.resolve():(f=>n.put({targetId:0,path:yr(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>H.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:d6});const r=n.store("collectionParents"),i=new Kb,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:yr(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Je(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const h=Rs(a);return s(h.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const s=Af(i),o=zL(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new le(Je.fromString(f.document.name).popFirst(5)):f.noDocument?le.fromSegments(f.noDocument.path):f.unknownDocument?le.fromSegments(f.unknownDocument.path):fe()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>H.waitFor(i))}si(e,n){const r=n.store("mutations"),i=QL(this.serializer),s=new XL(T_.Hr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let h=(u=a.get(l.userId))!==null&&u!==void 0?u:Be();Wl(this.serializer,l).keys().forEach(f=>h=h.add(f)),a.set(l.userId,h)}),H.forEach(a,(l,u)=>{const h=new Dn(u),f=E_.lt(this.serializer,h),p=s.getIndexManager(h),_=I_.lt(h,this.serializer,p,s.referenceDelegate);return new YL(i,_,f,p).recalculateAndSaveOverlaysForDocumentKeys(new rI(n,Vr.oe),l).next()})})}}function iR(t){t.createObjectStore("targetDocuments",{keyPath:u6}).createIndex("documentTargetsIndex",c6,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",l6,{unique:!0}),t.createObjectStore("targetGlobal")}const wE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yb{constructor(e,n,r,i,s,o,a,l,u,h,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=u,this.ai=h,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!Yb.D())throw new ee(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Iq(this,i),this.Ti=n+"main",this.serializer=new $L(l),this.Ei=new Ls(this.Ti,this.ui,new Oq(this.serializer)),this.Qr=new yq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QL(this.serializer),this.$r=new uq,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,h===!1&&un("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(K.FAILED_PRECONDITION,wE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Vr(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ug(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(dl(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return pf(e).get("owner").next(n=>H.resolve(this.Si(n)))}bi(e){return Ug(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=jn(n,"clientMetadata");return r.U().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return H.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?H.resolve(!0):pf(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new ee(K.FAILED_PRECONDITION,wE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ug(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&te("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new rI(e,Vr.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Ug(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return I_.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gq(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return E_.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){te("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?w6:l===15?YD:l===14?QD:l===13?KD:l===12?_6:l===11?GD:void fe()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new rI(a,this.kr?this.kr.next():Vr.oe),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw un(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ee(K.FAILED_PRECONDITION,zD);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return pf(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ee(K.FAILED_PRECONDITION,wE)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pf(e).put("owner",n)}static D(){return Ls.D()}yi(e){const n=pf(e);return n.get("owner").next(r=>this.Si(r)?(te("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):H.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(un(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;yD()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return te("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return un("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){un("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pf(t){return jn(t,"owner")}function Ug(t){return jn(t,"clientMetadata")}function Xb(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Be(),i=Be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Jb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return yD()?8:qD(Ye())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Dq;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Oc()<=Ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(Oc()<=Ke.DEBUG&&te("QueryEngine","Query:",Dc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Oc()<=Ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):H.resolve())}ji(e,n){if(PC(n))return H.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ev(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Be(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Ev(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return PC(n)||i.isEqual(Ce.min())?H.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?H.resolve(null):(Oc()<=Ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dc(n)),this.es(e,o,n,UD(i,-1)).next(a=>a))})}Zi(e,n){let r=new Tt(dL(e));return n.forEach((i,s)=>{mm(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Oc()<=Ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Dc(n)),this.zi.getDocumentsMatchingQuery(e,n,ei.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Rt(Ue),this.rs=new hl(s=>xu(s),fm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function ZL(t,e,n,r){return new Lq(t,e,n,r)}async function eM(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Be();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function Mq(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,p=f.keys();let _=H.resolve();return p.forEach(S=>{_=_.next(()=>h.getEntry(l,S)).next(P=>{const R=u.docVersions.get(S);ke(R!==null),P.version.compareTo(R)<0&&(f.applyToRemoteDocument(P,u),P.isValidDocument()&&(P.setReadTime(u.commitVersion),h.addEntry(P)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tM(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Vq(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,f)));let _=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(kn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(f,_),function(P,R,I){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,_,h)&&a.push(n.Qr.updateTargetData(s,_))});let l=jr(),u=Be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(nM(s,o,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!r.isEqual(Ce.min())){const h=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function nM(t,e,n){let r=Be(),i=Be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function Fq(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yd(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new co(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Xd(t,e,n){const r=ce(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!dl(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Sv(t,e,n){const r=ce(t);let i=Ce.min(),s=Be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=ce(l),p=f.rs.get(h);return p!==void 0?H.resolve(f.ns.get(p)):f.Qr.getTargetData(u,h)}(r,o,vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Ce.min(),n?s:Be())).next(a=>(sM(r,cL(e),a),{documents:a,hs:s})))}function rM(t,e){const n=ce(t),r=ce(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function iM(t,e){const n=ce(t),r=n.ss.get(e)||Ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,UD(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(sM(n,e,i),i))}function sM(t,e,n){let r=t.ss.get(e)||Ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function jq(t,e,n,r){const i=ce(t);let s=Be(),o=jr();for(const u of n){const h=e.Ps(u.metadata.name);u.document&&(s=s.add(h));const f=e.Is(u);f.setReadTime(e.Ts(u.metadata.readTime)),o=o.insert(h,f)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await Yd(i,function(h){return vr(ph(Je.fromString(`__bundle__/docs/${h}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>nM(u,a,o).next(h=>(a.apply(u),h)).next(h=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,h.cs,h.ls)).next(()=>h.cs)))}async function Uq(t,e,n=Be()){const r=await Yd(t,vr(Hb(e.bundledQuery))),i=ce(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=dn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(kn.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function sR(t,e){return`firestore_clients_${t}_${e}`}function oR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function EE(t,e){return`firestore_targets_${t}_${e}`}class Av{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new ee(i.error.code,i.error.message))),o?new Av(e,n,i.state,s):(un("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ee(r.error.code,r.error.message))),s?new Gf(e,r.state,i):(un("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=jb();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=WD(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new kv(e,s):(un("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Zb{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Zb(n.clientId,n.onlineState):(un("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yI{constructor(){this.activeTargetIds=jb()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IE{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Rt(Ue),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=sR(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new yI),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(sR(this.persistenceKey,r));if(i){const s=kv.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(EE(this.persistenceKey,e));if(r){const i=Gf.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(EE(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return te("SharedClientState","READ",e,n),n}setItem(e,n){te("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){te("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(te("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void un("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=Vr.oe;if(s!=null)try{const a=JSON.parse(s);ke(typeof a=="number"),o=a}catch(a){un("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Vr.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new Av(this.currentUser,e,n,r),s=oR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=oR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=EE(this.persistenceKey,e),s=new Gf(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return kv.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Av.Es(new Dn(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return Gf.Es(i,n)}xs(e){return Zb.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);te("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=jb();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class oM{constructor(){this.no=new yI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new yI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g=null;function TE(){return $g===null?$g=function(){return 268435456+Math.round(2147483648*Math.random())}():$g++,"0x"+$g.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class qq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=TE(),l=this.vo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,i).then(h=>(te("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ji("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=zq[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=TE();return new Promise((o,a)=>{const l=new xD;l.setWithCredentials(!0),l.listenOnce(OD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gy.NO_ERROR:const h=l.getResponseJson();te(tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case gy.TIMEOUT:te(tr,`RPC '${e}' ${s} timed out`),a(new ee(K.DEADLINE_EXCEEDED,"Request time out"));break;case gy.HTTP_ERROR:const f=l.getStatus();if(te(tr,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const S=function(R){const I=R.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(I)>=0?I:K.UNKNOWN}(_.status);a(new ee(S,_.message))}else a(new ee(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(K.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{te(tr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);te(tr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=TE(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MD(),a=LD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new ND({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");te(tr,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,_=!1;const S=new Bq({lo:R=>{_?te(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(te(tr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),te(tr,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},ho:()=>f.close()}),P=(R,I,w)=>{R.listen(I,T=>{try{w(T)}catch(L){setTimeout(()=>{throw L},0)}})};return P(f,Tf.EventType.OPEN,()=>{_||(te(tr,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),P(f,Tf.EventType.CLOSE,()=>{_||(_=!0,te(tr,`RPC '${e}' stream ${i} transport closed`),S.po())}),P(f,Tf.EventType.ERROR,R=>{_||(_=!0,Ji(tr,`RPC '${e}' stream ${i} transport errored:`,R),S.po(new ee(K.UNAVAILABLE,"The operation could not be completed")))}),P(f,Tf.EventType.MESSAGE,R=>{var I;if(!_){const w=R.data[0];ke(!!w);const T=w,L=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(L){te(tr,`RPC '${e}' stream ${i} received error:`,L);const F=L.status;let B=function(x){const D=fn[x];if(D!==void 0)return SL(D)}(F),C=L.message;B===void 0&&(B=K.INTERNAL,C="Unknown error status: "+F+" with message "+L.message),_=!0,S.po(new ee(B,C)),f.close()}else te(tr,`RPC '${e}' stream ${i} received:`,w),S.yo(w)}}),P(a,DD.STAT_EVENT,R=>{R.stat===tI.PROXY?te(tr,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===tI.NOPROXY&&te(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return typeof window<"u"?window:null}function Ty(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){return new J6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new eS(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(un(n.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ee(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wq extends lM{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=tq(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?dn(o.readTime):Ce.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=hI(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=_v(l)?{documents:LL(s,l)}:{query:ML(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RL(s,o.resumeToken);const u=cI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Qd(s,o.snapshotVersion.toTimestamp());const u=cI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=rq(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=hI(this.serializer),n.removeTarget=e,this.i_(n)}}class Hq extends lM{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=nq(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.A_(r,n)}return ke(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=hI(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Op(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,dI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(K.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,dI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(K.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Kq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(un(n),this.y_=!1):te("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{fl(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.M_.add(4),await yh(u),u.N_.set("Unknown"),u.M_.delete(4),await wm(u)}(this))})}),this.N_=new Kq(r,i)}}async function wm(t){if(fl(t))for(const e of t.x_)await e(!0)}async function yh(t){for(const e of t.x_)await e(!1)}function b_(t,e){const n=ce(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),rS(n)?nS(n):_h(n).Xo()&&tS(n,e))}function Jd(t,e){const n=ce(t),r=_h(n);n.F_.delete(e),r.Xo()&&uM(n,e),n.F_.size===0&&(r.Xo()?r.n_():fl(n)&&n.N_.set("Unknown"))}function tS(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_h(t).P_(e)}function uM(t,e){t.L_.xe(e),_h(t).I_(e)}function nS(t){t.L_=new K6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_h(t).start(),t.N_.w_()}function rS(t){return fl(t)&&!_h(t).Zo()&&t.F_.size>0}function fl(t){return ce(t).M_.size===0}function cM(t){t.L_=void 0}async function Yq(t){t.N_.set("Online")}async function Xq(t){t.F_.forEach((e,n)=>{tS(t,e)})}async function Jq(t,e){cM(t),rS(t)?(t.N_.D_(e),nS(t)):t.N_.set("Unknown")}async function Zq(t,e,n){if(t.N_.set("Online"),e instanceof CL&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cv(t,r)}else if(e instanceof Iy?t.L_.Ke(e):e instanceof kL?t.L_.He(e):t.L_.We(e),!n.isEqual(Ce.min()))try{const r=await tM(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.F_.get(u);h&&s.F_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.F_.get(l);if(!h)return;s.F_.set(l,h.withResumeToken(kn.EMPTY_BYTE_STRING,h.snapshotVersion)),uM(s,l);const f=new co(h.target,l,u,h.sequenceNumber);tS(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Cv(t,r)}}async function Cv(t,e,n){if(!dl(e))throw e;t.M_.add(1),await yh(t),t.N_.set("Offline"),n||(n=()=>tM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await wm(t)})}function dM(t,e){return e().catch(n=>Cv(t,n,e))}async function vh(t){const e=ce(t),n=Za(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;e9(e);)try{const i=await Fq(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,t9(e,i)}catch(i){await Cv(e,i)}hM(e)&&fM(e)}function e9(t){return fl(t)&&t.v_.length<10}function t9(t,e){t.v_.push(e);const n=Za(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function hM(t){return fl(t)&&!Za(t).Zo()&&t.v_.length>0}function fM(t){Za(t).start()}async function n9(t){Za(t).V_()}async function r9(t){const e=Za(t);for(const n of t.v_)e.d_(n.mutations)}async function i9(t,e,n){const r=t.v_.shift(),i=zb.from(r,e,n);await dM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vh(t)}async function s9(t,e){e&&Za(t).E_&&await async function(r,i){if(function(o){return bL(o)&&o!==K.ABORTED}(i.code)){const s=r.v_.shift();Za(r).t_(),await dM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vh(r)}}(t,e),hM(t)&&fM(t)}async function lR(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=fl(n);n.M_.add(3),await yh(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await wm(n)}async function vI(t,e){const n=ce(t);e?(n.M_.delete(2),await wm(n)):e||(n.M_.add(2),await yh(n),n.N_.set("Unknown"))}function _h(t){return t.B_||(t.B_=function(n,r,i){const s=ce(n);return s.f_(),new Wq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Yq.bind(null,t),To:Xq.bind(null,t),Ao:Jq.bind(null,t),h_:Zq.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),rS(t)?nS(t):t.N_.set("Unknown")):(await t.B_.stop(),cM(t))})),t.B_}function Za(t){return t.k_||(t.k_=function(n,r,i){const s=ce(n);return s.f_(),new Hq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:n9.bind(null,t),Ao:s9.bind(null,t),R_:r9.bind(null,t),A_:i9.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await vh(t)):(await t.k_.stop(),t.v_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new iS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wh(t,e){if(un("AsyncQueue",`${e}: ${t}`),dl(t))return new ee(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=bf(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new fd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.q_=new Rt(le.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):fe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zd{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zd(e,n,fd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class a9{constructor(){this.queries=new hl(e=>uL(e),pm),this.onlineState="Unknown",this.z_=new Set}}async function sS(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new o9,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=wh(o,`Initialization of query '${Dc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&aS(n)}async function oS(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l9(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&aS(n)}function u9(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function aS(t){t.z_.forEach(e=>{e.next()})}var _I,cR;(cR=_I||(_I={})).J_="default",cR.Cache="cache";class lS{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==_I.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.serializer=e}Ps(e){return Ms(this.serializer,e)}Is(e){return e.metadata.exists?DL(this.serializer,e.document,!1):Ot.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return dn(e)}}class d9{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pM(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=Je.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new dR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Be()).add(s);n.set(o,a)}}return n}async complete(){const e=await jq(this.localStore,new dR(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await Uq(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function pM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.key=e}}class gM{constructor(e){this.key=e}}class yM{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Be(),this.mutatedKeys=Be(),this.Ia=dL(e),this.Ta=new fd(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new uR,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),_=mm(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),P=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;p&&_?p.data.isEqual(_.data)?S!==P&&(r.track({type:3,doc:_}),R=!0):this.Ra(p,_)||(r.track({type:2,doc:_}),R=!0,(l&&this.Ia(_,l)>0||u&&this.Ia(_,u)<0)&&(a=!0)):!p&&_?(r.track({type:0,doc:_}),R=!0):p&&!_&&(r.track({type:1,doc:p}),R=!0,(l||u)&&(a=!0)),R&&(_?(o=o.add(_),s=P?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((h,f)=>function(_,S){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return P(_)-P(S)}(h.type,f.type)||this.Ia(h.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new Zd(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new uR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Be(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new gM(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new mM(r))}),n}pa(e){this.la=e.hs,this.Pa=Be();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Zd.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class h9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f9{constructor(e){this.key=e,this.wa=!1}}class p9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new hl(a=>uL(a),pm),this.Da=new Map,this.Ca=new Set,this.va=new Rt(le.comparator),this.Fa=new Map,this.Ma=new Qb,this.xa={},this.Oa=new Map,this.Na=Mu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function m9(t,e,n=!0){const r=S_(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await vM(r,e,n,!0),i}async function g9(t,e){const n=S_(t);await vM(n,e,!0,!1)}async function vM(t,e,n,r){const i=await Yd(t.localStore,vr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await uS(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&b_(t.remoteStore,i),a}async function uS(t,e,n,r,i){t.Ba=(f,p,_)=>async function(P,R,I,w){let T=R.view.da(I);T.Xi&&(T=await Sv(P.localStore,R.query,!1).then(({documents:C})=>R.view.da(C,T)));const L=w&&w.targetChanges.get(R.targetId),F=w&&w.targetMismatches.get(R.targetId)!=null,B=R.view.applyChanges(T,P.isPrimaryClient,L,F);return wI(P,R.targetId,B.fa),B.snapshot}(t,f,p,_);const s=await Sv(t.localStore,e,!0),o=new yM(e,s.hs),a=o.da(s.documents),l=vm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);wI(t,n,u.fa);const h=new h9(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function y9(t,e,n){const r=ce(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!pm(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jd(r.remoteStore,i.targetId),eh(r,i.targetId)}).catch(cl)):(eh(r,i.targetId),await Xd(r.localStore,i.targetId,!0))}async function v9(t,e){const n=ce(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jd(n.remoteStore,r.targetId))}async function _9(t,e,n){const r=fS(t);try{const i=await function(o,a){const l=ce(o),u=Ut.now(),h=a.reduce((_,S)=>_.add(S.key),Be());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=jr(),P=Be();return l.os.getEntries(_,h).next(R=>{S=R,S.forEach((I,w)=>{w.isValidDocument()||(P=P.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,S)).next(R=>{f=R;const I=[];for(const w of a){const T=W6(w,f.get(w.key).overlayedDocument);T!=null&&I.push(new Mo(w.key,T,eL(T.value.mapValue),jt.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,I,a)}).next(R=>{p=R;const I=R.applyToLocalDocumentSet(f,P);return l.documentOverlayCache.saveOverlays(_,R.batchId,I)})}).then(()=>({batchId:p.batchId,changes:fL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Rt(Ue)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Vo(r,i.changes),await vh(r.remoteStore)}catch(i){const s=wh(i,"Failed to persist write");n.reject(s)}}async function _M(t,e){const n=ce(t);try{const r=await Vq(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?ke(o.wa):i.removedDocuments.size>0&&(ke(o.wa),o.wa=!1))}),await Vo(n,r,e)}catch(r){await cl(r)}}function hR(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const p of f.U_)p.j_(a)&&(u=!0)}),u&&aS(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w9(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Rt(le.comparator);o=o.insert(s,Ot.newNoDocument(s,Ce.min()));const a=Be().add(s),l=new ym(Ce.min(),new Map,new Rt(Ue),o,a);await _M(r,l),r.va=r.va.remove(s),r.Fa.delete(e),hS(r)}else await Xd(r.localStore,e,!1).then(()=>eh(r,e,n)).catch(cl)}async function E9(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await Mq(n.localStore,e);dS(n,r,null),cS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vo(n,i)}catch(i){await cl(i)}}async function I9(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ke(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);dS(r,e,n),cS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vo(r,i)}catch(i){await cl(i)}}async function T9(t,e){const n=ce(t);fl(n.remoteStore)||te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=ce(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=wh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function cS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function dS(t,e,n){const r=ce(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function eh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||wM(t,r)})}function wM(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Jd(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),hS(t))}function wI(t,e,n){for(const r of n)r instanceof mM?(t.Ma.addReference(r.key,e),b9(t,r)):r instanceof gM?(te("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||wM(t,r.key)):fe()}function b9(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(te("SyncEngine","New document in limbo: "+n),t.Ca.add(r),hS(t))}function hS(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new le(Je.fromString(e)),r=t.Na.next();t.Fa.set(r,new f9(n)),t.va=t.va.insert(n,r),b_(t.remoteStore,new co(vr(ph(n.path)),r,"TargetPurposeLimboResolution",Vr.oe))}}async function Vo(t,e,n){const r=ce(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){const h=u&&!u.fromCache;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Jb.Ki(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,u){const h=ce(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,p=>H.forEach(p.qi,_=>h.persistence.referenceDelegate.addReference(f,p.targetId,_)).next(()=>H.forEach(p.Qi,_=>h.persistence.referenceDelegate.removeReference(f,p.targetId,_)))))}catch(f){if(!dl(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const _=h.ns.get(p),S=_.snapshotVersion,P=_.withLastLimboFreeSnapshotVersion(S);h.ns=h.ns.insert(p,P)}}}(r.localStore,s))}async function S9(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await eM(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ee(K.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vo(n,r.us)}}function A9(t,e){const n=ce(t),r=n.Fa.get(e);if(r&&r.wa)return Be().add(r.key);{let i=Be();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}async function k9(t,e){const n=ce(t),r=await Sv(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&wI(n,e.targetId,i.fa),i}async function C9(t,e){const n=ce(t);return iM(n.localStore,e).then(r=>Vo(n,r))}async function R9(t,e,n,r){const i=ce(t),s=await function(a,l){const u=ce(a),h=ce(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.vn(f,l).next(p=>p?u.localDocuments.getDocuments(f,p):H.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await vh(i.remoteStore):n==="acknowledged"||n==="rejected"?(dS(i,e,r||null),cS(i,e),function(a,l){ce(ce(a).mutationQueue).Mn(l)}(i.localStore,e)):fe(),await Vo(i,s)):te("SyncEngine","Cannot apply mutation batch with id: "+e)}async function P9(t,e){const n=ce(t);if(S_(n),fS(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await fR(n,r.toArray());n.La=!0,await vI(n.remoteStore,!0);for(const s of i)b_(n.remoteStore,s)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(eh(n,o),Xd(n.localStore,o,!0))),Jd(n.remoteStore,o)}),await i,await fR(n,r),function(o){const a=ce(o);a.Fa.forEach((l,u)=>{Jd(a.remoteStore,u)}),a.Ma.mr(),a.Fa=new Map,a.va=new Rt(le.comparator)}(n),n.La=!1,await vI(n.remoteStore,!1)}}async function fR(t,e,n){const r=ce(t),i=[],s=[];for(const o of e){let a;const l=r.Da.get(o);if(l&&l.length!==0){a=await Yd(r.localStore,vr(l[0]));for(const u of l){const h=r.ba.get(u),f=await k9(r,h);f.snapshot&&s.push(f.snapshot)}}else{const u=await rM(r.localStore,o);a=await Yd(r.localStore,u),await uS(r,EM(u),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i}function EM(t){return lL(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function x9(t){return function(n){return ce(ce(n).persistence).Bi()}(ce(t).localStore)}async function N9(t,e,n,r){const i=ce(t);if(i.La)return void te("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await iM(i.localStore,cL(s[0])),a=ym.createSynthesizedRemoteEventForCurrentChange(e,n==="current",kn.EMPTY_BYTE_STRING);await Vo(i,o,a);break}case"rejected":await Xd(i.localStore,e,!0),eh(i,e,r);break;default:fe()}}async function O9(t,e,n){const r=S_(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){te("SyncEngine","Adding an already active target "+i);continue}const s=await rM(r.localStore,i),o=await Yd(r.localStore,s);await uS(r,EM(s),o.targetId,!1,o.resumeToken),b_(r.remoteStore,o)}for(const i of n)r.Da.has(i)&&await Xd(r.localStore,i,!1).then(()=>{Jd(r.remoteStore,i),eh(r,i)}).catch(cl)}}function S_(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_M.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w9.bind(null,e),e.Sa.h_=l9.bind(null,e.eventManager),e.Sa.ka=u9.bind(null,e.eventManager),e}function fS(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I9.bind(null,e),e}function D9(t,e,n){const r=ce(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(_,S){const P=ce(_),R=dn(S.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",I=>P.$r.getBundleMetadata(I,S.id)).then(I=>!!I&&I.createTime.compareTo(R)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(pM(l));const u=new d9(l,s.localStore,o.serializer);let h=await o.qa();for(;h;){const p=await u._a(h);p&&a._updateProgress(p),h=await o.qa()}const f=await u.complete();return await Vo(s,f.ca,void 0),await function(_,S){const P=ce(_);return P.persistence.runTransaction("Save bundle","readwrite",R=>P.$r.saveBundleMetadata(R,S))}(s.localStore,l),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(l){return Ji("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class EI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_m(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZL(this.persistence,new JL,e.initialUser,this.serializer)}createPersistence(e){return new XL(T_.Hr,this.serializer)}createSharedClientState(e){return new oM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IM extends EI{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await fS(this.Qa.syncEngine),await vh(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return ZL(this.persistence,new JL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new _q(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new n6(n,this.persistence);return new t6(e.asyncQueue,r)}createPersistence(e){const n=Xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new Yb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,aM(),Ty(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oM}}class L9 extends IM{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof IE&&(this.sharedClientState.syncEngine={Zs:R9.bind(null,n),Xs:N9.bind(null,n),eo:O9.bind(null,n),Bi:x9.bind(null,n),Ys:C9.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await P9(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=aM();if(!IE.D(n))throw new ee(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Xb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IE(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class pS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S9.bind(null,this.syncEngine),await vI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a9}()}createDatastore(e){const n=_m(e.databaseInfo.databaseId),r=function(s){return new qq(s)}(e.databaseInfo);return function(s,o,a,l){return new Gq(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Qq(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hR(this.syncEngine,n,0),function(){return aR.D()?new aR:new $q}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const f=new p9(i,s,o,a,l,u);return h&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ce(r);te("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await yh(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Vn,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new c9(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e===123)}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ee(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=ce(i),a={documents:s.map(f=>Np(o.serializer,f))},l=await o.xo("BatchGetDocuments",o.serializer.databaseId,Je.emptyPath(),a,s.length),u=new Map;l.forEach(f=>{const p=eq(o.serializer,f);u.set(p.key.toString(),p)});const h=[];return s.forEach(f=>{const p=u.get(f.toString());ke(!!p),h.push(p)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=le.fromPath(r);this.mutations.push(new Ub(i,this.precondition(i)))}),await async function(r,i){const s=ce(r),o={writes:i.map(a=>Op(s.serializer,a))};await s.Co("Commit",s.serializer.databaseId,Je.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw fe();n=Ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ee(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ce.min())?jt.exists(!1):jt.updateTime(n):jt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ce.min()))throw new ee(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jt.updateTime(n)}return jt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new eS(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new V9(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!hm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!bL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=FD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{te("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function by(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function II(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mS(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lR(e.remoteStore,i)),t._onlineComponents=e}function TM(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await by(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!TM(n))throw n;Ji("Error using user provided cache. Falling back to memory cache: "+n),await by(t,new EI)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await by(t,new EI);return t._offlineComponents}async function k_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await II(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await II(t,new pS))),t._onlineComponents}function bM(t){return mS(t).then(e=>e.persistence)}function gS(t){return mS(t).then(e=>e.localStore)}function SM(t){return k_(t).then(e=>e.remoteStore)}function yS(t){return k_(t).then(e=>e.syncEngine)}function U9(t){return k_(t).then(e=>e.datastore)}async function th(t){const e=await k_(t),n=e.eventManager;return n.onListen=m9.bind(null,e.syncEngine),n.onUnlisten=y9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v9.bind(null,e.syncEngine),n}function $9(t){return t.asyncQueue.enqueue(async()=>{const e=await bM(t),n=await SM(t);return e.setNetworkEnabled(!0),function(i){const s=ce(i);return s.M_.delete(0),wm(s)}(n)})}function z9(t){return t.asyncQueue.enqueue(async()=>{const e=await bM(t),n=await SM(t);return e.setNetworkEnabled(!1),async function(i){const s=ce(i);s.M_.add(0),await yh(s),s.N_.set("Offline")}(n)})}function B9(t,e){const n=new Vn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,h){const f=ce(u);return f.persistence.runTransaction("read document","readonly",p=>f.localDocuments.getDocument(p,h))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new ee(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=wh(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await gS(t),e,n)),n.promise}function AM(t,e,n={}){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new A_({next:p=>{o.enqueueAndForget(()=>oS(s,f));const _=p.docs.has(a);!_&&p.fromCache?u.reject(new ee(K.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&p.fromCache&&l&&l.source==="server"?u.reject(new ee(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new lS(ph(a.path),h,{includeMetadataChanges:!0,ra:!0});return sS(s,f)}(await th(t),t.asyncQueue,e,n,r)),r.promise}function q9(t,e){const n=new Vn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Sv(i,s,!0),l=new yM(s,a.hs),u=l.da(a.documents),h=l.applyChanges(u,!1);o.resolve(h.snapshot)}catch(a){const l=wh(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await gS(t),e,n)),n.promise}function kM(t,e,n={}){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new A_({next:p=>{o.enqueueAndForget(()=>oS(s,f)),p.fromCache&&l.source==="server"?u.reject(new ee(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new lS(a,h,{includeMetadataChanges:!0,ra:!0});return sS(s,f)}(await th(t),t.asyncQueue,e,n,r)),r.promise}function W9(t,e){const n=new A_(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){ce(i).z_.add(s),s.next()}(await th(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){ce(i).z_.delete(s)}(await th(t),n))}}function H9(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?AL().encode(o):o,function(h,f){return new M9(h,f)}(function(h,f){if(h instanceof Uint8Array)return pR(h,f);if(h instanceof ArrayBuffer)return pR(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,_m(e));t.asyncQueue.enqueueAndForget(async()=>{D9(await yS(t),i,r)})}function G9(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=ce(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await gS(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e,n){if(!n)throw new ee(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RM(t,e,n,r){if(e===!0&&r===!0)throw new ee(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gR(t){if(!le.isDocumentKey(t))throw new ee(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yR(t){if(le.isDocumentKey(t))throw new ee(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function C_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function lt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C_(t);throw new ee(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function PM(t,e){if(e<=0)throw new ee(K.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new q5;switch(r.type){case"firstParty":return new K5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mR.get(n);r&&(te("ComponentProvider","Removing Datastore"),mR.delete(n),r.terminate())}(this),Promise.resolve()}}function xM(t,e,n,r={}){var i;const s=(t=lt(t,Em))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dn.MOCK_USER;else{a=T3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ee(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dn(u)}t._authCredentials=new W5(new VD(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _r=class NM{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new NM(this.firestore,e,this._query)}},Wt=class OM{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new OM(this.firestore,e,this._key)}},za=class DM extends _r{constructor(e,n,r){super(e,n,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new le(e))}withConverter(e){return new DM(this.firestore,e,this._path)}};function ki(t,e,...n){if(t=Se(t),vS("collection","path",e),t instanceof Em){const r=Je.fromString(e,...n);return yR(r),new za(t,null,r)}{if(!(t instanceof Wt||t instanceof za))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return yR(r),new za(t.firestore,null,r)}}function K9(t,e){if(t=lt(t,Em),vS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(K.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _r(t,null,function(r){return new Lo(Je.emptyPath(),r)}(e))}function In(t,e,...n){if(t=Se(t),arguments.length===1&&(e=FD.newId()),vS("doc","path",e),t instanceof Em){const r=Je.fromString(e,...n);return gR(r),new Wt(t,null,new le(r))}{if(!(t instanceof Wt||t instanceof za))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return gR(r),new Wt(t.firestore,t instanceof za?t.converter:null,new le(r))}}function LM(t,e){return t=Se(t),e=Se(e),(t instanceof Wt||t instanceof za)&&(e instanceof Wt||e instanceof za)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function MM(t,e){return t=Se(t),e=Se(e),t instanceof _r&&e instanceof _r&&t.firestore===e.firestore&&pm(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new eS(this,"async_queue_retry"),this.hu=()=>{const n=Ty();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Ty();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Ty();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Vn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!dl(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw un("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=iS.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&fe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function TI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Y9{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=-1;let Zt=class extends Em{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Q9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||VM(this),this._firestoreClient.terminate()}};function J9(t,e){const n=typeof t=="object"?t:xb(),r=typeof t=="string"?t:"(default)",i=dm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=E3("firestore");s&&xM(i,...s)}return i}function Un(t){return t._firestoreClient||VM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VM(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new T6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new j9(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Z9(t,e){jM(t=lt(t,Zt));const n=Un(t);if(n._uninitializedComponentsProvider)throw new ee(K.FAILED_PRECONDITION,"SDK cache is already specified.");Ji("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new pS;return FM(n,i,new IM(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function eW(t){jM(t=lt(t,Zt));const e=Un(t);if(e._uninitializedComponentsProvider)throw new ee(K.FAILED_PRECONDITION,"SDK cache is already specified.");Ji("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new pS;return FM(e,r,new L9(r,n.cacheSizeBytes))}function FM(t,e,n){const r=new Vn;return t.asyncQueue.enqueue(async()=>{try{await by(t,n),await II(t,e),r.resolve()}catch(i){const s=i;if(!TM(s))throw s;Ji("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function tW(t){if(t._initialized&&!t._terminated)throw new ee(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ls.D())return Promise.resolve();const i=r+"main";await Ls.delete(i)}(Xb(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function nW(t){return function(n){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>T9(await yS(n),r)),r.promise}(Un(t=lt(t,Zt)))}function rW(t){return $9(Un(t=lt(t,Zt)))}function iW(t){return z9(Un(t=lt(t,Zt)))}function sW(t,e){const n=Un(t=lt(t,Zt)),r=new Y9;return H9(n,t._databaseId,e,r),r}function oW(t,e){return G9(Un(t=lt(t,Zt)),e).then(n=>n?new _r(t,null,n.query):null)}function jM(t){if(t._initialized||t._terminated)throw new ee(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(kn.fromBase64String(e))}catch(n){throw new ee(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=/^__.*__$/;class lW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new mh(e,this.data,n,this.fieldTransforms)}}class UM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $M(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class P_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new P_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Rv(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if($M(this.fu)&&aW.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class uW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_m(e)}Fu(e,n,r,i=!1){return new P_({fu:e,methodName:n,vu:r,path:Ft.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qu(t){const e=t._freezeSettings(),n=_m(t._databaseId);return new uW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x_(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);SS("Data must be an object, but it was:",o,r);const a=qM(r,o);let l,u;if(s.merge)l=new Fr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=bI(e,f,n);if(!o.contains(p))throw new ee(K.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);HM(h,p)||h.push(p)}l=new Fr(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new lW(new qn(a),l,u)}class Im extends Ku{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Im}}function zM(t,e,n){return new P_({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _S extends Ku{_toFieldTransform(e){return new gm(e.path,new Gd)}isEqual(e){return e instanceof _S}}class wS extends Ku{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=zM(this,e,!0),r=this.Mu.map(s=>Yu(s,n)),i=new Nu(r);return new gm(e.path,i)}isEqual(e){return e instanceof wS&&$d(this.Mu,e.Mu)}}class ES extends Ku{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=zM(this,e,!0),r=this.Mu.map(s=>Yu(s,n)),i=new Ou(r);return new gm(e.path,i)}isEqual(e){return e instanceof ES&&$d(this.Mu,e.Mu)}}class IS extends Ku{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new Kd(e.serializer,yL(e.serializer,this.xu));return new gm(e.path,n)}isEqual(e){return e instanceof IS&&this.xu===e.xu}}function TS(t,e,n,r){const i=t.Fu(1,e,n);SS("Data must be an object, but it was:",i,r);const s=[],o=qn.empty();Gu(r,(l,u)=>{const h=AS(e,l,n);u=Se(u);const f=i.Su(h);if(u instanceof Im)s.push(h);else{const p=Yu(u,f);p!=null&&(s.push(h),o.set(h,p))}});const a=new Fr(s);return new UM(o,a,i.fieldTransforms)}function bS(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[bI(e,r,n)],l=[i];if(s.length%2!=0)throw new ee(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(bI(e,s[p])),l.push(s[p+1]);const u=[],h=qn.empty();for(let p=a.length-1;p>=0;--p)if(!HM(u,a[p])){const _=a[p];let S=l[p];S=Se(S);const P=o.Su(_);if(S instanceof Im)u.push(_);else{const R=Yu(S,P);R!=null&&(u.push(_),h.set(_,R))}}const f=new Fr(u);return new UM(h,f,o.fieldTransforms)}function BM(t,e,n,r=!1){return Yu(n,t.Fu(r?4:3,e))}function Yu(t,e){if(WM(t=Se(t)))return SS("Unsupported field value:",e,t),qM(t,e);if(t instanceof Ku)return function(r,i){if(!$M(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Yu(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Se(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ut.fromDate(r);return{timestampValue:Qd(i.serializer,s)}}if(r instanceof Ut){const s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(i.serializer,s)}}if(r instanceof R_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $s)return{bytesValue:RL(i.serializer,r._byteString)};if(r instanceof Wt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${C_(r)}`)}(t,e)}function qM(t,e){const n={};return XD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gu(t,(r,i)=>{const s=Yu(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof R_||t instanceof $s||t instanceof Wt||t instanceof Ku)}function SS(t,e,n){if(!WM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=C_(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function bI(t,e,n){if((e=Se(e))instanceof el)return e._internalPath;if(typeof e=="string")return AS(t,e);throw Rv("Field path arguments must be of type string or ",t,!1,void 0,n)}const cW=new RegExp("[~\\*/\\[\\]]");function AS(t,e,n){if(e.search(cW)>=0)throw Rv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new el(...e.split("."))._internalPath}catch{throw Rv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(K.INVALID_ARGUMENT,a+t+l)}function HM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(N_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dW extends Dp{data(){return super.data()}}function N_(t,e){return typeof e=="string"?AS(t,e):e instanceof el?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kS{}class Tm extends kS{}function yi(t,e,...n){let r=[];e instanceof kS&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof CS).length,a=s.filter(l=>l instanceof O_).length;if(o>1||o>0&&a>0)throw new ee(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class O_ extends Tm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new O_(e,n,r)}_apply(e){const n=this._parse(e);return QM(e._query,n),new _r(e.firestore,e.converter,uI(e._query,n))}_parse(e){const n=Qu(e.firestore);return function(s,o,a,l,u,h,f){let p;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ee(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wR(f,h);const _=[];for(const S of f)_.push(_R(l,s,S));p={arrayValue:{values:_}}}else p=_R(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wR(f,h),p=BM(a,o,f,h==="in"||h==="not-in");return Ze.create(u,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function D_(t,e,n){const r=e,i=N_("where",t);return O_._create(i,r,n)}class CS extends kS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new CS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)QM(o,l),o=uI(o,l)}(e._query,n),new _r(e.firestore,e.converter,uI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class RS extends Tm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new RS(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ee(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xp(s,o)}(e._query,this._field,this._direction);return new _r(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Lo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function hW(t,e="asc"){const n=e,r=N_("orderBy",t);return RS._create(r,n)}class L_ extends Tm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new L_(e,n,r)}_apply(e){return new _r(e.firestore,e.converter,Ev(e._query,this._limit,this._limitType))}}function fW(t){return PM("limit",t),L_._create("limit",t,"F")}function pW(t){return PM("limitToLast",t),L_._create("limitToLast",t,"L")}class M_ extends Tm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new M_(e,n,r)}_apply(e){const n=KM(e,this.type,this._docOrFields,this._inclusive);return new _r(e.firestore,e.converter,function(i,s){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function mW(...t){return M_._create("startAt",t,!0)}function gW(...t){return M_._create("startAfter",t,!1)}class V_ extends Tm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new V_(e,n,r)}_apply(e){const n=KM(e,this.type,this._docOrFields,this._inclusive);return new _r(e.firestore,e.converter,function(i,s){return new Lo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function yW(...t){return V_._create("endBefore",t,!1)}function vW(...t){return V_._create("endAt",t,!0)}function KM(t,e,n,r){if(n[0]=Se(n[0]),n[0]instanceof Dp)return function(s,o,a,l,u){if(!l)throw new ee(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const f of hd(s))if(f.field.isKeyField())h.push(Pu(o,l.key));else{const p=l.data.field(f.field);if(v_(p))throw new ee(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const _=f.field.canonicalString();throw new ee(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}h.push(p)}return new Ja(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Qu(t.firestore);return function(o,a,l,u,h,f){const p=o.explicitOrderBy;if(h.length>p.length)throw new ee(K.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let S=0;S<h.length;S++){const P=h[S];if(p[S].field.isKeyField()){if(typeof P!="string")throw new ee(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof P}`);if(!Fb(o)&&P.indexOf("/")!==-1)throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${P}' contains a slash.`);const R=o.path.child(Je.fromString(P));if(!le.isDocumentKey(R))throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const I=new le(R);_.push(Pu(a,I))}else{const R=BM(l,u,P);_.push(R)}}return new Ja(_,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function _R(t,e,n){if(typeof(n=Se(n))=="string"){if(n==="")throw new ee(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fb(e)&&n.indexOf("/")!==-1)throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!le.isDocumentKey(r))throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pu(t,new le(r))}if(n instanceof Wt)return Pu(t,n._key);throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${C_(n)}.`)}function wR(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QM(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PS{convertValue(e,n="none"){switch(Ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new R_(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cp(e));default:return null}}convertTimestamp(e){const n=Ao(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);ke(UL(r));const i=new Ya(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _W extends PS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let ko=class extends Dp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(N_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Kf=class extends ko{data(e={}){return super.data(e)}},tl=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kf(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Kf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Kf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:wW(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function wW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}function YM(t,e){return t instanceof ko&&e instanceof ko?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof tl&&e instanceof tl&&t._firestore===e._firestore&&MM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){t=lt(t,Wt);const e=lt(t.firestore,Zt);return AM(Un(e),t._key).then(n=>xS(e,t,n))}class Xu extends PS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function EW(t){t=lt(t,Wt);const e=lt(t.firestore,Zt),n=Un(e),r=new Xu(e);return B9(n,t._key).then(i=>new ko(e,r,t._key,i,new tu(i!==null&&i.hasLocalMutations,!0),t.converter))}function IW(t){t=lt(t,Wt);const e=lt(t.firestore,Zt);return AM(Un(e),t._key,{source:"server"}).then(n=>xS(e,t,n))}function Ju(t){t=lt(t,_r);const e=lt(t.firestore,Zt),n=Un(e),r=new Xu(e);return GM(t._query),kM(n,t._query).then(i=>new tl(e,r,t,i))}function TW(t){t=lt(t,_r);const e=lt(t.firestore,Zt),n=Un(e),r=new Xu(e);return q9(n,t._query).then(i=>new tl(e,r,t,i))}function bW(t){t=lt(t,_r);const e=lt(t.firestore,Zt),n=Un(e),r=new Xu(e);return kM(n,t._query,{source:"server"}).then(i=>new tl(e,r,t,i))}function Qf(t,e,n){t=lt(t,Wt);const r=lt(t.firestore,Zt),i=F_(t.converter,e,n);return Sm(r,[x_(Qu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jt.none())])}function Lp(t,e,n,...r){t=lt(t,Wt);const i=lt(t.firestore,Zt),s=Qu(i);let o;return o=typeof(e=Se(e))=="string"||e instanceof el?bS(s,"updateDoc",t._key,e,n,r):TS(s,"updateDoc",t._key,e),Sm(i,[o.toMutation(t._key,jt.exists(!0))])}function j_(t){return Sm(lt(t.firestore,Zt),[new gh(t._key,jt.none())])}function bm(t,e){const n=lt(t.firestore,Zt),r=In(t),i=F_(t.converter,e);return Sm(n,[x_(Qu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jt.exists(!1))]).then(()=>r)}function XM(t,...e){var n,r,i;t=Se(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||TI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(TI(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,h;if(t instanceof Wt)u=lt(t.firestore,Zt),h=ph(t._key.path),l={next:f=>{e[o]&&e[o](xS(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=lt(t,_r);u=lt(f.firestore,Zt),h=f._query;const p=new Xu(u);l={next:_=>{e[o]&&e[o](new tl(u,p,f,_))},error:e[o+1],complete:e[o+2]},GM(t._query)}return function(p,_,S,P){const R=new A_(P),I=new lS(_,R,S);return p.asyncQueue.enqueueAndForget(async()=>sS(await th(p),I)),()=>{R.$a(),p.asyncQueue.enqueueAndForget(async()=>oS(await th(p),I))}}(Un(u),h,a,l)}function SW(t,e){return W9(Un(t=lt(t,Zt)),TI(e)?e:{next:e})}function Sm(t,e){return function(r,i){const s=new Vn;return r.asyncQueue.enqueueAndForget(async()=>_9(await yS(r),i,s)),s.promise}(Un(t),e)}function xS(t,e,n){const r=n.docs.get(e._key),i=new Xu(t);return new ko(t,i,e._key,r,new tu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kW=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qu(e)}set(e,n,r){this._verifyNotCommitted();const i=ya(e,this._firestore),s=F_(i.converter,n,r),o=x_(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,jt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ya(e,this._firestore);let o;return o=typeof(n=Se(n))=="string"||n instanceof el?bS(this._dataReader,"WriteBatch.update",s._key,n,r,i):TS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,jt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ya(e,this._firestore);return this._mutations=this._mutations.concat(new gh(n._key,jt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ya(t,e){if((t=Se(t)).firestore!==e)throw new ee(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CW=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Qu(n)}get(n){const r=ya(n,this._firestore),i=new _W(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return fe();const o=s[0];if(o.isFoundDocument())return new Dp(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Dp(this._firestore,i,r._key,null,r.converter);throw fe()})}set(n,r,i){const s=ya(n,this._firestore),o=F_(s.converter,r,i),a=x_(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=ya(n,this._firestore);let a;return a=typeof(r=Se(r))=="string"||r instanceof el?bS(this._dataReader,"Transaction.update",o._key,r,i,s):TS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ya(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ya(e,this._firestore),r=new Xu(this._firestore);return super.get(e).then(i=>new ko(this._firestore,r,n._key,i._document,new tu(!1,!1),n.converter))}};function RW(t,e,n){t=lt(t,Zt);const r=Object.assign(Object.assign({},AW),n);return function(s){if(s.maxAttempts<1)throw new ee(K.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Vn;return s.asyncQueue.enqueueAndForget(async()=>{const u=await U9(s);new F9(s.asyncQueue,u,a,o,l).Xa()}),l.promise}(Un(t),i=>e(new CW(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(){return new Im("deleteField")}function xW(){return new _S("serverTimestamp")}function NW(...t){return new wS("arrayUnion",t)}function OW(...t){return new ES("arrayRemove",t)}function DW(t){return new IS("increment",t)}(function(e,n=!0){(function(i){fh=i})(ri),js(new Ai("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Zt(new H5(r.getProvider("auth-internal")),new Y5(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Br(mC,"4.6.3",e),Br(mC,"4.6.3","esm2017")})();function Eh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LW=JM,ZM=new qs("auth","Firebase",JM()),MW={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new cm("@firebase/auth");function VW(t,...e){Pv.logLevel<=Ke.WARN&&Pv.warn(`Auth (${ri}): ${t}`,...e)}function Sy(t,...e){Pv.logLevel<=Ke.ERROR&&Pv.error(`Auth (${ri}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw NS(t,...e)}function Vs(t,...e){return NS(t,...e)}function eV(t,e,n){const r=Object.assign(Object.assign({},LW()),{[e]:n});return new qs("auth","Firebase",r).create(e,{appName:t.name})}function _o(t){return eV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZM.create(t,...e)}function Ne(t,e,...n){if(!t)throw NS(e,...n)}function fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sy(e),new Error(e)}function Co(t,e){t||fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FW(){return ER()==="http:"||ER()==="https:"}function ER(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FW()||Ab()||"connection"in navigator)?navigator.onLine:!0}function UW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Co(n>e,"Short delay should be less than long delay!"),this.isMobile=mD()||m_()}get(){return jW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e){Co(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tV=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=new Am(3e4,6e4);function pl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ml(t,e,n,r,i={}){return nV(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ts(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),tV.fetch()(rV(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function nV(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$W),e);try{const i=new qW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw zg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw zg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw zg(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw eV(t,h,u);Zi(t,h)}}catch(i){if(i instanceof Mn)throw i;Zi(t,"network-request-failed",{message:String(i)})}}async function km(t,e,n,r,i={}){const s=await ml(t,e,n,r,i);return"mfaPendingCredential"in s&&Zi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function rV(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?OS(t.config,i):`${t.config.apiScheme}://${i}`}function BW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let qW=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),zW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vs(t,e,r);return i.customData._tokenResponse=n,i}function IR(t){return t!==void 0&&t.enterprise!==void 0}let WW=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function HW(t,e){return ml(t,"GET","/v2/recaptchaConfig",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GW(t,e){return ml(t,"POST","/v1/accounts:delete",e)}async function iV(t,e){return ml(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KW(t,e=!1){const n=Se(t),r=await n.getIdToken(e),i=DS(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yf(bE(i.auth_time)),issuedAtTime:Yf(bE(i.iat)),expirationTime:Yf(bE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bE(t){return Number(t)*1e3}function DS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tb(n);return i?JSON.parse(i):(Sy("Failed to decode base64 JWT payload"),null)}catch(i){return Sy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TR(t){const e=DS(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mn&&QW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YW=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AI=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yf(this.lastLoginAt),this.creationTime=Yf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Mp(t,iV(n,{idToken:r}));Ne(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?sV(s.providerUserInfo):[],a=JW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new AI(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function XW(t){const e=Se(t);await xv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sV(t){return t.map(e=>{var{providerId:n}=e,r=Eh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW(t,e){const n=await nV(t,{},async()=>{const r=ts({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rV(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tV.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eH(t,e){return ml(t,"POST","/v2/accounts:revokeToken",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SE=class kI{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=TR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new kI;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kI,this.toJSON())}_performRefresh(){return fo("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let Nv=class kf{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new AI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Mp(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KW(this,e)}reload(){return XW(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kf(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ct(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await Mp(this,GW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:L,isAnonymous:F,providerData:B,stsTokenManager:C}=n;Ne(T&&C,e,"internal-error");const b=SE.fromJSON(this.name,C);Ne(typeof T=="string",e,"internal-error"),oa(f,e.name),oa(p,e.name),Ne(typeof L=="boolean",e,"internal-error"),Ne(typeof F=="boolean",e,"internal-error"),oa(_,e.name),oa(S,e.name),oa(P,e.name),oa(R,e.name),oa(I,e.name),oa(w,e.name);const x=new kf({uid:T,auth:e,email:p,emailVerified:L,displayName:f,isAnonymous:F,photoURL:S,phoneNumber:_,tenantId:P,stsTokenManager:b,createdAt:I,lastLoginAt:w});return B&&Array.isArray(B)&&(x.providerData=B.map(D=>Object.assign({},D))),R&&(x._redirectEventId=R),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new SE;i.updateFromServerResponse(n);const s=new kf({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sV(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new SE;a.updateFromIdToken(r);const l=new kf({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new AI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Map;function po(t){Co(t instanceof Function,"Expected a class definition");let e=bR.get(t);return e?(Co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oV=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};oV.type="NONE";const SR=oV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e,n){return`firebase:${t}:${e}:${n}`}let AR=class ky{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ay(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ay("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Nv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ky(po(SR),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||po(SR);const o=Ay(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=Nv._fromJSON(e,h);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ky(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ky(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dV(e))return"Blackberry";if(hV(e))return"Webos";if(LS(e))return"Safari";if((e.includes("chrome/")||lV(e))&&!e.includes("edge/"))return"Chrome";if(cV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aV(t=Ye()){return/firefox\//i.test(t)}function LS(t=Ye()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lV(t=Ye()){return/crios\//i.test(t)}function uV(t=Ye()){return/iemobile/i.test(t)}function cV(t=Ye()){return/android/i.test(t)}function dV(t=Ye()){return/blackberry/i.test(t)}function hV(t=Ye()){return/webos/i.test(t)}function U_(t=Ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tH(t=Ye()){var e;return U_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nH(){return kb()&&document.documentMode===10}function fV(t=Ye()){return U_(t)||cV(t)||hV(t)||dV(t)||/windows phone/i.test(t)||uV(t)}function rH(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e=[]){let n;switch(t){case"Browser":n=kR(Ye());break;case"Worker":n=`${kR(Ye())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ri}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iH=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sH(t,e={}){return ml(t,"GET","/v2/passwordPolicy",pl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=6;let aH=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lH=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CR(this),this.idTokenSubscription=new CR(this),this.beforeStateQueue=new iH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=po(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await AR.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iV(this,{idToken:e}),r=await Nv._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ct(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ct(this.app))return Promise.reject(_o(this));const n=e?Se(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ct(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ct(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sH(this),n=new aH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&po(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await AR.create(this,[po(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function Zu(t){return Se(t)}let CR=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cb(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uH(t){$_=t}function mV(t){return $_.loadJS(t)}function cH(){return $_.recaptchaEnterpriseScript}function dH(){return $_.gapiScript}function hH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fH="recaptcha-enterprise",pH="NO_RECAPTCHA";let mH=class{constructor(e){this.type=fH,this.auth=Zu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{HW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new WW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;IR(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(pH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&IR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=cH();l.length!==0&&(l+=a),mV(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}};async function RR(t,e,n,r=!1){const i=new mH(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function CI(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await RR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await RR(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gH(t,e){const n=dm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($d(s,e??{}))return i;Zi(i,"already-initialized")}return n.initialize({options:e})}function yH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(po);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vH(t,e,n){const r=Zu(t);Ne(r._canInitEmulator,r,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=gV(e),{host:o,port:a}=_H(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),wH()}function gV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _H(t){const e=gV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:PR(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:PR(o)}}}function PR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MS=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,n){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}};async function EH(t,e){return ml(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IH(t,e){return km(t,"POST","/v1/accounts:signInWithPassword",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TH(t,e){return km(t,"POST","/v1/accounts:signInWithEmailLink",pl(t,e))}async function bH(t,e){return km(t,"POST","/v1/accounts:signInWithEmailLink",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xR=class RI extends MS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new RI(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new RI(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CI(e,n,"signInWithPassword",IH);case"emailLink":return TH(e,{email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CI(e,r,"signUpPassword",EH);case"emailLink":return bH(e,{idToken:n,email:this._email,oobCode:this._password});default:Zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(t,e){return km(t,"POST","/v1/accounts:signInWithIdp",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="http://localhost";let z_=class PI extends MS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new PI(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Eh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new PI(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return pd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pd(e,n)}buildRequest(){const e={requestUri:SH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ts(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kH(t){const e=Gi(Cs(t)).link,n=e?Gi(Cs(e)).deep_link_id:null,r=Gi(Cs(t)).deep_link_id;return(r?Gi(Cs(r)).link:null)||r||n||e||t}let CH=class yV{constructor(e){var n,r,i,s,o,a;const l=Gi(Cs(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=AH((i=l.mode)!==null&&i!==void 0?i:null);Ne(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=kH(e);try{return new yV(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B_=class vV{constructor(){this.providerId=vV.PROVIDER_ID}static credential(e,n){return xR._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=CH.parseLink(n);return Ne(r,"argument-error"),xR._fromEmailAndCode(e,r.code,r.tenantId)}};B_.PROVIDER_ID="password";B_.EMAIL_PASSWORD_SIGN_IN_METHOD="password";B_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _V=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm=class extends _V{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wV=class Fc extends Cm{constructor(){super("facebook.com")}static credential(e){return z_._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fc.credentialFromTaggedObject(e)}static credentialFromError(e){return Fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fc.credential(e.oauthAccessToken)}catch{return null}}};wV.FACEBOOK_SIGN_IN_METHOD="facebook.com";wV.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EV=class jc extends Cm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return z_._fromParams({providerId:jc.PROVIDER_ID,signInMethod:jc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jc.credentialFromTaggedObject(e)}static credentialFromError(e){return jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jc.credential(n,r)}catch{return null}}};EV.GOOGLE_SIGN_IN_METHOD="google.com";EV.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IV=class Uc extends Cm{constructor(){super("github.com")}static credential(e){return z_._fromParams({providerId:Uc.PROVIDER_ID,signInMethod:Uc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uc.credentialFromTaggedObject(e)}static credentialFromError(e){return Uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uc.credential(e.oauthAccessToken)}catch{return null}}};IV.GITHUB_SIGN_IN_METHOD="github.com";IV.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TV=class $c extends Cm{constructor(){super("twitter.com")}static credential(e,n){return z_._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $c.credentialFromTaggedObject(e)}static credentialFromError(e){return $c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $c.credential(n,r)}catch{return null}}};TV.TWITTER_SIGN_IN_METHOD="twitter.com";TV.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e){return km(t,"POST","/v1/accounts:signUp",pl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q_=class xI{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Nv._fromIdTokenResponse(e,r,i),o=NR(r);return new xI({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=NR(r);return new xI({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function NR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PH=class NI extends Mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,NI.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new NI(e,n,r,i)}};function bV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?PH._fromErrorAndOperation(t,s,e,r):s})}async function xH(t,e,n=!1){const r=await Mp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return q_._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(t,e,n=!1){const{auth:r}=t;if(ct(r.app))return Promise.reject(_o(r));const i="reauthenticate";try{const s=await Mp(t,bV(r,i,e,t),n);Ne(s.idToken,r,"internal-error");const o=DS(s.idToken);Ne(o,r,"internal-error");const{sub:a}=o;return Ne(t.uid===a,r,"user-mismatch"),q_._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e,n=!1){if(ct(t.app))return Promise.reject(_o(t));const r="signIn",i=await bV(t,r,e),s=await q_._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function OH(t,e){return SV(Zu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(t){const e=Zu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DH(t,e,n){if(ct(t.app))return Promise.reject(_o(t));const r=Zu(t),o=await CI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AV(t),l}),a=await q_._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function LH(t,e,n){return ct(t.app)?Promise.reject(_o(t)):OH(Se(t),B_.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AV(t),r})}function MH(t,e,n,r){return Se(t).onIdTokenChanged(e,n,r)}function VH(t,e,n){return Se(t).beforeAuthStateChanged(e,n)}function kV(t,e,n,r){return Se(t).onAuthStateChanged(e,n,r)}function FH(t){return Se(t).signOut()}const Ov="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CV=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ov,"1"),this.storage.removeItem(Ov),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(){const t=Ye();return LS(t)||U_(t)}const UH=1e3,$H=10;let RV=class extends CV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=jH()&&rH(),this.fallbackToPolling=fV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);nH()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$H):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}};RV.type="LOCAL";const zH=RV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PV=class extends CV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}};PV.type="SESSION";const xV=PV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NV=class OV{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new OV(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await BH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};NV.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qH=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=VS("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return window}function WH(t){Fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function HH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KH(){return DV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="firebaseLocalStorageDb",QH=1,Dv="firebaseLocalStorage",MV="fbase_key";let Rm=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function W_(t,e){return t.transaction([Dv],e?"readwrite":"readonly").objectStore(Dv)}function YH(){const t=indexedDB.deleteDatabase(LV);return new Rm(t).toPromise()}function OI(){const t=indexedDB.open(LV,QH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dv,{keyPath:MV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dv)?e(r):(r.close(),await YH(),e(await OI()))})})}async function OR(t,e,n){const r=W_(t,!0).put({[MV]:e,value:n});return new Rm(r).toPromise()}async function XH(t,e){const n=W_(t,!1).get(e),r=await new Rm(n).toPromise();return r===void 0?null:r.value}function DR(t,e){const n=W_(t,!0).delete(e);return new Rm(n).toPromise()}const JH=800,ZH=3;let VV=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OI(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=NV._getInstance(KH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await HH(),!this.activeServiceWorker)return;this.sender=new qH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OI();return await OR(e,Ov,"1"),await DR(e,Ov),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=W_(i,!1).getAll();return new Rm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};VV.type="LOCAL";const eG=VV;new Am(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(t,e){return e?po(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FS=class extends MS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function nG(t){return SV(t.auth,new FS(t),t.bypassAuthState)}function rG(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),NH(n,new FS(t),t.bypassAuthState)}async function iG(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),xH(n,new FS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FV=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nG;case"linkViaPopup":case"linkViaRedirect":return iG;case"reauthViaPopup":case"reauthViaRedirect":return rG;default:Zi(this.auth,"internal-error")}}resolve(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=new Am(2e3,1e4);let oG=class Cf extends FV{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Cf.currentPopupAction&&Cf.currentPopupAction.cancel(),Cf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Co(this.filter.length===1,"Popup operations only handle one event");const e=VS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sG.get())};e()}};oG.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="pendingRedirect",Cy=new Map;let lG=class extends FV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cy.get(this.auth._key());if(!e){try{const r=await uG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cy.set(this.auth._key(),e)}return this.bypassAuthState||Cy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function uG(t,e){const n=hG(e),r=dG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cG(t,e){Cy.set(t._key(),e)}function dG(t){return po(t._redirectPersistence)}function hG(t){return Ay(aG,t.config.apiKey,t.name)}async function fG(t,e,n=!1){if(ct(t.app))return Promise.reject(_o(t));const r=Zu(t),i=tG(r,e),o=await new lG(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG=10*60*1e3;let mG=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jV(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pG&&this.cachedEventUids.clear(),this.cachedEventUids.has(LR(e))}saveEventToCache(e){this.cachedEventUids.add(LR(e)),this.lastProcessedEventTime=Date.now()}};function LR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yG(t,e={}){return ml(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_G=/^https?/;async function wG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yG(t);for(const n of e)try{if(EG(n))return}catch{}Zi(t,"unauthorized-domain")}function EG(t){const e=SI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_G.test(n))return!1;if(vG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=new Am(3e4,6e4);function MR(){const t=Fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TG(t){return new Promise((e,n)=>{var r,i,s;function o(){MR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MR(),n(Vs(t,"network-request-failed"))},timeout:IG.get()})}if(!((i=(r=Fs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fs().gapi)===null||s===void 0)&&s.load)o();else{const a=hH("iframefcb");return Fs()[a]=()=>{gapi.load?o():n(Vs(t,"network-request-failed"))},mV(`${dH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ry=null,e})}let Ry=null;function bG(t){return Ry=Ry||TG(t),Ry}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=new Am(5e3,15e3),AG="__/auth/iframe",kG="emulator/auth/iframe",CG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PG(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OS(e,kG):`https://${t.config.authDomain}/${AG}`,r={apiKey:e.apiKey,appName:t.name,v:ri},i=RG.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ts(r).slice(1)}`}async function xG(t){const e=await bG(t),n=Fs().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:PG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vs(t,"network-request-failed"),a=Fs().setTimeout(()=>{s(o)},SG.get());function l(){Fs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OG=500,DG=600,LG="_blank",MG="http://localhost";let VR=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function VG(t,e,n,r=OG,i=DG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},NG),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ye().toLowerCase();n&&(a=lV(u)?LG:n),aV(u)&&(e=e||MG,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[_,S])=>`${p}${_}=${S},`,"");if(tH(u)&&a!=="_self")return FG(e||"",a),new VR(null);const f=window.open(e||"",a,h);Ne(f,t,"popup-blocked");try{f.focus()}catch{}return new VR(f)}function FG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG="__/auth/handler",UG="emulator/auth/handler",$G=encodeURIComponent("fac");async function FR(t,e,n,r,i,s){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ri,eventId:i};if(e instanceof _V){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Cm){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${$G}=${encodeURIComponent(l)}`:"";return`${zG(t)}?${ts(a).slice(1)}${u}`}function zG({config:t}){return t.emulator?OS(t,UG):`https://${t.authDomain}/${jG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="webStorageSupport";let BG=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xV,this._completeRedirectFn=fG,this._overrideRedirectResult=cG}async _openPopup(e,n,r,i){var s;Co((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await FR(e,n,r,SI(),i);return VG(e,o,VS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await FR(e,n,r,SI(),i);return WH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Co(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xG(e),r=new mG(e);return n.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(AE,{type:AE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[AE];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fV()||LS()||U_()}};const qG=BG;var jR="@firebase/auth",UR="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WG=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GG(t){js(new Ai("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pV(t)},u=new lH(r,i,s,l);return yH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),js(new Ai("auth-internal",e=>{const n=Zu(e.getProvider("auth").getImmediate());return(r=>new WG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(jR,UR,HG(t)),Br(jR,UR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG=5*60,QG=bb("authIdTokenMaxAge")||KG;let $R=null;const YG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QG)return;const i=n==null?void 0:n.token;$R!==i&&($R=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XG(t=xb()){const e=dm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gH(t,{popupRedirectResolver:qG,persistence:[eG,zH,xV]}),r=bb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=YG(s.toString());VH(n,o,()=>o(n.currentUser)),MH(n,a=>o(a))}}const i=fD("auth");return i&&vH(n,`http://${i}`),n}function JG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GG("Browser");const ZG={apiKey:"AIzaSyDW5ZI06XcTE9AwhEa1vaqCyN6o4VKXXxU",authDomain:"authentication-8af3b.firebaseapp.com",projectId:"authentication-8af3b",storageBucket:"authentication-8af3b",messagingSenderId:"669984513257",appId:"1:669984513257:web:277439a01610dc92152478"},UV=g_(ZG),Pm=XG(UV),Dt=J9(UV);var zR=function(t,e,n){if(t&&"reportValidity"in t){var r=ye(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},$V=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?zR(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return zR(o,i,t)})};for(var r in e.fields)n(r)},eK=function(t){return t instanceof Date},tK=function(t){return t==null},nK=function(t){return typeof t=="object"},rK=function(t){return!tK(t)&&!Array.isArray(t)&&nK(t)&&!eK(t)},iK=function(t){return/^\w*$/.test(t)},kE=function(t,e,n){for(var r=-1,i=iK(e)?[e]:function(h){return f=h.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(f)?f.filter(Boolean):[];var f}(e),s=i.length,o=s-1;++r<s;){var a=i[r],l=n;if(r!==o){var u=t[a];l=rK(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},sK=function(t,e){e.shouldUseNativeValidation&&$V(t,e);var n={};for(var r in t){var i=ye(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(oK(e.names||Object.keys(t),r)){var o=Object.assign({},ye(n,r));kE(o,"root",s),kE(n,r,o)}else kE(n,r,s)}return n},oK=function(t,e){return t.some(function(n){return n.startsWith(e+".")})};function zV(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=(e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:i}))).then(function(u){return s.shouldUseNativeValidation&&$V({},s),{values:n.raw?r:u,errors:{}}}))}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:sK((a=o,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(u,h){if(u[h.path]||(u[h.path]={message:h.message,type:h.type}),l){var f=u[h.path].types,p=f&&f[h.type];u[h.path]=rD(h.path,l,u,h.type,p?[].concat(p,h.message):h.message)}return u},{})),s)};var a,l}))}catch(o){return Promise.reject(o)}}}function ec(t){this._maxSize=t,this.clear()}ec.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ec.prototype.get=function(t){return this._values[t]};ec.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var aK=/[^.^\]^[]+|(?=\[\]|\.\.)/g,BV=/^\d+$/,lK=/^\d/,uK=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,cK=/^\s*(['"]?)(.*?)(\1)\s*$/,jS=512,BR=new ec(jS),qR=new ec(jS),WR=new ec(jS),vu={Cache:ec,split:DI,normalizePath:CE,setter:function(t){var e=CE(t);return qR.get(t)||qR.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=CE(t);return WR.get(t)||WR.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(US(n)||BV.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){dK(Array.isArray(t)?t:DI(t),e,n)}};function CE(t){return BR.get(t)||BR.set(t,DI(t).map(function(e){return e.replace(cK,"$2")}))}function DI(t){return t.match(aK)||[""]}function dK(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(pK(i)&&(i='"'+i+'"'),a=US(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function US(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function hK(t){return t.match(lK)&&!t.match(BV)}function fK(t){return uK.test(t)}function pK(t){return!US(t)&&(hK(t)||fK(t))}const mK=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,H_=t=>t.match(mK)||[],G_=t=>t[0].toUpperCase()+t.slice(1),$S=(t,e)=>H_(t).join(e).toLowerCase(),qV=t=>H_(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),gK=t=>G_(qV(t)),yK=t=>$S(t,"_"),vK=t=>$S(t,"-"),_K=t=>G_($S(t," ")),wK=t=>H_(t).map(G_).join(" ");var RE={words:H_,upperFirst:G_,camelCase:qV,pascalCase:gK,snakeCase:yK,kebabCase:vK,sentenceCase:_K,titleCase:wK},zS={exports:{}};zS.exports=function(t){return WV(EK(t),t)};zS.exports.array=WV;function WV(t,e){var n=t.length,r=new Array(n),i={},s=n,o=IK(e),a=TK(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,h,f){if(f.has(u)){var p;try{p=", node was:"+JSON.stringify(u)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[h]){i[h]=!0;var _=o.get(u)||new Set;if(_=Array.from(_),h=_.length){f.add(u);do{var S=_[--h];l(S,a.get(S),f)}while(h);f.delete(u)}r[--n]=u}}}function EK(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function IK(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function TK(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var bK=zS.exports;const SK=tm(bK),AK=Object.prototype.toString,kK=Error.prototype.toString,CK=RegExp.prototype.toString,RK=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",PK=/^Symbol\((.*)\)(.*)$/;function xK(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function HR(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return xK(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return RK.call(t).replace(PK,"Symbol($1)");const r=AK.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+kK.call(t)+"]":r==="RegExp"?CK.call(t):null}function Ba(t,e){let n=HR(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=HR(this[r],e);return s!==null?s:i},2)}function HV(t){return t==null?[]:[].concat(t)}let GV,KV,QV,NK=/\$\{\s*(\w+)\s*\}/g;GV=Symbol.toStringTag;class GR{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[GV]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],HV(e).forEach(s=>{if(Dr.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}KV=Symbol.hasInstance;QV=Symbol.toStringTag;class Dr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(NK,(i,s)=>Ba(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new GR(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[QV]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Dr)}static[KV](e){return GR[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let gs={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Ba(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ba(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Ba(n,!0)}\``+i}},Cr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},OK={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},LI={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},DK={isValue:"${path} field must be ${value}"},MI={noUnknown:"${path} field has unspecified keys: ${unknown}"},LK={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},MK={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Ba(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Ba(n,!0)}\``}return Dr.formatError(gs.notType,t)}};Object.assign(Object.create(null),{mixed:gs,string:Cr,number:OK,date:LI,object:MI,array:LK,boolean:DK,tuple:MK});const BS=t=>t&&t.__isYupSchema__;class Lv{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Lv(e,(a,l)=>{var u;let h=o(...a)?i:s;return(u=h==null?void 0:h(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!BS(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Bg={context:"$",value:"."};class tc{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Bg.context,this.isValue=this.key[0]===Bg.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Bg.context:this.isValue?Bg.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&vu.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}tc.prototype.__isYupRef=!0;const nu=t=>t==null;function Rc(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:h,params:f,message:p,skipAbsent:_}=t;let{parent:S,context:P,abortEarly:R=o.spec.abortEarly,disableStackTrace:I=o.spec.disableStackTrace}=i;function w(M){return tc.isRef(M)?M.getValue(n,S,P):M}function T(M={}){const V=Object.assign({value:n,originalValue:s,label:o.spec.label,path:M.path||r,spec:o.spec,disableStackTrace:M.disableStackTrace||I},f,M.params);for(const pe of Object.keys(V))V[pe]=w(V[pe]);const O=new Dr(Dr.formatError(M.message||p,V),n,V.path,M.type||u,V.disableStackTrace);return O.params=V,O}const L=R?a:l;let F={path:r,parent:S,type:u,from:i.from,createError:T,resolve:w,options:i,originalValue:s,schema:o};const B=M=>{Dr.isError(M)?L(M):M?l(null):L(T())},C=M=>{Dr.isError(M)?L(M):a(M)};if(_&&nu(n))return B(!0);let x;try{var D;if(x=h.call(F,n,F),typeof((D=x)==null?void 0:D.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${F.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(x).then(B,C)}}catch(M){C(M);return}B(x)}return e.OPTIONS=t,e}function VK(t,e,n,r=n){let i,s,o;return e?(vu.forEach(e,(a,l,u)=>{let h=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let f=t.type==="tuple",p=u?parseInt(h,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[p],t=f?t.spec.types[p]:t.innerType}if(!u){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[h],t=t.fields[h]}s=h,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Mv extends Set{describe(){const e=[];for(const n of this.values())e.push(tc.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Mv(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function td(t,e=new Map){if(BS(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=td(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,td(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(td(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=td(i,e)}else throw Error(`Unable to clone ${t}`);return n}class zs{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Mv,this._blacklist=new Mv,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(gs.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=td(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&nu(s))return s;let o=Ba(e),a=Ba(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let h of Object.values(this.internalTests))h&&u.push(h);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,h=>{if(h.length)return i(h,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,h=P=>{i||(i=!0,n(P,o))},f=P=>{i||(i=!0,r(P,o))},p=s.length,_=[];if(!p)return f([]);let S={value:o,originalValue:a,path:l,options:u,schema:this};for(let P=0;P<s.length;P++){const R=s[P];R(S,h,function(w){w&&(Array.isArray(w)?_.push(...w):_.push(w)),--p<=0&&f(_)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const h=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(f,p,_)=>this.resolve(h)._validate(u,h,p,_)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{Dr.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Dr(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Dr.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Dr(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Dr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Dr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):td(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Rc({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Rc({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=gs.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=gs.notNull){return this.nullability(!1,e)}required(e=gs.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=gs.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Rc(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=HV(e).map(s=>new tc(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Lv(i,n):Lv.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Rc({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=gs.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Rc({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=gs.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Rc({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,h)=>h.findIndex(f=>f.name===l.name)===u)}}}zs.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])zs.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=VK(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])zs.prototype[t]=zs.prototype.oneOf;for(const t of["not","nope"])zs.prototype[t]=zs.prototype.notOneOf;const FK=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function jK(t){const e=VI(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function VI(t){var e,n;const r=FK.exec(t);return r?{year:ro(r[1]),month:ro(r[2],1)-1,day:ro(r[3],1),hour:ro(r[4]),minute:ro(r[5]),second:ro(r[6]),millisecond:r[7]?ro(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ro(r[10]),minuteOffset:ro(r[11])}:null}function ro(t,e=0){return Number(t)||e}let UK=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$K=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,zK=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,BK="^\\d{4}-\\d{2}-\\d{2}",qK="\\d{2}:\\d{2}:\\d{2}",WK="(([+-]\\d{2}(:?\\d{2})?)|Z)",HK=new RegExp(`${BK}T${qK}(\\.\\d+)?${WK}$`),GK=t=>nu(t)||t===t.trim(),KK={}.toString();function Vp(){return new YV}class YV extends zs{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===KK?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||gs.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Cr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Cr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Cr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Cr.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Cr.email){return this.matches(UK,{name:"email",message:e,excludeEmptyString:!0})}url(e=Cr.url){return this.matches($K,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Cr.uuid){return this.matches(zK,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(HK,{name:"datetime",message:n||Cr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Cr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=VI(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Cr.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=VI(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Cr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:GK})}lowercase(e=Cr.lowercase){return this.transform(n=>nu(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>nu(n)||n===n.toLowerCase()})}uppercase(e=Cr.uppercase){return this.transform(n=>nu(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>nu(n)||n===n.toUpperCase()})}}Vp.prototype=YV.prototype;let QK=new Date(""),YK=t=>Object.prototype.toString.call(t)==="[object Date]";class K_ extends zs{constructor(){super({type:"date",check(e){return YK(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=jK(e),isNaN(e)?K_.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(tc.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=LI.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=LI.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}K_.INVALID_DATE=QK;K_.prototype;function XK(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=vu.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),tc.isRef(a)&&a.isSibling?s(a.path,o):BS(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return SK.array(Array.from(r),n).reverse()}function KR(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function XV(t){return(e,n)=>KR(t,e)-KR(t,n)}const JK=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Py(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Py(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Py(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Py)}):"optional"in t?t.optional():t}const ZK=(t,e)=>{const n=[...vu.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=vu.getter(vu.join(n),!0)(t);return!!(i&&r in i)};let QR=t=>Object.prototype.toString.call(t)==="[object Object]";function e8(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const t8=XV([]);function qS(t){return new JV(t)}class JV extends zs{constructor(e){super({type:"object",check(n){return QR(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=t8,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(f=>!this._nodes.includes(f))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),h=!1;for(const f of a){let p=s[f],_=f in i;if(p){let S,P=i[f];u.path=(n.path?`${n.path}.`:"")+f,p=p.resolve({value:P,context:n.context,parent:l});let R=p instanceof zs?p.spec:void 0,I=R==null?void 0:R.strict;if(R!=null&&R.strip){h=h||f in i;continue}S=!n.__validating||!I?p.cast(i[f],u):i[f],S!==void 0&&(l[f]=S)}else _&&!o&&(l[f]=i[f]);(_!==f in l||l[f]!==i[f])&&(h=!0)}return h?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!QR(u)){i(l,u);return}o=o||u;let h=[];for(let f of this._nodes){let p=this.fields[f];!p||tc.isRef(p)||h.push(p.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:h,value:u,originalValue:o,options:n},r,f=>{i(f.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=XK(e,n),r._sortErrors=XV(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Py(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=vu.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return ZK(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(JK)}noUnknown(e=!0,n=MI.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=e8(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=MI.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(RE.camelCase)}snakeCase(){return this.transformKeys(RE.snakeCase)}constantCase(){return this.transformKeys(e=>RE.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}qS.prototype=JV.prototype;const n8=async({email:t,password:e})=>(await LH(Pm,t,e)).user,r8=qS({email:Vp().email("This must be a valid email").required("Email is required"),password:Vp().required("Password is required").min(6,"Password must be at least 6 characters").matches(/^(?=.*[A-Z])/,"Password must contain atleast one capital letter")}).required(),i8=()=>{const t=Hu(),{register:e,handleSubmit:n,formState:{errors:r}}=cD({resolver:zV(r8)}),i=$f({mutationFn:n8,onSuccess:()=>{alert("Login Successfully"),t("/")},onError:o=>{console.error("Error logging in:",o),alert("Invalid credentials. Please try again.")}}),s=N.useCallback(o=>{i.mutate(o)},[i]);return v.jsx("div",{className:"container",children:v.jsx("div",{className:"row justify-content-center",children:v.jsx("div",{className:"col-md-6",children:v.jsxs("form",{className:"mt-5 p-4 border rounded shadow",onSubmit:n(s),children:[v.jsx("h2",{className:"mb-4 text-center",children:"Login"}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",className:"form-control",id:"email",...e("email"),required:!0}),r.email&&v.jsx("span",{className:"field-level-error form-text text-danger",children:r.email.message})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),v.jsx("input",{type:"password",className:"form-control",id:"password",...e("password"),required:!0}),r.password&&v.jsx("span",{className:"field-level-error form-text text-danger",children:r.password.message})]}),v.jsx("div",{className:"mb-3",children:v.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})}),v.jsxs("p",{className:"text-center",children:["Don't have an account? ",v.jsx(ms,{to:"/register",children:"Register"})]})]})})})})},s8=async({email:t,password:e})=>(await DH(Pm,t,e)).user,o8=qS({email:Vp().email("This must be a valid email").required("Email is required"),password:Vp().required("Password is required").min(6,"Password must be at least 6 characters").matches(/^(?=.*[A-Z])/,"Password must contain at least one capital letter")}).required(),a8=()=>{const t=Hu(),{register:e,handleSubmit:n,formState:{errors:r}}=cD({resolver:zV(o8)}),i=$f({mutationFn:s8,onSuccess:N.useCallback(()=>{alert("Account Created Successfully. Please log in."),t("/login")},[t]),onError:N.useCallback(o=>{o.code===MW.EMAIL_EXISTS?alert("This email is already in use. Please use another email."):(console.error("Error registering:",o),alert("Failed to create account. Please try again."))},[])}),s=N.useCallback(o=>{i.mutate(o)},[i]);return v.jsx("div",{className:"container",children:v.jsx("div",{className:"row justify-content-center",children:v.jsx("div",{className:"col-md-6",children:v.jsxs("form",{className:"mt-5 p-4 border rounded shadow",onSubmit:n(s),children:[v.jsx("h2",{className:"mb-4 text-center",children:"Register"}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",className:"form-control",id:"email",...e("email"),required:!0}),r.email&&v.jsx("span",{className:"field-level-error form-text text-danger",children:r.email.message})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),v.jsx("input",{type:"password",className:"form-control",id:"password",...e("password"),required:!0}),r.password&&v.jsx("span",{className:"field-level-error form-text text-danger",children:r.password.message})]}),v.jsx("div",{className:"mb-3",children:v.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Register"})}),v.jsxs("p",{className:"text-center",children:["Already have an account? ",v.jsx(ms,{to:"/login",children:"Login"})]})]})})})})},l8="/Collaborative_study_platform.github.in/assets/quiz-B9qjgF-j.png",u8="/Collaborative_study_platform.github.in/assets/l1-DZPQW57f.png",YR="/Collaborative_study_platform.github.in/assets/profile1-DUSu2NMF.png",ZV=N.createContext(void 0),c8=({children:t})=>{const[e,n]=N.useState(!1),r=()=>{n(i=>!i)};return N.useEffect(()=>{e?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[e]),v.jsx(ZV.Provider,{value:{isDarkMode:e,toggleTheme:r},children:t})},Fo=()=>{const t=N.useContext(ZV);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Ih=({user:t,userDetails:e,showUserDetails:n})=>{const r=Hu(),[i,s]=N.useState(!1),{isDarkMode:o,toggleTheme:a}=Fo(),l=async()=>{try{await FH(Pm),alert("User logged out successfully"),r("/login")}catch(f){console.error("Error logging out: ",f)}},u=N.useCallback(()=>{s(f=>!f)},[]),h=N.useMemo(()=>i&&n&&e?v.jsxs("div",{className:"user-details-dropdown",children:[v.jsxs("p",{children:["Name: ",e.name]}),v.jsxs("p",{children:["Age: ",e.age]}),v.jsxs("p",{children:["Role: ",e.role]}),v.jsx("button",{id:"btn1",onClick:l,children:"Logout"})]}):null,[i,n,e,l]);return v.jsx("nav",{className:`navbar navbar-expand-lg ${o?"navbar-dark bg-dark":"navbar-light bg-light"}`,children:v.jsxs("div",{className:"container-fluid",children:[v.jsx(ms,{className:"navbar-brand",to:"/",children:v.jsx("img",{id:"img1",src:u8,alt:"Logo"})}),v.jsxs("div",{className:"d-flex align-items-center d-lg-none",children:[v.jsx("button",{className:"btn btn-secondary me-2",onClick:a,children:o?"Light Mode":"Dark Mode"}),t&&v.jsxs("div",{className:"user-info",children:[v.jsx("img",{id:"img2",src:YR,alt:"Profile",onClick:u}),h]}),v.jsx("button",{className:"navbar-toggler ms-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:v.jsx("span",{className:"navbar-toggler-icon"})})]}),v.jsxs("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[v.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[v.jsx("li",{className:"nav-item",children:v.jsx(ms,{className:"nav-link",to:"/",children:"Home"})}),(e==null?void 0:e.role)==="teacher"&&v.jsx("li",{className:"nav-item",children:v.jsx(ms,{className:"nav-link",to:"/quizzes",children:"Add Quizzes"})}),(e==null?void 0:e.role)==="student"&&v.jsx("li",{className:"nav-item",children:v.jsx(ms,{className:"nav-link",to:"/attempt-quizzes",children:"Attempt Quizzes"})}),(e==null?void 0:e.role)==="teacher"&&v.jsx("li",{className:"nav-item",children:v.jsx(ms,{className:"nav-link",to:"/teacher",children:"Teacher"})}),(e==null?void 0:e.role)==="student"&&v.jsx("li",{className:"nav-item",children:v.jsx(ms,{className:"nav-link",to:"/student",children:"Student"})}),(e==null?void 0:e.role)==="student"&&v.jsx("li",{className:"nav-item",children:v.jsx(ms,{className:"nav-link",to:"/my-profile",children:"My Profile"})})]}),v.jsxs("div",{className:"d-flex align-items-center",children:[v.jsx("button",{className:"btn btn-secondary me-2 d-none d-lg-block",onClick:a,children:o?"Light Mode":"Dark Mode"}),t&&v.jsxs("div",{className:"user-info d-none d-lg-flex",children:[v.jsx("img",{id:"img2",src:YR,alt:"Profile",onClick:u}),h]})]})]})]})})},d8=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(null),[i,s]=N.useState(!1);N.useState("");const[o,a]=N.useState([]),[l]=N.useState([]),[u,h]=N.useState(!0),{isDarkMode:f}=Fo(),p=Hu();N.useEffect(()=>{const R=kV(Pm,async I=>{if(I){console.log("User logged in:",I),e(I);const w=In(Dt,"users",I.uid),T=await ho(w);if(!T.exists())console.log("User document does not exist. Prompting for details."),s(!0);else{const L=T.data();r(L),s(!1)}h(!1)}else console.log("No user logged in. Redirecting to login."),e(null),h(!1),p("/login")});return()=>R()},[p]),N.useEffect(()=>{(async()=>{try{if(t){const I=In(Dt,"users",t.uid),w=await ho(I);if(w.exists()){const L=w.data().savedMaterials||[];a(L)}}}catch(I){console.error("Error fetching saved materials:",I)}})()},[t]);const _=async R=>{R.preventDefault();const{name:I,age:w,role:T}=R.currentTarget.elements;try{if(!t)throw new Error("User is not logged in");const L={name:I.value,age:parseInt(w.value),role:T.value,savedMaterials:[]};await Qf(In(Dt,"users",t.uid),L),console.log("User details saved successfully."),r(L),s(!1),T.value==="student"?p("/student"):T.value==="teacher"&&p("/teacher")}catch(L){console.error("Error saving user details:",L)}},S=async R=>{try{if(!t)throw new Error("User is not logged in");const I=In(Dt,"users",t.uid),w=await ho(I);if(w.exists()){const L=[...w.data().savedMaterials,R];await Qf(I,{savedMaterials:L},{merge:!0}),a(L)}}catch(I){console.error("Error saving material:",I)}},P=async R=>{try{if(!t)throw new Error("User is not logged in");const I=In(Dt,"users",t.uid),w=await ho(I);if(w.exists()){const L=w.data().savedMaterials.filter(F=>F!==R);await Qf(I,{savedMaterials:L},{merge:!0}),a(L)}}catch(I){console.error("Error removing saved material:",I)}};return u?v.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:v.jsx("div",{className:"spinner-border text-primary",role:"status",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):v.jsxs("div",{children:[v.jsx(Ih,{user:t,userDetails:n,showUserDetails:!0}),i?v.jsx("div",{className:"container mt-5 d-flex justify-content-center",children:v.jsxs("form",{onSubmit:_,className:"w-50",children:[v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"name",className:"form-label",children:"Name:"}),v.jsx("input",{type:"text",id:"name",name:"name",className:"form-control",required:!0})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{htmlFor:"age",className:"form-label",children:"Age:"}),v.jsx("input",{type:"number",id:"age",name:"age",className:"form-control",required:!0})]}),v.jsxs("div",{className:"mb-3",children:[v.jsx("label",{className:"form-label",children:"Role:"}),v.jsxs("div",{children:[v.jsxs("div",{className:"form-check",children:[v.jsx("input",{type:"radio",id:"student",name:"role",value:"student",className:"form-check-input",required:!0}),v.jsx("label",{htmlFor:"student",className:"form-check-label",children:"Student"})]}),v.jsxs("div",{className:"form-check",children:[v.jsx("input",{type:"radio",id:"teacher",name:"role",value:"teacher",className:"form-check-input",required:!0}),v.jsx("label",{htmlFor:"teacher",className:"form-check-label",children:"Teacher"})]})]})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})}):v.jsxs("div",{className:`container mt-5 ${f?"text-light":"text-dark"}`,children:[v.jsxs("div",{className:"text-center mb-5",children:[v.jsx("h1",{children:"Welcome to the Collaborative Study Platform"}),v.jsx("p",{children:"Your one-stop destination for creating and sharing study materials,create quizzes,attempt quizzes and more."})]}),v.jsx("div",{className:"row justify-content-center",children:v.jsx("div",{className:"col-md-4 mb-4",children:v.jsxs("div",{className:`card ${f?"bg-dark text-light":"bg-light text-dark"}`,children:[v.jsx("img",{src:l8,alt:"Quizzes",className:"card-img-top"}),v.jsx("br",{}),v.jsxs("div",{className:"card-body",children:[v.jsx("h5",{className:"card-title",children:"Quizzes"}),v.jsx("p",{className:"card-text",children:"Test your knowledge with quizzes created by other users."}),v.jsx(ms,{to:"/attempt-quizzes",className:"btn btn-primary",children:"Go to Quizzes"})]})]})})}),l.length>0&&v.jsx("div",{className:"row justify-content-center mt-5",children:v.jsxs("div",{className:"col-md-8",children:[v.jsx("h3",{children:"Search Results"}),v.jsx("ul",{className:"list-group",children:l.map(R=>v.jsxs("li",{className:`list-group-item ${f?"bg-dark text-light":"bg-light text-dark"}`,children:[R.title,o.includes(R.id)?v.jsx("button",{className:"btn btn-danger",onClick:()=>P(R.id),children:"Remove"}):v.jsx("button",{className:"btn btn-primary",onClick:()=>S(R.id),children:"Save"})]},R.id))})]})})]})]})},eF=N.createContext(void 0),tF=()=>{const t=N.useContext(eF);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},h8=({children:t})=>{const[e,n]=N.useState(null),[r,i]=N.useState(null),[s,o]=N.useState(!0);return N.useEffect(()=>kV(Pm,async l=>{if(n(l),l){const u=await ho(In(Dt,"users",l.uid));u.exists()&&i(u.data())}else i(null);o(!1)}),[]),v.jsxs(eF.Provider,{value:{currentUser:e,userDetails:r,initializing:s},children:[!s&&t," "]})};var nF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(nF);var f8=nF.exports;const rt=tm(f8);function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FI.apply(null,arguments)}function rF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XR(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function p8(t){var e=m8(t,"string");return typeof e=="symbol"?e:String(e)}function m8(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g8(t,e,n){var r=N.useRef(t!==void 0),i=N.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,N.useCallback(function(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];n&&n.apply(void 0,[u].concat(f)),o(u)},[n])]}function iF(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[XR(r)],a=s[r],l=rF(s,[XR(r),r].map(p8)),u=e[r],h=g8(a,o,t[u]),f=h[0],p=h[1];return FI({},l,(i={},i[r]=f,i[u]=p,i))},t)}function jI(t,e){return jI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jI(t,e)}function y8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,jI(t,e)}const v8=["xxl","xl","lg","md","sm","xs"],_8="xs",Q_=N.createContext({prefixes:{},breakpoints:v8,minBreakpoint:_8});function bt(t,e){const{prefixes:n}=N.useContext(Q_);return t||n[e]||e}function sF(){const{breakpoints:t}=N.useContext(Q_);return t}function oF(){const{minBreakpoint:t}=N.useContext(Q_);return t}function w8(){const{dir:t}=N.useContext(Q_);return t==="rtl"}function Y_(t){return t&&t.ownerDocument||document}function E8(t){var e=Y_(t);return e&&e.defaultView||window}function I8(t,e){return E8(t).getComputedStyle(t,e)}var T8=/([A-Z])/g;function b8(t){return t.replace(T8,"-$1").toLowerCase()}var S8=/^ms-/;function qg(t){return b8(t).replace(S8,"-ms-")}var A8=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function k8(t){return!!(t&&A8.test(t))}function _u(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(qg(e))||I8(t).getPropertyValue(qg(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(qg(i)):k8(i)?r+=i+"("+s+") ":n+=qg(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var aF={exports:{}},C8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",R8=C8,P8=R8;function lF(){}function uF(){}uF.resetWarningCache=lF;var x8=function(){function t(r,i,s,o,a,l){if(l!==P8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:uF,resetWarningCache:lF};return n.PropTypes=n,n};aF.exports=x8();var N8=aF.exports;const Le=tm(N8),JR={disabled:!1},cF=ht.createContext(null);var O8=function(e){return e.scrollTop},Rf="unmounted",zl="exited",ha="entering",Kl="entered",UI="exiting",jo=function(t){y8(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=zl,s.appearStatus=ha):l=Kl:r.unmountOnExit||r.mountOnEnter?l=Rf:l=zl,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Rf?{status:zl}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ha&&o!==Kl&&(s=ha):(o===ha||o===Kl)&&(s=UI)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ha){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Zl.findDOMNode(this);o&&O8(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zl&&this.setState({status:Rf})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Zl.findDOMNode(this),a],u=l[0],h=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||JR.disabled){this.safeSetState({status:Kl},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:ha},function(){s.props.onEntering(u,h),s.onTransitionEnd(p,function(){s.safeSetState({status:Kl},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Zl.findDOMNode(this);if(!s||JR.disabled){this.safeSetState({status:zl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:UI},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:zl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Zl.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Rf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=rF(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ht.createElement(cF.Provider,{value:null},typeof o=="function"?o(i,a):ht.cloneElement(ht.Children.only(o),a))},e}(ht.Component);jo.contextType=cF;jo.propTypes={};function Pc(){}jo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pc,onEntering:Pc,onEntered:Pc,onExit:Pc,onExiting:Pc,onExited:Pc};jo.UNMOUNTED=Rf;jo.EXITED=zl;jo.ENTERING=ha;jo.ENTERED=Kl;jo.EXITING=UI;const Th=!!(typeof window<"u"&&window.document&&window.document.createElement);var $I=!1,zI=!1;try{var PE={get passive(){return $I=!0},get once(){return zI=$I=!0}};Th&&(window.addEventListener("test",PE,PE),window.removeEventListener("test",PE,!0))}catch{}function dF(t,e,n,r){if(r&&typeof r!="boolean"&&!zI){var i=r.once,s=r.capture,o=n;!zI&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,$I?r:s)}t.addEventListener(e,n,r)}function BI(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Vv(t,e,n,r){return dF(t,e,n,r),function(){BI(t,e,n,r)}}function D8(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function L8(t){var e=_u(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function M8(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||D8(t,"transitionend",!0)},e+n),s=Vv(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function hF(t,e,n,r){n==null&&(n=L8(t)||0);var i=M8(t,n,r),s=Vv(t,"transitionend",e);return function(){i(),s()}}function ZR(t,e){const n=_u(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function V8(t,e){const n=ZR(t,"transitionDuration"),r=ZR(t,"transitionDelay"),i=hF(t,s=>{s.target===t&&(i(),e(s))},n+r)}function F8(t){t.offsetHeight}const eP=t=>!t||typeof t=="function"?t:e=>{t.current=e};function j8(t,e){const n=eP(t),r=eP(e);return i=>{n&&n(i),r&&r(i)}}function bh(t,e){return N.useMemo(()=>j8(t,e),[t,e])}function U8(t){return t&&"setState"in t?Zl.findDOMNode(t):t??null}const $8=ht.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...u},h)=>{const f=N.useRef(null),p=bh(f,l),_=B=>{p(U8(B))},S=B=>C=>{B&&f.current&&B(f.current,C)},P=N.useCallback(S(t),[t]),R=N.useCallback(S(e),[e]),I=N.useCallback(S(n),[n]),w=N.useCallback(S(r),[r]),T=N.useCallback(S(i),[i]),L=N.useCallback(S(s),[s]),F=N.useCallback(S(o),[o]);return v.jsx(jo,{ref:h,...u,onEnter:P,onEntered:I,onEntering:R,onExit:w,onExited:L,onExiting:T,addEndListener:F,nodeRef:f,children:typeof a=="function"?(B,C)=>a(B,{...C,ref:_}):ht.cloneElement(a,{ref:_})})});function z8(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t},[t]),e}function Lr(t){const e=z8(t);return N.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const fF=t=>N.forwardRef((e,n)=>v.jsx("div",{...e,ref:n,className:rt(e.className,t)})),pF=fF("h4");pF.displayName="DivStyledAsH4";const mF=N.forwardRef(({className:t,bsPrefix:e,as:n=pF,...r},i)=>(e=bt(e,"alert-heading"),v.jsx(n,{ref:i,className:rt(t,e),...r})));mF.displayName="AlertHeading";function B8(){return N.useState(null)}function q8(){const t=N.useRef(!0),e=N.useRef(()=>t.current);return N.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function W8(t){const e=N.useRef(null);return N.useEffect(()=>{e.current=t}),e.current}const H8=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",G8=typeof document<"u",tP=G8||H8?N.useLayoutEffect:N.useEffect,K8=["as","disabled"];function Q8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y8(t){return!t||t.trim()==="#"}function WS({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const h=p=>{if((e||t==="a"&&Y8(n))&&p.preventDefault(),e){p.stopPropagation();return}o==null||o(p)},f=p=>{p.key===" "&&(p.preventDefault(),h(p))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:h,onKeyDown:f},u]}const gF=N.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=Q8(t,K8);const[s,{tagName:o}]=WS(Object.assign({tagName:n,disabled:r},i));return v.jsx(o,Object.assign({},i,s,{ref:e}))});gF.displayName="Button";const X8=["onKeyDown"];function J8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Z8(t){return!t||t.trim()==="#"}const yF=N.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=J8(t,X8);const[i]=WS(Object.assign({tagName:"a"},r)),s=Lr(o=>{i.onKeyDown(o),n==null||n(o)});return Z8(r.href)||r.role==="button"?v.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):v.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});yF.displayName="Anchor";const vF=N.forwardRef(({className:t,bsPrefix:e,as:n=yF,...r},i)=>(e=bt(e,"alert-link"),v.jsx(n,{ref:i,className:rt(t,e),...r})));vF.displayName="AlertLink";const e7={[ha]:"show",[Kl]:"show"},Fp=N.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=N.useCallback((l,u)=>{F8(l),r==null||r(l,u)},[r]);return v.jsx($8,{ref:s,addEndListener:V8,...o,onEnter:a,childRef:e.ref,children:(l,u)=>N.cloneElement(e,{...u,className:rt("fade",t,e.props.className,e7[l],n[l])})})});Fp.displayName="Fade";const t7={"aria-label":Le.string,onClick:Le.func,variant:Le.oneOf(["white"])},X_=N.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>v.jsx("button",{ref:i,type:"button",className:rt("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));X_.displayName="CloseButton";X_.propTypes=t7;const _F=N.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:u,dismissible:h,transition:f=Fp,...p}=iF(t,{show:"onClose"}),_=bt(n,"alert"),S=Lr(I=>{u&&u(!1,I)}),P=f===!0?Fp:f,R=v.jsxs("div",{role:"alert",...P?void 0:p,ref:e,className:rt(o,_,l&&`${_}-${l}`,h&&`${_}-dismissible`),children:[h&&v.jsx(X_,{onClick:S,"aria-label":i,variant:s}),a]});return P?v.jsx(P,{unmountOnExit:!0,...p,ref:void 0,in:r,children:R}):r?R:null});_F.displayName="Alert";const ru=Object.assign(_F,{Link:vF,Heading:mF}),Bt=N.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const u=bt(e,"btn"),[h,{tagName:f}]=WS({tagName:t,disabled:s,...a}),p=f;return v.jsx(p,{...h,...a,ref:l,disabled:s,className:rt(o,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&s&&"disabled")})});Bt.displayName="Button";function n7(t){const e=N.useRef(t);return e.current=t,e}function wF(t){const e=n7(t);N.useEffect(()=>()=>e.current(),[])}function r7(t,e){return N.Children.toArray(t).some(n=>N.isValidElement(n)&&n.type===e)}function i7({as:t,bsPrefix:e,className:n,...r}){e=bt(e,"col");const i=sF(),s=oF(),o=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let h,f,p;typeof u=="object"&&u!=null?{span:h,offset:f,order:p}=u:h=u;const _=l!==s?`-${l}`:"";h&&o.push(h===!0?`${e}${_}`:`${e}${_}-${h}`),p!=null&&a.push(`order${_}-${p}`),f!=null&&a.push(`offset${_}-${f}`)}),[{...r,className:rt(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const J_=N.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=i7(t);return v.jsx(i,{...r,ref:e,className:rt(n,!o.length&&s)})});J_.displayName="Col";const Vu=N.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=bt(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return v.jsx(n,{ref:s,...i,className:rt(r,e?`${o}${a}`:o)})});Vu.displayName="Container";var s7=Function.prototype.bind.call(Function.prototype.call,[].slice);function Bl(t,e){return s7(t.querySelectorAll(e))}function o7(){const[,t]=N.useReducer(e=>!e,!1);return t}function nP(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const qI=N.createContext(null),HS=(t,e=null)=>t!=null?String(t):e||null,GS=N.createContext(null);GS.displayName="NavContext";const a7="data-rr-ui-",l7="rrUi";function Z_(t){return`${a7}${t}`}function u7(t){return`${l7}${t}`}const EF=N.createContext(Th?window:void 0);EF.Provider;function KS(){return N.useContext(EF)}const c7={type:Le.string,tooltip:Le.bool,as:Le.elementType},ew=N.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>v.jsx(t,{...i,ref:s,className:rt(e,`${n}-${r?"tooltip":"feedback"}`)}));ew.displayName="Feedback";ew.propTypes=c7;const Ro=N.createContext({}),QS=N.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:u}=N.useContext(Ro);return e=bt(e,"form-check-input"),v.jsx(o,{...a,ref:l,type:r,id:t||u,className:rt(n,e,i&&"is-valid",s&&"is-invalid")})});QS.displayName="FormCheckInput";const Fv=N.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=N.useContext(Ro);return t=bt(t,"form-check-label"),v.jsx("label",{...r,ref:i,htmlFor:n||s,className:rt(e,t)})});Fv.displayName="FormCheckLabel";const IF=N.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:h,className:f,style:p,title:_="",type:S="checkbox",label:P,children:R,as:I="input",...w},T)=>{e=bt(e,"form-check"),n=bt(n,"form-switch");const{controlId:L}=N.useContext(Ro),F=N.useMemo(()=>({controlId:t||L}),[L,t]),B=!R&&P!=null&&P!==!1||r7(R,Fv),C=v.jsx(QS,{...w,type:S==="switch"?"checkbox":S,ref:T,isValid:o,isInvalid:a,disabled:s,as:I});return v.jsx(Ro.Provider,{value:F,children:v.jsx("div",{style:p,className:rt(f,B&&e,r&&`${e}-inline`,i&&`${e}-reverse`,S==="switch"&&n),children:R||v.jsxs(v.Fragment,{children:[C,B&&v.jsx(Fv,{title:_,children:P}),u&&v.jsx(ew,{type:h,tooltip:l,children:u})]})})})});IF.displayName="FormCheck";const jv=Object.assign(IF,{Input:QS,Label:Fv}),TF=N.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:h="input",...f},p)=>{const{controlId:_}=N.useContext(Ro);return t=bt(t,"form-control"),v.jsx(h,{...f,type:e,size:r,ref:p,readOnly:u,id:i||_,className:rt(s,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});TF.displayName="FormControl";const d7=Object.assign(TF,{Feedback:ew}),bF=N.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=bt(e,"form-floating"),v.jsx(n,{ref:i,className:rt(t,e),...r})));bF.displayName="FormFloating";const YS=N.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=N.useMemo(()=>({controlId:t}),[t]);return v.jsx(Ro.Provider,{value:i,children:v.jsx(e,{...n,ref:r})})});YS.displayName="FormGroup";const SF=N.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=N.useContext(Ro);e=bt(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const h=rt(i,e,r&&"visually-hidden",n&&u);return s=s||l,n?v.jsx(J_,{ref:a,as:"label",className:h,htmlFor:s,...o}):v.jsx(t,{ref:a,className:h,htmlFor:s,...o})});SF.displayName="FormLabel";const AF=N.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=N.useContext(Ro);return t=bt(t,"form-range"),v.jsx("input",{...r,type:"range",ref:i,className:rt(e,t),id:n||s})});AF.displayName="FormRange";const kF=N.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:u}=N.useContext(Ro);return t=bt(t,"form-select"),v.jsx("select",{...a,size:n,ref:l,className:rt(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||u})});kF.displayName="FormSelect";const CF=N.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=bt(t,"form-text"),v.jsx(n,{...i,ref:s,className:rt(e,t,r&&"text-muted")})));CF.displayName="FormText";const RF=N.forwardRef((t,e)=>v.jsx(jv,{...t,ref:e,type:"switch"}));RF.displayName="Switch";const h7=Object.assign(RF,{Input:jv.Input,Label:jv.Label}),PF=N.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=bt(t,"form-floating"),v.jsxs(YS,{ref:o,className:rt(e,t),controlId:r,...s,children:[n,v.jsx("label",{htmlFor:r,children:i})]})));PF.displayName="FloatingLabel";const f7={_ref:Le.any,validated:Le.bool,as:Le.elementType},XS=N.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>v.jsx(n,{...r,ref:i,className:rt(t,e&&"was-validated")}));XS.displayName="Form";XS.propTypes=f7;const pn=Object.assign(XS,{Group:YS,Control:d7,Floating:bF,Check:jv,Switch:h7,Label:SF,Text:CF,Range:AF,Select:kF,FloatingLabel:PF}),xF=N.createContext(null),p7=["as","active","eventKey"];function m7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NF({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=N.useContext(qI),a=N.useContext(GS),l=N.useContext(xF);let u=n;const h={role:i};if(a){!i&&a.role==="tablist"&&(h.role="tab");const f=a.getControllerId(t??null),p=a.getControlledId(t??null);h[Z_("event-key")]=t,h.id=f||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(h["aria-controls"]=p)}return h.role==="tab"&&(h["aria-selected"]=u,u||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Lr(f=>{s||(e==null||e(f),t!=null&&o&&!f.isPropagationStopped()&&o(t,f))}),[h,{isActive:u}]}const OF=N.forwardRef((t,e)=>{let{as:n=gF,active:r,eventKey:i}=t,s=m7(t,p7);const[o,a]=NF(Object.assign({key:HS(i,s.href),active:r},s));return o[Z_("active")]=a.isActive,v.jsx(n,Object.assign({},s,o,{ref:e}))});OF.displayName="NavItem";const g7=OF,y7=["as","onSelect","activeKey","role","onKeyDown"];function v7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const rP=()=>{},iP=Z_("event-key"),DF=N.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=v7(t,y7);const l=o7(),u=N.useRef(!1),h=N.useContext(qI),f=N.useContext(xF);let p,_;f&&(s=s||"tablist",i=f.activeKey,p=f.getControlledId,_=f.getControllerId);const S=N.useRef(null),P=T=>{const L=S.current;if(!L)return null;const F=Bl(L,`[${iP}]:not([aria-disabled=true])`),B=L.querySelector("[aria-selected=true]");if(!B||B!==document.activeElement)return null;const C=F.indexOf(B);if(C===-1)return null;let b=C+T;return b>=F.length&&(b=0),b<0&&(b=F.length-1),F[b]},R=(T,L)=>{T!=null&&(r==null||r(T,L),h==null||h(T,L))},I=T=>{if(o==null||o(T),!f)return;let L;switch(T.key){case"ArrowLeft":case"ArrowUp":L=P(-1);break;case"ArrowRight":case"ArrowDown":L=P(1);break;default:return}L&&(T.preventDefault(),R(L.dataset[u7("EventKey")]||null,T),u.current=!0,l())};N.useEffect(()=>{if(S.current&&u.current){const T=S.current.querySelector(`[${iP}][aria-selected=true]`);T==null||T.focus()}u.current=!1});const w=bh(e,S);return v.jsx(qI.Provider,{value:R,children:v.jsx(GS.Provider,{value:{role:s,activeKey:HS(i),getControlledId:p||rP,getControllerId:_||rP},children:v.jsx(n,Object.assign({},a,{onKeyDown:I,ref:w,role:s}))})})});DF.displayName="Nav";const _7=Object.assign(DF,{Item:g7}),LF=N.forwardRef(({bsPrefix:t,active:e,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},u)=>{t=bt(t,"list-group-item");const[h,f]=NF({key:HS(r,l.href),active:e,...l}),p=Lr(S=>{if(n){S.preventDefault(),S.stopPropagation();return}h.onClick(S)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const _=a||(o?l.href?"a":"button":"div");return v.jsx(_,{ref:u,...l,...h,onClick:p,className:rt(i,t,f.isActive&&"active",n&&"disabled",s&&`${t}-${s}`,o&&`${t}-action`)})});LF.displayName="ListGroupItem";const MF=N.forwardRef((t,e)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=iF(t,{activeKey:"onSelect"}),u=bt(r,"list-group");let h;return s&&(h=s===!0?"horizontal":`horizontal-${s}`),v.jsx(_7,{ref:e,...l,as:a,className:rt(n,u,i&&`${u}-${i}`,h&&`${u}-${h}`,o&&`${u}-numbered`)})});MF.displayName="ListGroup";const sP=Object.assign(MF,{Item:LF});var Wg;function oP(t){if((!Wg&&Wg!==0||t)&&Th){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Wg=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Wg}function xE(t){t===void 0&&(t=Y_());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function w7(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const aP=Z_("modal-open");class JS{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return w7(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(_u(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(aP,""),_u(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(aP),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const NE=(t,e)=>Th?t==null?(e||Y_()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function E7(t,e){const n=KS(),[r,i]=N.useState(()=>NE(t,n==null?void 0:n.document));if(!r){const s=NE(t);s&&i(s)}return N.useEffect(()=>{},[e,r]),N.useEffect(()=>{const s=NE(t);s!==r&&i(s)},[t,r]),r}function I7({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=N.useRef(null),o=N.useRef(e),a=Lr(n);N.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=bh(s,t.ref),u=N.cloneElement(t,{ref:l});return e?u:i||!o.current&&r?null:u}function T7(t){return t.code==="Escape"||t.keyCode===27}function b7(){const t=N.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const S7=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function A7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function k7(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=t,u=A7(t,S7);const{major:h}=b7(),f=h>=19?l.props.ref:l.ref,p=N.useRef(null),_=bh(p,typeof l=="function"?null:f),S=B=>C=>{B&&p.current&&B(p.current,C)},P=N.useCallback(S(e),[e]),R=N.useCallback(S(n),[n]),I=N.useCallback(S(r),[r]),w=N.useCallback(S(i),[i]),T=N.useCallback(S(s),[s]),L=N.useCallback(S(o),[o]),F=N.useCallback(S(a),[a]);return Object.assign({},u,{nodeRef:p},e&&{onEnter:P},n&&{onEntering:R},r&&{onEntered:I},i&&{onExit:w},s&&{onExiting:T},o&&{onExited:L},a&&{addEndListener:F},{children:typeof l=="function"?(B,C)=>l(B,Object.assign({},C,{ref:_})):N.cloneElement(l,{ref:_})})}const C7=["component"];function R7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const P7=N.forwardRef((t,e)=>{let{component:n}=t,r=R7(t,C7);const i=k7(r);return v.jsx(n,Object.assign({ref:e},i))});function x7({in:t,onTransition:e}){const n=N.useRef(null),r=N.useRef(!0),i=Lr(e);return tP(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),tP(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function N7({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=N.useState(!e);e&&s&&o(!1);const a=x7({in:!!e,onTransition:u=>{const h=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(h,f=>{throw u.in||o(!0),f})}}),l=bh(a,t.ref);return s&&!e?null:N.cloneElement(t,{ref:l})}function lP(t,e,n){return t?v.jsx(P7,Object.assign({},n,{component:t})):e?v.jsx(N7,Object.assign({},n,{transition:e})):v.jsx(I7,Object.assign({},n))}const O7=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function D7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let OE;function L7(t){return OE||(OE=new JS({ownerDocument:t==null?void 0:t.document})),OE}function M7(t){const e=KS(),n=t||L7(e),r=N.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:N.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:N.useCallback(i=>{r.current.backdrop=i},[])})}const VF=N.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:f,runTransition:p,backdropTransition:_,runBackdropTransition:S,autoFocus:P=!0,enforceFocus:R=!0,restoreFocus:I=!0,restoreFocusOptions:w,renderDialog:T,renderBackdrop:L=et=>v.jsx("div",Object.assign({},et)),manager:F,container:B,onShow:C,onHide:b=()=>{},onExit:x,onExited:D,onExiting:M,onEnter:V,onEntering:O,onEntered:pe}=t,Pe=D7(t,O7);const Me=KS(),We=E7(B),Z=M7(F),be=q8(),W=W8(n),[$e,_e]=N.useState(!n),Oe=N.useRef(null);N.useImperativeHandle(e,()=>Z,[Z]),Th&&!W&&n&&(Oe.current=xE(Me==null?void 0:Me.document)),n&&$e&&_e(!1);const ot=Lr(()=>{if(Z.add(),Kn.current=Vv(document,"keydown",Te),sr.current=Vv(document,"focus",()=>setTimeout(pt),!0),C&&C(),P){var et,or;const ns=xE((et=(or=Z.dialog)==null?void 0:or.ownerDocument)!=null?et:Me==null?void 0:Me.document);Z.dialog&&ns&&!nP(Z.dialog,ns)&&(Oe.current=ns,Z.dialog.focus())}}),$t=Lr(()=>{if(Z.remove(),Kn.current==null||Kn.current(),sr.current==null||sr.current(),I){var et;(et=Oe.current)==null||et.focus==null||et.focus(w),Oe.current=null}});N.useEffect(()=>{!n||!We||ot()},[n,We,ot]),N.useEffect(()=>{$e&&$t()},[$e,$t]),wF(()=>{$t()});const pt=Lr(()=>{if(!R||!be()||!Z.isTopModal())return;const et=xE(Me==null?void 0:Me.document);Z.dialog&&et&&!nP(Z.dialog,et)&&Z.dialog.focus()}),rn=Lr(et=>{et.target===et.currentTarget&&(u==null||u(et),a===!0&&b())}),Te=Lr(et=>{l&&T7(et)&&Z.isTopModal()&&(h==null||h(et),et.defaultPrevented||b())}),sr=N.useRef(),Kn=N.useRef(),Ir=(...et)=>{_e(!0),D==null||D(...et)};if(!We)return null;const Tr=Object.assign({role:r,ref:Z.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Pe,{style:s,className:i,tabIndex:-1});let Rn=T?T(Tr):v.jsx("div",Object.assign({},Tr,{children:N.cloneElement(o,{role:"document"})}));Rn=lP(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:x,onExiting:M,onExited:Ir,onEnter:V,onEntering:O,onEntered:pe,children:Rn});let Qn=null;return a&&(Qn=L({ref:Z.setBackdropRef,onClick:rn}),Qn=lP(_,S,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Qn})),v.jsx(v.Fragment,{children:Zl.createPortal(v.jsxs(v.Fragment,{children:[Qn,Rn]}),We)})});VF.displayName="Modal";const V7=Object.assign(VF,{Manager:JS});function F7(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function j7(t,e){t.classList?t.classList.add(e):F7(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function uP(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function U7(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=uP(t.className,e):t.setAttribute("class",uP(t.className&&t.className.baseVal||"",e))}const xc={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class $7 extends JS{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,_u(n,{[e]:`${parseFloat(_u(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],_u(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(j7(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Bl(n,xc.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Bl(n,xc.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Bl(n,xc.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();U7(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Bl(n,xc.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Bl(n,xc.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Bl(n,xc.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let DE;function z7(t){return DE||(DE=new $7(t)),DE}const FF=N.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=bt(e,"modal-body"),v.jsx(n,{ref:i,className:rt(t,e),...r})));FF.displayName="ModalBody";const jF=N.createContext({onHide(){}}),ZS=N.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},u)=>{t=bt(t,"modal");const h=`${t}-dialog`,f=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return v.jsx("div",{...l,ref:u,className:rt(h,e,i&&`${t}-${i}`,r&&`${h}-centered`,a&&`${h}-scrollable`,s&&f),children:v.jsx("div",{className:rt(`${t}-content`,n),children:o})})});ZS.displayName="ModalDialog";const UF=N.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=bt(e,"modal-footer"),v.jsx(n,{ref:i,className:rt(t,e),...r})));UF.displayName="ModalFooter";const B7=N.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=N.useContext(jF),l=Lr(()=>{a==null||a.onHide(),r==null||r()});return v.jsxs("div",{ref:o,...s,children:[i,n&&v.jsx(X_,{"aria-label":t,variant:e,onClick:l})]})}),$F=N.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=bt(t,"modal-header"),v.jsx(B7,{ref:s,...i,className:rt(e,t),closeLabel:n,closeButton:r})));$F.displayName="ModalHeader";const q7=fF("h4"),zF=N.forwardRef(({className:t,bsPrefix:e,as:n=q7,...r},i)=>(e=bt(e,"modal-title"),v.jsx(n,{ref:i,className:rt(t,e),...r})));zF.displayName="ModalTitle";function W7(t){return v.jsx(Fp,{...t,timeout:null})}function H7(t){return v.jsx(Fp,{...t,timeout:null})}const BF=N.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=ZS,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":u,"aria-label":h,show:f=!1,animation:p=!0,backdrop:_=!0,keyboard:S=!0,onEscapeKeyDown:P,onShow:R,onHide:I,container:w,autoFocus:T=!0,enforceFocus:L=!0,restoreFocus:F=!0,restoreFocusOptions:B,onEntered:C,onExit:b,onExiting:x,onEnter:D,onEntering:M,onExited:V,backdropClassName:O,manager:pe,...Pe},Me)=>{const[We,Z]=N.useState({}),[be,W]=N.useState(!1),$e=N.useRef(!1),_e=N.useRef(!1),Oe=N.useRef(null),[ot,$t]=B8(),pt=bh(Me,$t),rn=Lr(I),Te=w8();t=bt(t,"modal");const sr=N.useMemo(()=>({onHide:rn}),[rn]);function Kn(){return pe||z7({isRTL:Te})}function Ir(he){if(!Th)return;const ze=Kn().getScrollbarWidth()>0,sn=he.scrollHeight>Y_(he).documentElement.clientHeight;Z({paddingRight:ze&&!sn?oP():void 0,paddingLeft:!ze&&sn?oP():void 0})}const Tr=Lr(()=>{ot&&Ir(ot.dialog)});wF(()=>{BI(window,"resize",Tr),Oe.current==null||Oe.current()});const Rn=()=>{$e.current=!0},Qn=he=>{$e.current&&ot&&he.target===ot.dialog&&(_e.current=!0),$e.current=!1},et=()=>{W(!0),Oe.current=hF(ot.dialog,()=>{W(!1)})},or=he=>{he.target===he.currentTarget&&et()},ns=he=>{if(_==="static"){or(he);return}if(_e.current||he.target!==he.currentTarget){_e.current=!1;return}I==null||I()},j=he=>{S?P==null||P(he):(he.preventDefault(),_==="static"&&et())},G=(he,ze)=>{he&&Ir(he),D==null||D(he,ze)},X=he=>{Oe.current==null||Oe.current(),b==null||b(he)},ue=(he,ze)=>{M==null||M(he,ze),dF(window,"resize",Tr)},ae=he=>{he&&(he.style.display=""),V==null||V(he),BI(window,"resize",Tr)},ne=N.useCallback(he=>v.jsx("div",{...he,className:rt(`${t}-backdrop`,O,!p&&"show")}),[p,O,t]),me={...n,...We};me.display="block";const Ve=he=>v.jsx("div",{role:"dialog",...he,style:me,className:rt(e,t,be&&`${t}-static`,!p&&"show"),onClick:_?ns:void 0,onMouseUp:Qn,"data-bs-theme":a,"aria-label":h,"aria-labelledby":l,"aria-describedby":u,children:v.jsx(o,{...Pe,onMouseDown:Rn,className:r,contentClassName:i,children:s})});return v.jsx(jF.Provider,{value:sr,children:v.jsx(V7,{show:f,ref:pt,backdrop:_,container:w,keyboard:!0,autoFocus:T,enforceFocus:L,restoreFocus:F,restoreFocusOptions:B,onEscapeKeyDown:j,onShow:R,onHide:I,onEnter:G,onEntering:ue,onEntered:C,onExit:X,onExiting:x,onExited:ae,manager:Kn(),transition:p?W7:void 0,backdropTransition:p?H7:void 0,renderBackdrop:ne,renderDialog:Ve})})});BF.displayName="Modal";const Tn=Object.assign(BF,{Body:FF,Header:$F,Title:zF,Footer:UF,Dialog:ZS,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),eA=N.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=bt(t,"row"),o=sF(),a=oF(),l=`${s}-cols`,u=[];return o.forEach(h=>{const f=r[h];delete r[h];let p;f!=null&&typeof f=="object"?{cols:p}=f:p=f;const _=h!==a?`-${h}`:"";p!=null&&u.push(`${l}${_}-${p}`)}),v.jsx(n,{ref:i,...r,className:rt(e,s,...u)})});eA.displayName="Row";const nh=N.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{t=bt(t,"spinner");const l=`${t}-${n}`;return v.jsx(i,{ref:a,...o,className:rt(s,l,r&&`${l}-${r}`,e&&`text-${e}`)})});nh.displayName="Spinner";const WI=N.forwardRef(({bsPrefix:t,className:e,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...u},h)=>{const f=bt(t,"table"),p=rt(e,f,a&&`${f}-${a}`,o&&`${f}-${o}`,n&&`${f}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${f}-bordered`,i&&`${f}-borderless`,s&&`${f}-hover`),_=v.jsx("table",{...u,className:p,ref:h});if(l){let S=`${f}-responsive`;return typeof l=="string"&&(S=`${S}-${l}`),v.jsx("div",{className:S,children:_})}return _}),G7=async t=>{const e=In(Dt,"users",t),n=await ho(e);if(n.exists())return n.data();throw new Error("No such document!")},K7=async()=>{const t=yi(ki(Dt,"study"));return(await Ju(t)).docs.map(n=>({id:n.id,...n.data()}))},Q7=async(t,e,n)=>{try{await bm(ki(Dt,"savedMaterials"),{userId:t==null?void 0:t.uid,title:e.title,description:e.description,url:e.url}),n(!0),setTimeout(()=>{n(!1)},3e3)}catch(r){console.error("Error saving study material:",r)}},Y7=({user:t})=>{const[e,n]=N.useState(null);N.useState(null);const[r,i]=N.useState(!1),[s,o]=N.useState(!1),[a,l]=N.useState([]),[u,h]=N.useState(""),{isDarkMode:f}=Fo();N.useEffect(()=>{(async()=>{if(t&&t.uid)try{const T=await G7(t.uid);n(T)}catch(T){console.error("Error fetching user details:",T)}})()},[t]);const{data:p}=eD({queryKey:["studyMaterials"],queryFn:K7,staleTime:6e4}),_=e?e.name:"Loading...",S=e?e.role:"",P=t?t.email:"Loading...",R=w=>{h(w.target.value)},I=w=>{if(w.preventDefault(),!u.trim()){o(!0),setTimeout(()=>{o(!1)},3e3);return}const T=(p==null?void 0:p.filter(L=>L.title.toLowerCase()===u.toLowerCase()))||[];T.length>0?l(T):(l([]),o(!0),setTimeout(()=>{o(!1)},3e3)),h("")};return v.jsxs("div",{className:f?"bg-dark text-light":"bg-light text-dark",children:[v.jsx(Ih,{user:t,userDetails:e,showUserDetails:!0}),v.jsxs(Vu,{className:"mt-4",children:[v.jsx("div",{className:`card ${f?"bg-dark text-light":"bg-light text-dark"}`,children:v.jsx("div",{className:"card-body",children:e?v.jsxs(v.Fragment,{children:[v.jsxs("h3",{children:["Welcome, ",_,"!"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Role:"})," ",S]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",P]})]}):v.jsx("div",{className:"d-flex justify-content-center",children:v.jsx(nh,{animation:"border",role:"status",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})})})}),v.jsx(eA,{className:"mt-4 justify-content-center",children:v.jsx(J_,{md:6,children:v.jsx("form",{onSubmit:I,children:v.jsxs("div",{className:"input-group mb-3",children:[v.jsx("input",{type:"text",className:"form-control",placeholder:"Search by Subject...","aria-label":"Search","aria-describedby":"button-addon2",value:u,onChange:R}),v.jsx("button",{className:"btn btn-outline-success",type:"submit",id:"button-addon2",children:"Search"})]})})})}),a.length>0&&v.jsxs("div",{className:`card mt-4 ${f?"bg-dark text-light":"bg-light text-dark"}`,children:[v.jsx("div",{className:"card-header",children:v.jsx("h2",{children:"Search Results"})}),v.jsx("div",{className:"card-body",children:v.jsx("div",{className:"table-responsive",children:v.jsxs("table",{className:`table ${f?"table-dark":"table-light"}`,children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Description"}),v.jsx("th",{children:"URL"}),v.jsx("th",{children:"Action"})]})}),v.jsx("tbody",{children:a.map(w=>v.jsxs("tr",{children:[v.jsx("td",{children:w.description}),v.jsx("td",{children:v.jsx("a",{href:w.url,target:"_blank",rel:"noopener noreferrer",children:w.url})}),v.jsx("td",{children:v.jsx("button",{className:"btn btn-success",onClick:()=>Q7(t,w,i),children:v.jsx("i",{className:"fas fa-save"})})})]},w.id))})]})})})]}),v.jsx("div",{className:`position-fixed bottom-0 end-0 p-3 ${r?"visible":"invisible"}`,style:{zIndex:1050},children:v.jsx(ru,{variant:"success",onClose:()=>i(!1),dismissible:!0,children:"Study material saved successfully!"})}),v.jsx("div",{className:`position-fixed bottom-0 end-0 p-3 ${s?"visible":"invisible"}`,style:{zIndex:1050},children:v.jsx(ru,{variant:"warning",onClose:()=>o(!1),dismissible:!0,children:a.length===0?"No study materials found for the entered title.":"Please enter a search term."})})]})]})};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n){this._delegate=e,this.firebase=n,Tp(e,new Ai("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Nb(this._delegate)))}_getService(e,n=Ha){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ha){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Tp(this._delegate,e)}_addOrOverwriteComponent(e){TD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},cP=new qs("app-compat","Firebase",J7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Br,setLogLevel:kD,onLog:AD,apps:null,SDK_VERSION:ri,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:j5}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Ha,!oC(e,u))throw cP.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,h={}){const f=g_(u,h);if(oC(e,f.name))return e[f.name];const p=new t(f,n);return e[f.name]=p,p}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const h=u.name,f=h.replace("-compat","");if(js(u)&&u.type==="PUBLIC"){const p=(_=i())=>{if(typeof _[f]!="function")throw cP.create("invalid-app-argument",{appName:h});return _[f]()};u.serviceProps!==void 0&&gv(p,u.serviceProps),n[f]=p,t.prototype[f]=function(..._){return this._getService.bind(this,h).apply(this,u.multipleInstances?_:[])}}return u.type==="PUBLIC"?n[f]:null}function l(u,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(){const t=Z7(X7);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:qF,extendNamespace:e,createSubscribe:Cb,ErrorFactory:qs,deepExtend:gv});function e(n){gv(t,n)}return t}const eQ=qF();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new cm("@firebase/app-compat"),tQ="@firebase/app-compat",nQ="0.2.35";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rQ(t){Br(tQ,nQ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(gD()&&self.firebase!==void 0){dP.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&dP.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const tw=eQ;rQ();const mf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Nc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function WF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sQ=iQ,oQ=WF,HF=new qs("auth","Firebase",WF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new cm("@firebase/auth");function aQ(t,...e){Uv.logLevel<=Ke.WARN&&Uv.warn(`Auth (${ri}): ${t}`,...e)}function xy(t,...e){Uv.logLevel<=Ke.ERROR&&Uv.error(`Auth (${ri}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw nA(t,...e)}function Sn(t,...e){return nA(t,...e)}function tA(t,e,n){const r=Object.assign(Object.assign({},oQ()),{[e]:n});return new qs("auth","Firebase",r).create(e,{appName:t.name})}function Fn(t){return tA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sh(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),tA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HF.create(t,...e)}function ie(t,e,...n){if(!t)throw nA(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xy(e),new Error(e)}function es(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rA(){return hP()==="http:"||hP()==="https:"}function hP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rA()||Ab()||"connection"in navigator)?navigator.onLine:!0}function uQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=mD()||m_()}get(){return lQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ=new xm(3e4,6e4);function tn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function nn(t,e,n,r,i={}){return KF(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ts(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),GF.fetch()(QF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function KF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cQ),e);try{const i=new fQ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pf(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tA(t,h,u);Gn(t,h)}}catch(i){if(i instanceof Mn)throw i;Gn(t,"network-request-failed",{message:String(i)})}}async function Uo(t,e,n,r,i={}){const s=await nn(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function QF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?iA(t.config,i):`${t.config.apiScheme}://${i}`}function hQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),dQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){return t!==void 0&&t.getResponse!==void 0}function pP(t){return t!==void 0&&t.enterprise!==void 0}class pQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ(t){return(await nn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function gQ(t,e){return nn(t,"GET","/v2/recaptchaConfig",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yQ(t,e){return nn(t,"POST","/v1/accounts:delete",e)}async function vQ(t,e){return nn(t,"POST","/v1/accounts:update",e)}async function YF(t,e){return nn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _Q(t,e=!1){const n=Se(t),r=await n.getIdToken(e),i=nw(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xf(LE(i.auth_time)),issuedAtTime:Xf(LE(i.iat)),expirationTime:Xf(LE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function LE(t){return Number(t)*1e3}function nw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tb(n);return i?JSON.parse(i):(xy("Failed to decode base64 JWT payload"),null)}catch(i){return xy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mP(t){const e=nw(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mn&&wQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Po(t,YF(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?XF(s.providerUserInfo):[],a=TQ(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new HI(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function IQ(t){const e=Se(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XF(t){return t.map(e=>{var{providerId:n}=e,r=Eh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bQ(t,e){const n=await KF(t,{},async()=>{const r=ts({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=QF(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GF.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SQ(t,e){return nn(t,"POST","/v2/accounts:revokeToken",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=mP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new md;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new md,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new HI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _Q(this,e)}reload(){return IQ(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ct(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await Po(this,yQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:L,isAnonymous:F,providerData:B,stsTokenManager:C}=n;ie(T&&C,e,"internal-error");const b=md.fromJSON(this.name,C);ie(typeof T=="string",e,"internal-error"),aa(f,e.name),aa(p,e.name),ie(typeof L=="boolean",e,"internal-error"),ie(typeof F=="boolean",e,"internal-error"),aa(_,e.name),aa(S,e.name),aa(P,e.name),aa(R,e.name),aa(I,e.name),aa(w,e.name);const x=new mo({uid:T,auth:e,email:p,emailVerified:L,displayName:f,isAnonymous:F,photoURL:S,phoneNumber:_,tenantId:P,stsTokenManager:b,createdAt:I,lastLoginAt:w});return B&&Array.isArray(B)&&(x.providerData=B.map(D=>Object.assign({},D))),R&&(x._redirectEventId=R),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new md;i.updateFromServerResponse(n);const s=new mo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?XF(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new md;a.updateFromIdToken(r);const l=new mo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new HI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Map;function Xr(t){es(t instanceof Function,"Expected a class definition");let e=gP.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JF.type="NONE";const rh=JF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,e,n){return`firebase:${t}:${e}:${n}`}class gd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wu(this.userKey,i.apiKey,s),this.fullPersistenceKey=wu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gd(Xr(rh),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Xr(rh);const o=wu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=mo._fromJSON(e,h);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new gd(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new gd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n2(e))return"Blackberry";if(r2(e))return"Webos";if(sA(e))return"Safari";if((e.includes("chrome/")||e2(e))&&!e.includes("edge/"))return"Chrome";if(Nm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZF(t=Ye()){return/firefox\//i.test(t)}function sA(t=Ye()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e2(t=Ye()){return/crios\//i.test(t)}function t2(t=Ye()){return/iemobile/i.test(t)}function Nm(t=Ye()){return/android/i.test(t)}function n2(t=Ye()){return/blackberry/i.test(t)}function r2(t=Ye()){return/webos/i.test(t)}function Ah(t=Ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AQ(t=Ye()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function kQ(t=Ye()){var e;return Ah(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CQ(){return kb()&&document.documentMode===10}function i2(t=Ye()){return Ah(t)||Nm(t)||r2(t)||n2(t)||/windows phone/i.test(t)||t2(t)}function RQ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t,e=[]){let n;switch(t){case"Browser":n=yP(Ye());break;case"Worker":n=`${yP(Ye())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ri}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xQ(t,e={}){return nn(t,"GET","/v2/passwordPolicy",tn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=6;class OQ{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:NQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vP(this),this.idTokenSubscription=new vP(this),this.beforeStateQueue=new PQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await gd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YF(this,{idToken:e}),r=await mo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ct(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ct(this.app))return Promise.reject(Fn(this));const n=e?Se(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ct(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ct(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xQ(this),n=new OQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await gd.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function en(t){return Se(t)}class vP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cb(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LQ(t){Om=t}function oA(t){return Om.loadJS(t)}function MQ(){return Om.recaptchaV2Script}function VQ(){return Om.recaptchaEnterpriseScript}function FQ(){return Om.gapiScript}function o2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const jQ="recaptcha-enterprise",UQ="NO_RECAPTCHA";class $Q{constructor(e){this.type=jQ,this.auth=en(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{gQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new pQ(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;pP(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(UQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&pP(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VQ();l.length!==0&&(l+=a),oA(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function _P(t,e,n,r=!1){const i=new $Q(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $p(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await _P(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await _P(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function zQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BQ(t,e,n){const r=en(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=a2(e),{host:o,port:a}=qQ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||WQ()}function a2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qQ(t){const e=a2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wP(o)}}}function wP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e){return nn(t,"POST","/v1/accounts:resetPassword",tn(t,e))}async function HQ(t,e){return nn(t,"POST","/v1/accounts:update",e)}async function GQ(t,e){return nn(t,"POST","/v1/accounts:signUp",e)}async function KQ(t,e){return nn(t,"POST","/v1/accounts:update",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(t,e){return Uo(t,"POST","/v1/accounts:signInWithPassword",tn(t,e))}async function rw(t,e){return nn(t,"POST","/v1/accounts:sendOobCode",tn(t,e))}async function YQ(t,e){return rw(t,e)}async function XQ(t,e){return rw(t,e)}async function JQ(t,e){return rw(t,e)}async function ZQ(t,e){return rw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eY(t,e){return Uo(t,"POST","/v1/accounts:signInWithEmailLink",tn(t,e))}async function tY(t,e){return Uo(t,"POST","/v1/accounts:signInWithEmailLink",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends kh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,n,"signInWithPassword",QQ);case"emailLink":return eY(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,r,"signUpPassword",GQ);case"emailLink":return tY(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e){return Uo(t,"POST","/v1/accounts:signInWithIdp",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY="http://localhost";class Bs extends kh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Eh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:nY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ts(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rY(t,e){return nn(t,"POST","/v1/accounts:sendVerificationCode",tn(t,e))}async function iY(t,e){return Uo(t,"POST","/v1/accounts:signInWithPhoneNumber",tn(t,e))}async function sY(t,e){const n=await Uo(t,"POST","/v1/accounts:signInWithPhoneNumber",tn(t,e));if(n.temporaryProof)throw Pf(t,"account-exists-with-different-credential",n);return n}const oY={USER_NOT_FOUND:"user-not-found"};async function aY(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Uo(t,"POST","/v1/accounts:signInWithPhoneNumber",tn(t,n),oY)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends kh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Eu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Eu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return iY(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return sY(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return aY(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Eu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uY(t){const e=Gi(Cs(t)).link,n=e?Gi(Cs(e)).deep_link_id:null,r=Gi(Cs(t)).deep_link_id;return(r?Gi(Cs(r)).link:null)||r||n||e||t}class iw{constructor(e){var n,r,i,s,o,a;const l=Gi(Cs(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=lY((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=uY(e);try{return new iw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return zp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iw.parseLink(n);return ie(r,"argument-error"),zp._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends $o{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yd extends Ch{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ie("providerId"in n&&"signInMethod"in n,"argument-error"),Bs._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ie(e.idToken||e.accessToken,"argument-error"),Bs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return yd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return yd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new yd(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Ch{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Ch{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY="http://localhost";class ih extends kh{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new ih(r,s)}static _create(e,n){return new ih(e,n)}buildRequest(){return{requestUri:cY,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY="saml.";class $v extends $o{constructor(e){ie(e.startsWith(dY),"argument-error"),super(e)}static credentialFromResult(e){return $v.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return $v.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=ih.fromJSON(e);return ie(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return ih._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Ch{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return As.credential(n,r)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t,e){return Uo(t,"POST","/v1/accounts:signUp",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mo._fromIdTokenResponse(e,r,i),o=EP(r);return new Ci({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=EP(r);return new Ci({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function EP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hY(t){var e;if(ct(t.app))return Promise.reject(Fn(t));const n=en(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ci({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await u2(n,{returnSecureToken:!0}),i=await Ci._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zv(e,n,r,i)}}function c2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zv._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fY(t,e){const n=Se(t);await sw(!0,n,e);const{providerUserInfo:r}=await vQ(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=d2(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function aA(t,e,n=!1){const r=await Po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ci._forOperation(t,"link",r)}async function sw(t,e,n){await Up(e);const r=d2(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ie(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e,n=!1){const{auth:r}=t;if(ct(r.app))return Promise.reject(Fn(r));const i="reauthenticate";try{const s=await Po(t,c2(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=nw(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Ci._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e,n=!1){if(ct(t.app))return Promise.reject(Fn(t));const r="signIn",i=await c2(t,r,e),s=await Ci._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ow(t,e){return f2(en(t),e)}async function p2(t,e){const n=Se(t);return await sw(!1,n,e.providerId),aA(n,e)}async function m2(t,e){return h2(Se(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pY(t,e){return Uo(t,"POST","/v1/accounts:signInWithCustomToken",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mY(t,e){if(ct(t.app))return Promise.reject(Fn(t));const n=en(t),r=await pY(n,{token:e,returnSecureToken:!0}),i=await Ci._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?lA._fromServerResponse(e,n):"totpInfo"in n?uA._fromServerResponse(e,n):Gn(e,"internal-error")}}class lA extends Dm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new lA(n)}}class uA extends Dm{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new uA(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e,n){var r;ie(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ie(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ie(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ie(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(t){const e=en(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gY(t,e,n){const r=en(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&aw(r,i,n),await $p(r,i,"getOobCode",XQ)}async function yY(t,e,n){await l2(Se(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cA(t),r})}async function vY(t,e){await KQ(Se(t),{oobCode:e})}async function g2(t,e){const n=Se(t),r=await l2(n,{oobCode:e}),i=r.requestType;switch(ie(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(r.mfaInfo,n,"internal-error");default:ie(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Dm._fromServerResponse(en(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function _Y(t,e){const{data:n}=await g2(Se(t),e);return n.email}async function wY(t,e,n){if(ct(t.app))return Promise.reject(Fn(t));const r=en(t),o=await $p(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",u2).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cA(t),l}),a=await Ci._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EY(t,e,n){return ct(t.app)?Promise.reject(Fn(t)):ow(Se(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IY(t,e,n){const r=en(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){ie(a.handleCodeInApp,r,"argument-error"),a&&aw(r,o,a)}s(i,n),await $p(r,i,"getOobCode",JQ)}function TY(t,e){const n=iw.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function bY(t,e,n){if(ct(t.app))return Promise.reject(Fn(t));const r=Se(t),i=gl.credentialWithLink(e,n||jp());return ie(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ow(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SY(t,e){return nn(t,"POST","/v1/accounts:createAuthUri",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AY(t,e){const n=rA()?jp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await SY(Se(t),r);return i||[]}async function kY(t,e){const n=Se(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&aw(n.auth,i,e);const{email:s}=await YQ(n.auth,i);s!==t.email&&await t.reload()}async function CY(t,e,n){const r=Se(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&aw(r.auth,s,n);const{email:o}=await ZQ(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY(t,e){return nn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PY(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Se(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Po(r,RY(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function xY(t,e){const n=Se(t);return ct(n.auth.app)?Promise.reject(Fn(n.auth)):y2(n,e,null)}function NY(t,e){return y2(Se(t),null,e)}async function y2(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Po(t,HQ(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=nw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new vd(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new DY(s,i);case"github.com":return new LY(s,i);case"google.com":return new MY(s,i);case"twitter.com":return new VY(s,i,t.screenName||null);case"custom":case"anonymous":return new vd(s,null);default:return new vd(s,r,i)}}class vd{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class v2 extends vd{constructor(e,n,r,i){super(e,n,r),this.username=i}}class DY extends vd{constructor(e,n){super(e,"facebook.com",n)}}class LY extends v2{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class MY extends vd{constructor(e,n){super(e,"google.com",n)}}class VY extends v2{constructor(e,n,r){super(e,"twitter.com",n,r)}}function FY(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:OY(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new iu("enroll",e,n)}static _fromMfaPendingCredential(e){return new iu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return iu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return iu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=en(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Dm._fromServerResponse(r,a));ie(i.mfaPendingCredential,r,"internal-error");const o=iu._fromMfaPendingCredential(i.mfaPendingCredential);return new dA(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const h=await Ci._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(h.user),h;case"reauthenticate":return ie(n.user,r,"internal-error"),Ci._forOperation(n.user,n.operationType,u);default:Gn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function jY(t,e){var n;const r=Se(t),i=e;return ie(e.customData.operationType,r,"argument-error"),ie((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),dA._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t,e){return nn(t,"POST","/v2/accounts/mfaEnrollment:start",tn(t,e))}function $Y(t,e){return nn(t,"POST","/v2/accounts/mfaEnrollment:finalize",tn(t,e))}function zY(t,e){return nn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(t,e))}class hA{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Dm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new hA(e)}async getSession(){return iu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Po(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Po(this.user,zY(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const ME=new WeakMap;function BY(t){const e=Se(t);return ME.has(e)||ME.set(e,hA._fromUser(e)),ME.get(e)}const Bv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bv,"1"),this.storage.removeItem(Bv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(){const t=Ye();return sA(t)||Ah(t)}const WY=1e3,HY=10;class w2 extends _2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qY()&&RQ(),this.fallbackToPolling=i2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);CQ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}w2.type="LOCAL";const fA=w2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends _2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E2.type="SESSION";const Fu=E2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await GY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Lm("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function QY(t){mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function YY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JY(){return pA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebaseLocalStorageDb",ZY=1,qv="firebaseLocalStorage",T2="fbase_key";class Mm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uw(t,e){return t.transaction([qv],e?"readwrite":"readonly").objectStore(qv)}function eX(){const t=indexedDB.deleteDatabase(I2);return new Mm(t).toPromise()}function GI(){const t=indexedDB.open(I2,ZY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qv,{keyPath:T2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qv)?e(r):(r.close(),await eX(),e(await GI()))})})}async function IP(t,e,n){const r=uw(t,!0).put({[T2]:e,value:n});return new Mm(r).toPromise()}async function tX(t,e){const n=uw(t,!1).get(e),r=await new Mm(n).toPromise();return r===void 0?null:r.value}function TP(t,e){const n=uw(t,!0).delete(e);return new Mm(n).toPromise()}const nX=800,rX=3;class b2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await GI(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lw._getInstance(JY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YY(),!this.activeServiceWorker)return;this.sender=new KY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await GI();return await IP(e,Bv,"1"),await TP(e,Bv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=uw(i,!1).getAll();return new Mm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b2.type="LOCAL";const Bp=b2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(t,e){return nn(t,"POST","/v2/accounts/mfaSignIn:start",tn(t,e))}function sX(t,e){return nn(t,"POST","/v2/accounts/mfaSignIn:finalize",tn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX=500,aX=6e4,Hg=1e12;class lX{constructor(e){this.auth=e,this.counter=Hg,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new uX(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Hg;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Hg;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Hg;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class uX{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ie(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=cX(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},aX)},oX))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function cX(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=o2("rcb"),dX=new xm(3e4,6e4);class hX{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=mn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ie(fX(n),e,"argument-error"),this.shouldResolveImmediately(n)&&fP(mn().grecaptcha)?Promise.resolve(mn().grecaptcha):new Promise((r,i)=>{const s=mn().setTimeout(()=>{i(Sn(e,"network-request-failed"))},dX.get());mn()[VE]=()=>{mn().clearTimeout(s),delete mn()[VE];const a=mn().grecaptcha;if(!a||!fP(a)){i(Sn(e,"internal-error"));return}const l=a.render;a.render=(u,h)=>{const f=l(u,h);return this.counter++,f},this.hostLanguage=n,r(a)};const o=`${MQ()}?${ts({onload:VE,render:"explicit",hl:n})}`;oA(o).catch(()=>{clearTimeout(s),i(Sn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=mn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function fX(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class pX{async load(e){return new lX(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="recaptcha",mX={theme:"light",type:"image"};let gX=class{constructor(e,n,r=Object.assign({},mX)){this.parameters=r,this.type=S2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=en(e),this.isInvisible=this.parameters.size==="invisible",ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;ie(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pX:new hX,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=mn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ie(rA()&&!pA(),this.auth,"internal-error"),await yX(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await mQ(this.auth);ie(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function yX(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Eu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function vX(t,e,n){if(ct(t.app))return Promise.reject(Fn(t));const r=en(t),i=await cw(r,e,Se(n));return new mA(i,s=>ow(r,s))}async function _X(t,e,n){const r=Se(t);await sw(!1,r,"phone");const i=await cw(r.auth,e,Se(n));return new mA(i,s=>p2(r,s))}async function wX(t,e,n){const r=Se(t);if(ct(r.auth.app))return Promise.reject(Fn(r.auth));const i=await cw(r.auth,e,Se(n));return new mA(i,s=>m2(r,s))}async function cw(t,e,n){var r;const i=await n.verify();try{ie(typeof i=="string",t,"argument-error"),ie(n.type===S2,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return ie(o.type==="enroll",t,"internal-error"),(await UY(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{ie(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return ie(a,t,"missing-multi-factor-info"),(await iX(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await rY(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function EX(t,e){const n=Se(t);if(ct(n.auth.app))return Promise.reject(Fn(n.auth));await aA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=class Ny{constructor(e){this.providerId=Ny.PROVIDER_ID,this.auth=en(e)}verifyPhoneNumber(e,n){return cw(this.auth,e,Se(n))}static credential(e,n){return Eu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Ny.credentialFromTaggedObject(n)}static credentialFromError(e){return Ny.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Eu._fromTokenResponse(n,r):null}};ju.PROVIDER_ID="phone";ju.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t,e){return e?Xr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends kh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IX(t){return f2(t.auth,new gA(t),t.bypassAuthState)}function TX(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),h2(n,new gA(t),t.bypassAuthState)}async function bX(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),aA(n,new gA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IX;case"linkViaPopup":case"linkViaRedirect":return bX;case"reauthViaPopup":case"reauthViaRedirect":return TX;default:Gn(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX=new xm(2e3,1e4);async function AX(t,e,n){if(ct(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const r=en(t);Sh(t,e,$o);const i=nc(r,n);return new go(r,"signInViaPopup",e,i).executeNotNull()}async function kX(t,e,n){const r=Se(t);if(ct(r.auth.app))return Promise.reject(Sn(r.auth,"operation-not-supported-in-this-environment"));Sh(r.auth,e,$o);const i=nc(r.auth,n);return new go(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function CX(t,e,n){const r=Se(t);Sh(r.auth,e,$o);const i=nc(r.auth,n);return new go(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class go extends A2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SX.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX="pendingRedirect",Jf=new Map;class PX extends A2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const r=await xX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xX(t,e){const n=C2(e),r=k2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function yA(t,e){return k2(t)._set(C2(e),"true")}function NX(){Jf.clear()}function vA(t,e){Jf.set(t._key(),e)}function k2(t){return Xr(t._redirectPersistence)}function C2(t){return wu(RX,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(t,e,n){return DX(t,e,n)}async function DX(t,e,n){if(ct(t.app))return Promise.reject(Fn(t));const r=en(t);Sh(t,e,$o),await r._initializationPromise;const i=nc(r,n);return await yA(i,r),i._openRedirect(r,e,"signInViaRedirect")}function LX(t,e,n){return MX(t,e,n)}async function MX(t,e,n){const r=Se(t);if(Sh(r.auth,e,$o),ct(r.auth.app))return Promise.reject(Fn(r.auth));await r.auth._initializationPromise;const i=nc(r.auth,n);await yA(i,r.auth);const s=await R2(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function VX(t,e,n){return FX(t,e,n)}async function FX(t,e,n){const r=Se(t);Sh(r.auth,e,$o),await r.auth._initializationPromise;const i=nc(r.auth,n);await sw(!1,r,e.providerId),await yA(i,r.auth);const s=await R2(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function jX(t,e){return await en(t)._initializationPromise,dw(t,e,!1)}async function dw(t,e,n=!1){if(ct(t.app))return Promise.reject(Fn(t));const r=en(t),i=nc(r,e),o=await new PX(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function R2(t){const e=Lm(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=10*60*1e3;class P2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$X(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!x2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UX&&this.cachedEventUids.clear(),this.cachedEventUids.has(bP(e))}saveEventToCache(e){this.cachedEventUids.add(bP(e)),this.lastProcessedEventTime=Date.now()}}function bP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $X(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,e={}){return nn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BX=/^https?/;async function qX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N2(t);for(const n of e)try{if(WX(n))return}catch{}Gn(t,"unauthorized-domain")}function WX(t){const e=jp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BX.test(n))return!1;if(zX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HX=new xm(3e4,6e4);function SP(){const t=mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GX(t){return new Promise((e,n)=>{var r,i,s;function o(){SP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SP(),n(Sn(t,"network-request-failed"))},timeout:HX.get()})}if(!((i=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mn().gapi)===null||s===void 0)&&s.load)o();else{const a=o2("iframefcb");return mn()[a]=()=>{gapi.load?o():n(Sn(t,"network-request-failed"))},oA(`${FQ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oy=null,e})}let Oy=null;function KX(t){return Oy=Oy||GX(t),Oy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=new xm(5e3,15e3),YX="__/auth/iframe",XX="emulator/auth/iframe",JX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eJ(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iA(e,XX):`https://${t.config.authDomain}/${YX}`,r={apiKey:e.apiKey,appName:t.name,v:ri},i=ZX.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ts(r).slice(1)}`}async function tJ(t){const e=await KX(t),n=mn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:eJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JX,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),a=mn().setTimeout(()=>{s(o)},QX.get());function l(){mn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rJ=500,iJ=600,sJ="_blank",oJ="http://localhost";class AP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aJ(t,e,n,r=rJ,i=iJ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},nJ),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ye().toLowerCase();n&&(a=e2(u)?sJ:n),ZF(u)&&(e=e||oJ,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[_,S])=>`${p}${_}=${S},`,"");if(kQ(u)&&a!=="_self")return lJ(e||"",a),new AP(null);const f=window.open(e||"",a,h);ie(f,t,"popup-blocked");try{f.focus()}catch{}return new AP(f)}function lJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ="__/auth/handler",cJ="emulator/auth/handler",dJ=encodeURIComponent("fac");async function KI(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ri,eventId:i};if(e instanceof $o){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof Ch){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${dJ}=${encodeURIComponent(l)}`:"";return`${hJ(t)}?${ts(a).slice(1)}${u}`}function hJ({config:t}){return t.emulator?iA(t,cJ):`https://${t.authDomain}/${uJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="webStorageSupport";class fJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fu,this._completeRedirectFn=dw,this._overrideRedirectResult=vA}async _openPopup(e,n,r,i){var s;es((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await KI(e,n,r,jp(),i);return aJ(e,o,Lm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await KI(e,n,r,jp(),i);return QY(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(es(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tJ(e),r=new P2(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(FE,{type:FE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[FE];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i2()||sA()||Ah()}}const pJ=fJ;class mJ{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return xs("unexpected MultiFactorSessionType")}}}class _A extends mJ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new _A(e)}_finalizeEnroll(e,n,r){return $Y(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return sX(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class O2{constructor(){}static assertion(e){return _A._fromCredential(e)}}O2.FACTOR_ID="phone";var kP="@firebase/auth",CP="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vJ(t){js(new Ai("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s2(t)},u=new DQ(r,i,s,l);return zQ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),js(new Ai("auth-internal",e=>{const n=en(e.getProvider("auth").getImmediate());return(r=>new gJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(kP,CP,yJ(t)),Br(kP,CP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _J=5*60;bb("authIdTokenMaxAge");function wJ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",wJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vJ("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ=2e3;async function IJ(t,e,n){var r;const{BuildInfo:i}=Uu();es(e.sessionId,"AuthEvent did not contain a session ID");const s=await kJ(e.sessionId),o={};return Ah()?o.ibi=i.packageName:Nm()?o.apn=i.packageName:Gn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,KI(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function TJ(t){const{BuildInfo:e}=Uu(),n={};Ah()?n.iosBundleId=e.packageName:Nm()?n.androidPackageName=e.packageName:Gn(t,"operation-not-supported-in-this-environment"),await N2(t,n)}function bJ(t){const{cordova:e}=Uu();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,AQ()?"_blank":"_system","location=yes"),n(i)})})}async function SJ(t,e,n){const{cordova:r}=Uu();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var f;s();const p=(f=r.plugins.browsertab)===null||f===void 0?void 0:f.close;typeof p=="function"&&p(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Sn(t,"redirect-cancelled-by-user"))},EJ))}function h(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Nm()&&document.addEventListener("visibilitychange",h,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",h,!1),a&&window.clearTimeout(a)}})}finally{i()}}function AJ(t){var e,n,r,i,s,o,a,l,u,h;const f=Uu();ie(typeof((e=f==null?void 0:f.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof((n=f==null?void 0:f.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie(typeof((s=(i=(r=f==null?void 0:f.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie(typeof((l=(a=(o=f==null?void 0:f.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie(typeof((h=(u=f==null?void 0:f.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||h===void 0?void 0:h.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function kJ(t){const e=CJ(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function CJ(t){if(es(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=20;class PJ extends P2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function xJ(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:DJ(),postBody:null,tenantId:t.tenantId,error:Sn(t,"no-auth-event")}}function NJ(t,e){return QI()._set(YI(t),e)}async function RP(t){const e=await QI()._get(YI(t));return e&&await QI()._remove(YI(t)),e}function OJ(t,e){var n,r;const i=MJ(e);if(i.includes("/__/auth/callback")){const s=Dy(i),o=s.firebaseError?LJ(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Sn(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function DJ(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<RJ;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function QI(){return Xr(fA)}function YI(t){return wu("authEvent",t.config.apiKey,t.name)}function LJ(t){try{return JSON.parse(t)}catch{return null}}function MJ(t){const e=Dy(t),n=e.link?decodeURIComponent(e.link):void 0,r=Dy(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Dy(i).link||i||r||n||t}function Dy(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Gi(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ=500;class FJ{constructor(){this._redirectPersistence=Fu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=dw,this._overrideRedirectResult=vA}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new PJ(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Gn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){AJ(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),NX(),await this._originValidation(e);const o=xJ(e,r,i);await NJ(e,o);const a=await IJ(e,o,n),l=await bJ(a);return SJ(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TJ(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Uu(),o=setTimeout(async()=>{await RP(e),n.onEvent(PP())},VJ),a=async h=>{clearTimeout(o);const f=await RP(e);let p=null;f&&(h!=null&&h.url)&&(p=OJ(f,h.url)),n.onEvent(p||PP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;Uu().handleOpenURL=async h=>{if(h.toLowerCase().startsWith(u)&&a({url:h}),typeof l=="function")try{l(h)}catch(f){console.error(f)}}}}const jJ=FJ;function PP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Sn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UJ(t,e){en(t)._logFramework(e)}var $J="@firebase/auth-compat",zJ="0.5.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=1e3;function Zf(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function qJ(){return Zf()==="http:"||Zf()==="https:"}function D2(t=Ye()){return!!((Zf()==="file:"||Zf()==="ionic:"||Zf()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function WJ(){return m_()||Sb()}function HJ(){return kb()&&(document==null?void 0:document.documentMode)===11}function GJ(t=Ye()){return/Edge\/\d+/.test(t)}function KJ(t=Ye()){return HJ()||GJ(t)}function L2(){try{const t=self.localStorage,e=Lm();if(t)return t.setItem(e,"1"),t.removeItem(e),KJ()?Ip():!0}catch{return wA()&&Ip()}return!1}function wA(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jE(){return(qJ()||Ab()||D2())&&!WJ()&&L2()&&!wA()}function M2(){return D2()&&typeof document<"u"}async function QJ(){return M2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},BJ);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function YJ(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},gf=ie,V2="persistence";function XJ(t,e){if(gf(Object.values(Qr).includes(e),t,"invalid-persistence-type"),m_()){gf(e!==Qr.SESSION,t,"unsupported-persistence-type");return}if(Sb()){gf(e===Qr.NONE,t,"unsupported-persistence-type");return}if(wA()){gf(e===Qr.NONE||e===Qr.LOCAL&&Ip(),t,"unsupported-persistence-type");return}gf(e===Qr.NONE||L2(),t,"unsupported-persistence-type")}async function XI(t){await t._initializationPromise;const e=F2(),n=wu(V2,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function JJ(t,e){const n=F2();if(!n)return[];const r=wu(V2,t,e);switch(n.getItem(r)){case Qr.NONE:return[rh];case Qr.LOCAL:return[Bp,Fu];case Qr.SESSION:return[Fu];default:return[]}}function F2(){var t;try{return((t=YJ())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ=ie;class xa{constructor(){this.browserResolver=Xr(pJ),this.cordovaResolver=Xr(jJ),this.underlyingResolver=null,this._redirectPersistence=Fu,this._completeRedirectFn=dw,this._overrideRedirectResult=vA}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return M2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ZJ(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await QJ();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){return t.unwrap()}function eZ(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZ(t){return U2(t)}function nZ(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new rZ(t,jY(t,e))}else if(r){const i=U2(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function U2(t){const{_tokenResponse:e}=t instanceof Mn?t.customData:t;if(!e)return null;if(!(t instanceof Mn)&&"temporaryProof"in e&&"phoneNumber"in e)return ju.credentialFromResult(t);const n=e.providerId;if(!n||n===mf.PASSWORD)return null;let r;switch(n){case mf.GOOGLE:r=bs;break;case mf.FACEBOOK:r=Ts;break;case mf.GITHUB:r=Ss;break;case mf.TWITTER:r=As;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?ih._create(n,a):Bs._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new yd(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Mn?r.credentialFromError(t):r.credentialFromResult(t)}function Nr(t,e){return e.catch(n=>{throw n instanceof Mn&&nZ(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:tZ(n),additionalUserInfo:FY(n),user:yo.getOrCreate(i)}})}async function JI(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Nr(t,n.confirm(r))}}class rZ{constructor(e,n){this.resolver=n,this.auth=eZ(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Nr(j2(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._delegate=e,this.multiFactor=BY(e)}static getOrCreate(e){return yo.USER_MAP.has(e)||yo.USER_MAP.set(e,new yo(e)),yo.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Nr(this.auth,p2(this._delegate,e))}async linkWithPhoneNumber(e,n){return JI(this.auth,_X(this._delegate,e,n))}async linkWithPopup(e){return Nr(this.auth,CX(this._delegate,e,xa))}async linkWithRedirect(e){return await XI(en(this.auth)),VX(this._delegate,e,xa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Nr(this.auth,m2(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return JI(this.auth,wX(this._delegate,e,n))}reauthenticateWithPopup(e){return Nr(this.auth,kX(this._delegate,e,xa))}async reauthenticateWithRedirect(e){return await XI(en(this.auth)),LX(this._delegate,e,xa)}sendEmailVerification(e){return kY(this._delegate,e)}async unlink(e){return await fY(this._delegate,e),this}updateEmail(e){return xY(this._delegate,e)}updatePassword(e){return NY(this._delegate,e)}updatePhoneNumber(e){return EX(this._delegate,e)}updateProfile(e){return PY(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return CY(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yo.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=ie;class ZI{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;yf(r,"invalid-api-key",{appName:e.name}),yf(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?xa:void 0;this._delegate=n.initialize({options:{persistence:iZ(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(sQ),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){BQ(this._delegate,e,n)}applyActionCode(e){return vY(this._delegate,e)}checkActionCode(e){return g2(this._delegate,e)}confirmPasswordReset(e,n){return yY(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Nr(this._delegate,wY(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return AY(this._delegate,e)}isSignInWithEmailLink(e){return TY(this._delegate,e)}async getRedirectResult(){yf(jE(),this._delegate,"operation-not-supported-in-this-environment");const e=await jX(this._delegate,xa);return e?Nr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){UJ(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=xP(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=xP(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return IY(this._delegate,e,n)}sendPasswordResetEmail(e,n){return gY(this._delegate,e,n||void 0)}async setPersistence(e){XJ(this._delegate,e);let n;switch(e){case Qr.SESSION:n=Fu;break;case Qr.LOCAL:n=await Xr(Bp)._isAvailable()?Bp:fA;break;case Qr.NONE:n=rh;break;default:return Gn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Nr(this._delegate,hY(this._delegate))}signInWithCredential(e){return Nr(this._delegate,ow(this._delegate,e))}signInWithCustomToken(e){return Nr(this._delegate,mY(this._delegate,e))}signInWithEmailAndPassword(e,n){return Nr(this._delegate,EY(this._delegate,e,n))}signInWithEmailLink(e,n){return Nr(this._delegate,bY(this._delegate,e,n))}signInWithPhoneNumber(e,n){return JI(this._delegate,vX(this._delegate,e,n))}async signInWithPopup(e){return yf(jE(),this._delegate,"operation-not-supported-in-this-environment"),Nr(this._delegate,AX(this._delegate,e,xa))}async signInWithRedirect(e){return yf(jE(),this._delegate,"operation-not-supported-in-this-environment"),await XI(this._delegate),OX(this._delegate,e,xa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return _Y(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}ZI.Persistence=Qr;function xP(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&yo.getOrCreate(o)),error:e,complete:n}}function iZ(t,e){const n=JJ(t,e);if(typeof self<"u"&&!n.includes(Bp)&&n.push(Bp),typeof window<"u")for(const r of[fA,Fu])n.includes(r)||n.push(r);return n.includes(rh)||n.push(rh),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.providerId="phone",this._delegate=new ju(j2(tw.auth()))}static credential(e,n){return ju.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}EA.PHONE_SIGN_IN_METHOD=ju.PHONE_SIGN_IN_METHOD;EA.PROVIDER_ID=ju.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ=ie;class oZ{constructor(e,n,r=tw.app()){var i;sZ((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new gX(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ="auth-compat";function lZ(t){t.INTERNAL.registerComponent(new Ai(aZ,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new ZI(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nc.EMAIL_SIGNIN,PASSWORD_RESET:Nc.PASSWORD_RESET,RECOVER_EMAIL:Nc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Nc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Nc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Nc.VERIFY_EMAIL}},EmailAuthProvider:gl,FacebookAuthProvider:Ts,GithubAuthProvider:Ss,GoogleAuthProvider:bs,OAuthProvider:yd,SAMLAuthProvider:$v,PhoneAuthProvider:EA,PhoneMultiFactorGenerator:O2,RecaptchaVerifier:oZ,TwitterAuthProvider:As,Auth:ZI,AuthCredential:kh,Error:Mn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion($J,zJ)}lZ(tw);const uZ="@firebase/firestore-compat",cZ="0.3.32";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ee("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(){if(typeof Uint8Array>"u")throw new ee("unimplemented","Uint8Arrays are not available in this environment.")}function OP(){if(!E6())throw new ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}let $2=class eT{constructor(e){this._delegate=e}static fromBase64String(e){return OP(),new eT($s.fromBase64String(e))}static fromUint8Array(e){return NP(),new eT($s.fromUint8Array(e))}toBase64(){return OP(),this._delegate.toBase64()}toUint8Array(){return NP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){return dZ(t,["next","error","complete"])}function dZ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{enableIndexedDbPersistence(e,n){return Z9(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return eW(e._delegate)}clearIndexedDbPersistence(e){return tW(e._delegate)}}class z2{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ya||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ji("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){xM(this._delegate,e,n,r)}enableNetwork(){return rW(this._delegate)}disableNetwork(){return iW(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,RM("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return nW(this._delegate)}onSnapshotsInSync(e){return SW(this._delegate,e)}get app(){if(!this._appCompat)throw new ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sh(this,ki(this._delegate,e))}catch(n){throw mr(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ei(this,In(this._delegate,e))}catch(n){throw mr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fr(this,K9(this._delegate,e))}catch(n){throw mr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return RW(this._delegate,n=>e(new B2(this,n)))}batch(){return Un(this._delegate),new q2(new kW(this._delegate,e=>Sm(this._delegate,e)))}loadBundle(e){return sW(this._delegate,e)}namedQuery(e){return oW(this._delegate,e).then(n=>n?new fr(this,n):null)}}class hw extends PS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $2(new $s(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ei.forKey(n,this.firestore,null)}}function fZ(t){z5(t)}class B2{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new hw(e)}get(e){const n=su(e);return this._delegate.get(n).then(r=>new qp(this._firestore,new ko(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=su(e);return r?(IA("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=su(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=su(e);return this._delegate.delete(n),this}}class q2{constructor(e){this._delegate=e}set(e,n,r){const i=su(e);return r?(IA("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=su(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=su(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class $u{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Kf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wp(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=$u.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new $u(e,new hw(e),n),i.set(n,s)),s}}$u.INSTANCES=new WeakMap;class Ei{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hw(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ei(n,new Wt(n._delegate,r,new le(e)))}static forKey(e,n,r){return new Ei(n,new Wt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new sh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sh(this.firestore,ki(this._delegate,e))}catch(n){throw mr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Se(e),e instanceof Wt?LM(this._delegate,e):!1}set(e,n){n=IA("DocumentReference.set",n);try{return n?Qf(this._delegate,e,n):Qf(this._delegate,e)}catch(r){throw mr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Lp(this._delegate,e):Lp(this._delegate,e,n,...r)}catch(i){throw mr(i,"updateDoc()","DocumentReference.update()")}}delete(){return j_(this._delegate)}onSnapshot(...e){const n=W2(e),r=H2(e,i=>new qp(this.firestore,new ko(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return XM(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=EW(this._delegate):(e==null?void 0:e.source)==="server"?n=IW(this._delegate):n=ho(this._delegate),n.then(r=>new qp(this.firestore,new ko(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ei(this.firestore,e?this._delegate.withConverter($u.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mr(t,e,n){return t.message=t.message.replace(e,n),t}function W2(t){for(const e of t)if(typeof e=="object"&&!tT(e))return e;return{}}function H2(t,e){var n,r;let i;return tT(t[0])?i=t[0]:tT(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class qp{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ei(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return YM(this._delegate,e._delegate)}}class Wp extends qp{data(e){const n=this._delegate.data(e);return this._delegate._converter||B5(n!==void 0),n}}class fr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new hw(e)}where(e,n,r){try{return new fr(this.firestore,yi(this._delegate,D_(e,n,r)))}catch(i){throw mr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new fr(this.firestore,yi(this._delegate,hW(e,n)))}catch(r){throw mr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fr(this.firestore,yi(this._delegate,fW(e)))}catch(n){throw mr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new fr(this.firestore,yi(this._delegate,pW(e)))}catch(n){throw mr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fr(this.firestore,yi(this._delegate,mW(...e)))}catch(n){throw mr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fr(this.firestore,yi(this._delegate,gW(...e)))}catch(n){throw mr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fr(this.firestore,yi(this._delegate,yW(...e)))}catch(n){throw mr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fr(this.firestore,yi(this._delegate,vW(...e)))}catch(n){throw mr(n,"endAt()","Query.endAt()")}}isEqual(e){return MM(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=TW(this._delegate):(e==null?void 0:e.source)==="server"?n=bW(this._delegate):n=Ju(this._delegate),n.then(r=>new nT(this.firestore,new tl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=W2(e),r=H2(e,i=>new nT(this.firestore,new tl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return XM(this._delegate,n,r)}withConverter(e){return new fr(this.firestore,e?this._delegate.withConverter($u.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class pZ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Wp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nT{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new fr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new pZ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Wp(this._firestore,r))})}isEqual(e){return YM(this._delegate,e._delegate)}}class sh extends fr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ei(this.firestore,e):null}doc(e){try{return e===void 0?new Ei(this.firestore,In(this._delegate)):new Ei(this.firestore,In(this._delegate,e))}catch(n){throw mr(n,"doc()","CollectionReference.doc()")}}add(e){return bm(this._delegate,e).then(n=>new Ei(this.firestore,n))}isEqual(e){return LM(this._delegate,e._delegate)}withConverter(e){return new sh(this.firestore,e?this._delegate.withConverter($u.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function su(t){return lt(t,Wt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(...e){this._delegate=new el(...e)}static documentId(){return new TA(Ft.keyField().canonicalString())}isEqual(e){return e=Se(e),e instanceof el?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._delegate=e}static serverTimestamp(){const e=xW();return e._methodName="FieldValue.serverTimestamp",new Ql(e)}static delete(){const e=PW();return e._methodName="FieldValue.delete",new Ql(e)}static arrayUnion(...e){const n=NW(...e);return n._methodName="FieldValue.arrayUnion",new Ql(n)}static arrayRemove(...e){const n=OW(...e);return n._methodName="FieldValue.arrayRemove",new Ql(n)}static increment(e){const n=DW(e);return n._methodName="FieldValue.increment",new Ql(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ={Firestore:z2,GeoPoint:R_,Timestamp:Ut,Blob:$2,Transaction:B2,WriteBatch:q2,DocumentReference:Ei,DocumentSnapshot:qp,Query:fr,QueryDocumentSnapshot:Wp,QuerySnapshot:nT,CollectionReference:sh,FieldPath:TA,FieldValue:Ql,setLogLevel:fZ,CACHE_SIZE_UNLIMITED:X9};function gZ(t,e){t.INTERNAL.registerComponent(new Ai("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},mZ)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yZ(t){gZ(t,(e,n)=>new z2(e,n,new hZ)),t.registerVersion(uZ,cZ)}yZ(tw);const vZ=async t=>{const e=In(Dt,"users",t),n=await ho(e);if(n.exists())return{id:n.id,...n.data()};throw new Error("No such document!")},_Z=async t=>{const e=yi(ki(Dt,"study"),D_("userId","==",t));return(await Ju(e)).docs.map(r=>({id:r.id,...r.data()}))},wZ=async(t,e)=>({id:(await bm(ki(Dt,"study"),{...t,userId:e})).id,...t,userId:e}),EZ=async t=>{const{id:e,...n}=t,r=In(Dt,"study",e);return await Lp(r,n),t},IZ=async t=>{const e=In(Dt,"study",t);return await j_(e),t},TZ=({user:t})=>{const[e,n]=N.useState(null),[r,i]=N.useState({title:"",description:"",url:""}),[s,o]=N.useState(!1),[a,l]=N.useState(null),[u,h]=N.useState(!0),[f,p]=N.useState(!1),[_,S]=N.useState(null),[P,R]=N.useState(!1),[I,w]=N.useState(!1),T=Hu(),L=vb(),{isDarkMode:F}=Fo();N.useEffect(()=>{(async()=>{if(t&&t.uid)try{const Oe=await vZ(t.uid);n(Oe)}catch(Oe){console.error("Error fetching user details:",Oe)}})()},[t]);const{data:B=[],isLoading:C,error:b}=eD({queryKey:["studyMaterials",t==null?void 0:t.uid],queryFn:()=>_Z((t==null?void 0:t.uid)??"")}),x=$f({mutationFn:_e=>wZ(_e,(t==null?void 0:t.uid)??""),onSuccess:()=>{t!=null&&t.uid&&L.invalidateQueries(["studyMaterials",t.uid]),o(!1),i({title:"",description:"",url:""})},onError:_e=>console.error("Error adding study material:",_e)}),D=$f({mutationFn:EZ,onSuccess:()=>{t!=null&&t.uid&&L.invalidateQueries(["studyMaterials",t.uid]),o(!1),i({title:"",description:"",url:""}),l(null),w(!0),setTimeout(()=>{w(!1)},3e3)},onError:_e=>console.error("Error updating study material:",_e)}),M=$f({mutationFn:IZ,onSuccess:()=>{t!=null&&t.uid&&L.invalidateQueries(["studyMaterials",t.uid]),p(!1),S(null),R(!0),setTimeout(()=>{R(!1)},3e3)},onError:_e=>console.error("Error deleting study material:",_e)});N.useEffect(()=>{e&&e.role!=="teacher"&&T("/student")},[e,T]);const V=()=>{a?D.mutate({id:a,...r}):x.mutate(r)},O=_e=>{i(_e),l(_e.id),o(!0)},pe=_e=>{p(!0),S(_e)},Pe=()=>{_&&M.mutate(_)},Me=()=>{o(!s),s&&(i({title:"",description:"",url:""}),l(null))},We=()=>{h(!u)},Z=_e=>{const{name:Oe,value:ot}=_e.target;i({...r,[Oe]:ot})},be=e?e.name:"Loading...",W=e?e.role:"",$e=t?t.email:"Loading...";return!e||C?v.jsx("div",{className:"d-flex justify-content-center mt-4",children:v.jsx(nh,{animation:"border",role:"status",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):b?v.jsxs("div",{children:["Error loading study materials: ",b.message]}):v.jsxs("div",{id:"root",children:[v.jsx(Ih,{user:t,userDetails:e,showUserDetails:!0}),v.jsx(Vu,{className:"mt-4",children:v.jsx(eA,{className:"justify-content-center",children:v.jsx(J_,{md:8,children:v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"card-header",children:[v.jsxs("h5",{className:"card-title",children:["Welcome, ",be," (",W,")"]}),v.jsx("p",{className:"card-text",children:$e}),v.jsx(Bt,{variant:"primary",onClick:Me,children:s?"Close":"Add Study Material"}),v.jsx(Bt,{variant:"secondary",onClick:We,className:"ms-2",children:u?"Hide Table":"Show Table"})]}),v.jsxs("div",{className:"card-body",children:[s&&v.jsxs(Tn,{show:s,onHide:Me,centered:!0,children:[v.jsx(Tn.Header,{closeButton:!0,children:v.jsx(Tn.Title,{children:a?"Edit Study Material":"Add Study Material"})}),v.jsx(Tn.Body,{children:v.jsxs(pn,{children:[v.jsxs(pn.Group,{controlId:"title",children:[v.jsx(pn.Label,{children:"Title"}),v.jsx(pn.Control,{type:"text",name:"title",value:r.title,onChange:Z,required:!0})]}),v.jsxs(pn.Group,{controlId:"description",children:[v.jsx(pn.Label,{children:"Description"}),v.jsx(pn.Control,{as:"textarea",rows:3,name:"description",value:r.description,onChange:Z,required:!0})]}),v.jsxs(pn.Group,{controlId:"url",children:[v.jsx(pn.Label,{children:"URL"}),v.jsx(pn.Control,{type:"url",name:"url",value:r.url,onChange:Z,required:!0})]})]})}),v.jsxs(Tn.Footer,{children:[v.jsx(Bt,{variant:"secondary",onClick:Me,children:"Cancel"}),v.jsx(Bt,{variant:"primary",onClick:V,children:a?"Update":"Add"})]})]}),v.jsxs(ru,{show:P,variant:"success",children:["Study Material ",a?"Updated":"Added"," successfully!"]}),v.jsx(ru,{show:I,variant:"success",children:"Study Material Updated successfully!"}),v.jsx("div",{className:"table-responsive",children:u&&v.jsxs("table",{className:`table mt-3 ${F?"table-dark":""}`,children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Title"}),v.jsx("th",{children:"Description"}),v.jsx("th",{children:"URL"}),v.jsx("th",{children:"Actions"})]})}),v.jsx("tbody",{children:B.map(_e=>v.jsxs("tr",{children:[v.jsx("td",{children:_e.title}),v.jsx("td",{children:_e.description}),v.jsx("td",{children:_e.url}),v.jsxs("td",{children:[v.jsx(Bt,{variant:"outline-primary",size:"sm",onClick:()=>O(_e),children:v.jsx("i",{className:"fas fa-edit"})})," ",v.jsx(Bt,{variant:"outline-danger",size:"sm",onClick:()=>pe(_e.id),children:v.jsx("i",{className:"fas fa-trash-alt"})})]})]},_e.id))})]})}),v.jsxs(ru,{show:f,variant:"danger",children:[v.jsx(ru.Heading,{children:"Delete Study Material"}),v.jsx("p",{children:"Are you sure you want to delete this study material?"}),v.jsxs("div",{className:"d-flex justify-content-end",children:[v.jsx(Bt,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),v.jsx(Bt,{variant:"danger",onClick:Pe,className:"ms-2",children:"Delete"})]})]}),v.jsx("div",{className:"d-flex justify-content-center mt-3",children:C&&v.jsx(nh,{animation:"border",role:"status"})})]})]})})})})]})};function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){Cn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function bZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AZ(t,e,n){return e&&SZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bA(t,e){return CZ(t)||PZ(t,e)||G2(t,e)||NZ()}function Vm(t){return kZ(t)||RZ(t)||G2(t)||xZ()}function kZ(t){if(Array.isArray(t))return rT(t)}function CZ(t){if(Array.isArray(t))return t}function RZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function G2(t,e){if(t){if(typeof t=="string")return rT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(t,e)}}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var LP=function(){},SA={},K2={},Q2=null,Y2={mark:LP,measure:LP};try{typeof window<"u"&&(SA=window),typeof document<"u"&&(K2=document),typeof MutationObserver<"u"&&(Q2=MutationObserver),typeof performance<"u"&&(Y2=performance)}catch{}var OZ=SA.navigator||{},MP=OZ.userAgent,VP=MP===void 0?"":MP,nl=SA,Mt=K2,FP=Q2,Gg=Y2;nl.document;var zo=!!Mt.documentElement&&!!Mt.head&&typeof Mt.addEventListener=="function"&&typeof Mt.createElement=="function",X2=~VP.indexOf("MSIE")||~VP.indexOf("Trident/"),Kg,Qg,Yg,Xg,Jg,xo="___FONT_AWESOME___",iT=16,J2="fa",Z2="svg-inline--fa",zu="data-fa-i2svg",sT="data-fa-pseudo-element",DZ="data-fa-pseudo-element-pending",AA="data-prefix",kA="data-icon",jP="fontawesome-i2svg",LZ="async",MZ=["HTML","HEAD","STYLE","SCRIPT"],ej=function(){try{return!0}catch{return!1}}(),Nt="classic",Jt="sharp",CA=[Nt,Jt];function Fm(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Nt]}})}var Hp=Fm((Kg={},Cn(Kg,Nt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),Cn(Kg,Jt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),Kg)),Gp=Fm((Qg={},Cn(Qg,Nt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Cn(Qg,Jt,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Qg)),Kp=Fm((Yg={},Cn(Yg,Nt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Cn(Yg,Jt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),Yg)),VZ=Fm((Xg={},Cn(Xg,Nt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Cn(Xg,Jt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Xg)),FZ=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,tj="fa-layers-text",jZ=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,UZ=Fm((Jg={},Cn(Jg,Nt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Cn(Jg,Jt,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Jg)),nj=[1,2,3,4,5,6,7,8,9,10],$Z=nj.concat([11,12,13,14,15,16,17,18,19,20]),zZ=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ou={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Qp=new Set;Object.keys(Gp[Nt]).map(Qp.add.bind(Qp));Object.keys(Gp[Jt]).map(Qp.add.bind(Qp));var BZ=[].concat(CA,Vm(Qp),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ou.GROUP,ou.SWAP_OPACITY,ou.PRIMARY,ou.SECONDARY]).concat(nj.map(function(t){return"".concat(t,"x")})).concat($Z.map(function(t){return"w-".concat(t)})),ep=nl.FontAwesomeConfig||{};function qZ(t){var e=Mt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function WZ(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Mt&&typeof Mt.querySelector=="function"){var HZ=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];HZ.forEach(function(t){var e=bA(t,2),n=e[0],r=e[1],i=WZ(qZ(n));i!=null&&(ep[r]=i)})}var rj={styleDefault:"solid",familyDefault:"classic",cssPrefix:J2,replacementClass:Z2,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ep.familyPrefix&&(ep.cssPrefix=ep.familyPrefix);var oh=ve(ve({},rj),ep);oh.autoReplaceSvg||(oh.observeMutations=!1);var Ae={};Object.keys(rj).forEach(function(t){Object.defineProperty(Ae,t,{enumerable:!0,set:function(n){oh[t]=n,tp.forEach(function(r){return r(Ae)})},get:function(){return oh[t]}})});Object.defineProperty(Ae,"familyPrefix",{enumerable:!0,set:function(e){oh.cssPrefix=e,tp.forEach(function(n){return n(Ae)})},get:function(){return oh.cssPrefix}});nl.FontAwesomeConfig=Ae;var tp=[];function GZ(t){return tp.push(t),function(){tp.splice(tp.indexOf(t),1)}}var la=iT,Ns={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function KZ(t){if(!(!t||!zo)){var e=Mt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Mt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Mt.head.insertBefore(e,r),t}}var QZ="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Yp(){for(var t=12,e="";t-- >0;)e+=QZ[Math.random()*62|0];return e}function Rh(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function RA(t){return t.classList?Rh(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function ij(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function YZ(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(ij(t[n]),'" ')},"").trim()}function fw(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function PA(t){return t.size!==Ns.size||t.x!==Ns.x||t.y!==Ns.y||t.rotate!==Ns.rotate||t.flipX||t.flipY}function XZ(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function JZ(t){var e=t.transform,n=t.width,r=n===void 0?iT:n,i=t.height,s=i===void 0?iT:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&X2?l+="translate(".concat(e.x/la-r/2,"em, ").concat(e.y/la-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/la,"em), calc(-50% + ").concat(e.y/la,"em)) "):l+="translate(".concat(e.x/la,"em, ").concat(e.y/la,"em) "),l+="scale(".concat(e.size/la*(e.flipX?-1:1),", ").concat(e.size/la*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var ZZ=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, 0));
          transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function sj(){var t=J2,e=Z2,n=Ae.cssPrefix,r=Ae.replacementClass,i=ZZ;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var UP=!1;function UE(){Ae.autoAddCss&&!UP&&(KZ(sj()),UP=!0)}var eee={mixout:function(){return{dom:{css:sj,insertCss:UE}}},hooks:function(){return{beforeDOMElementCreation:function(){UE()},beforeI2svg:function(){UE()}}}},No=nl||{};No[xo]||(No[xo]={});No[xo].styles||(No[xo].styles={});No[xo].hooks||(No[xo].hooks={});No[xo].shims||(No[xo].shims=[]);var Ki=No[xo],oj=[],tee=function t(){Mt.removeEventListener("DOMContentLoaded",t),Hv=1,oj.map(function(e){return e()})},Hv=!1;zo&&(Hv=(Mt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Mt.readyState),Hv||Mt.addEventListener("DOMContentLoaded",tee));function nee(t){zo&&(Hv?setTimeout(t,0):oj.push(t))}function jm(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?ij(t):"<".concat(e," ").concat(YZ(r),">").concat(s.map(jm).join(""),"</").concat(e,">")}function $P(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var $E=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=n,l,u,h;for(r===void 0?(l=1,h=e[s[0]]):(l=0,h=r);l<o;l++)u=s[l],h=a(h,e[u],u,e);return h};function ree(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function oT(t){var e=ree(t);return e.length===1?e[0].toString(16):null}function iee(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function zP(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function aT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=zP(e);typeof Ki.hooks.addPack=="function"&&!i?Ki.hooks.addPack(t,zP(e)):Ki.styles[t]=ve(ve({},Ki.styles[t]||{}),s),t==="fas"&&aT("fa",e)}var Zg,ey,ty,nd=Ki.styles,see=Ki.shims,oee=(Zg={},Cn(Zg,Nt,Object.values(Kp[Nt])),Cn(Zg,Jt,Object.values(Kp[Jt])),Zg),xA=null,aj={},lj={},uj={},cj={},dj={},aee=(ey={},Cn(ey,Nt,Object.keys(Hp[Nt])),Cn(ey,Jt,Object.keys(Hp[Jt])),ey);function lee(t){return~BZ.indexOf(t)}function uee(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!lee(i)?i:null}var hj=function(){var e=function(s){return $E(nd,function(o,a,l){return o[l]=$E(a,s,{}),o},{})};aj=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),lj=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),dj=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in nd||Ae.autoFetchSvg,r=$E(see,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});uj=r.names,cj=r.unicodes,xA=pw(Ae.styleDefault,{family:Ae.familyDefault})};GZ(function(t){xA=pw(t.styleDefault,{family:Ae.familyDefault})});hj();function NA(t,e){return(aj[t]||{})[e]}function cee(t,e){return(lj[t]||{})[e]}function au(t,e){return(dj[t]||{})[e]}function fj(t){return uj[t]||{prefix:null,iconName:null}}function dee(t){var e=cj[t],n=NA("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function rl(){return xA}var OA=function(){return{prefix:null,iconName:null,rest:[]}};function pw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Nt:n,i=Hp[r][t],s=Gp[r][t]||Gp[r][i],o=t in Ki.styles?t:null;return s||o||null}var BP=(ty={},Cn(ty,Nt,Object.keys(Kp[Nt])),Cn(ty,Jt,Object.keys(Kp[Jt])),ty);function mw(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},Cn(e,Nt,"".concat(Ae.cssPrefix,"-").concat(Nt)),Cn(e,Jt,"".concat(Ae.cssPrefix,"-").concat(Jt)),e),o=null,a=Nt;(t.includes(s[Nt])||t.some(function(u){return BP[Nt].includes(u)}))&&(a=Nt),(t.includes(s[Jt])||t.some(function(u){return BP[Jt].includes(u)}))&&(a=Jt);var l=t.reduce(function(u,h){var f=uee(Ae.cssPrefix,h);if(nd[h]?(h=oee[a].includes(h)?VZ[a][h]:h,o=h,u.prefix=h):aee[a].indexOf(h)>-1?(o=h,u.prefix=pw(h,{family:a})):f?u.iconName=f:h!==Ae.replacementClass&&h!==s[Nt]&&h!==s[Jt]&&u.rest.push(h),!i&&u.prefix&&u.iconName){var p=o==="fa"?fj(u.iconName):{},_=au(u.prefix,u.iconName);p.prefix&&(o=null),u.iconName=p.iconName||_||u.iconName,u.prefix=p.prefix||u.prefix,u.prefix==="far"&&!nd.far&&nd.fas&&!Ae.autoFetchSvg&&(u.prefix="fas")}return u},OA());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Jt&&(nd.fass||Ae.autoFetchSvg)&&(l.prefix="fass",l.iconName=au(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=rl()||"fas"),l}var hee=function(){function t(){bZ(this,t),this.definitions={}}return AZ(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=ve(ve({},n.definitions[a]||{}),o[a]),aT(a,o[a]);var l=Kp[Nt][a];l&&aT(l,o[a]),hj()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon,h=u[2];n[a]||(n[a]={}),h.length>0&&h.forEach(function(f){typeof f=="string"&&(n[a][f]=u)}),n[a][l]=u}),n}}]),t}(),qP=[],rd={},_d={},fee=Object.keys(_d);function pee(t,e){var n=e.mixoutsTo;return qP=t,rd={},Object.keys(_d).forEach(function(r){fee.indexOf(r)===-1&&delete _d[r]}),qP.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),Wv(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){rd[o]||(rd[o]=[]),rd[o].push(s[o])})}r.provides&&r.provides(_d)}),n}function lT(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=rd[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Bu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=rd[t]||[];i.forEach(function(s){s.apply(null,n)})}function Oo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return _d[t]?_d[t].apply(null,e):void 0}function uT(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||rl();if(e)return e=au(n,e)||e,$P(pj.definitions,n,e)||$P(Ki.styles,n,e)}var pj=new hee,mee=function(){Ae.autoReplaceSvg=!1,Ae.observeMutations=!1,Bu("noAuto")},gee={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return zo?(Bu("beforeI2svg",e),Oo("pseudoElements2svg",e),Oo("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Ae.autoReplaceSvg===!1&&(Ae.autoReplaceSvg=!0),Ae.observeMutations=!0,nee(function(){vee({autoReplaceSvgRoot:n}),Bu("watch",e)})}},yee={icon:function(e){if(e===null)return null;if(Wv(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:au(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=pw(e[0]);return{prefix:r,iconName:au(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Ae.cssPrefix,"-"))>-1||e.match(FZ))){var i=mw(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||rl(),iconName:au(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=rl();return{prefix:s,iconName:au(s,e)||e}}}},ii={noAuto:mee,config:Ae,dom:gee,parse:yee,library:pj,findIconDefinition:uT,toHtml:jm},vee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Mt:n;(Object.keys(Ki.styles).length>0||Ae.autoFetchSvg)&&zo&&Ae.autoReplaceSvg&&ii.dom.i2svg({node:r})};function gw(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return jm(r)})}}),Object.defineProperty(t,"node",{get:function(){if(zo){var r=Mt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function _ee(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(PA(o)&&n.found&&!r.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};i.style=fw(ve(ve({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function wee(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(Ae.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ve(ve({},i),{},{id:o}),children:r}]}]}function DA(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,u=t.maskId,h=t.titleId,f=t.extra,p=t.watchable,_=p===void 0?!1:p,S=r.found?r:n,P=S.width,R=S.height,I=i==="fak",w=[Ae.replacementClass,s?"".concat(Ae.cssPrefix,"-").concat(s):""].filter(function(x){return f.classes.indexOf(x)===-1}).filter(function(x){return x!==""||!!x}).concat(f.classes).join(" "),T={children:[],attributes:ve(ve({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:w,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(P," ").concat(R)})},L=I&&!~f.classes.indexOf("fa-fw")?{width:"".concat(P/R*16*.0625,"em")}:{};_&&(T.attributes[zu]=""),l&&(T.children.push({tag:"title",attributes:{id:T.attributes["aria-labelledby"]||"title-".concat(h||Yp())},children:[l]}),delete T.attributes.title);var F=ve(ve({},T),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:ve(ve({},L),f.styles)}),B=r.found&&n.found?Oo("generateAbstractMask",F)||{children:[],attributes:{}}:Oo("generateAbstractIcon",F)||{children:[],attributes:{}},C=B.children,b=B.attributes;return F.children=C,F.attributes=b,a?wee(F):_ee(F)}function WP(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,u=ve(ve(ve({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[zu]="");var h=ve({},o.styles);PA(i)&&(h.transform=JZ({transform:i,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h.transform);var f=fw(h);f.length>0&&(u.style=f);var p=[];return p.push({tag:"span",attributes:u,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function Eee(t){var e=t.content,n=t.title,r=t.extra,i=ve(ve(ve({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=fw(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var zE=Ki.styles;function cT(t){var e=t[0],n=t[1],r=t.slice(4),i=bA(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(ou.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(ou.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(ou.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var Iee={found:!1,width:512,height:512};function Tee(t,e){!ej&&!Ae.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function dT(t,e){var n=e;return e==="fa"&&Ae.styleDefault!==null&&(e=rl()),new Promise(function(r,i){if(Oo("missingIconAbstract"),n==="fa"){var s=fj(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&zE[e]&&zE[e][t]){var o=zE[e][t];return r(cT(o))}Tee(t,e),r(ve(ve({},Iee),{},{icon:Ae.showMissingIcons&&t?Oo("missingIconAbstract")||{}:{}}))})}var HP=function(){},hT=Ae.measurePerformance&&Gg&&Gg.mark&&Gg.measure?Gg:{mark:HP,measure:HP},xf='FA "6.5.2"',bee=function(e){return hT.mark("".concat(xf," ").concat(e," begins")),function(){return mj(e)}},mj=function(e){hT.mark("".concat(xf," ").concat(e," ends")),hT.measure("".concat(xf," ").concat(e),"".concat(xf," ").concat(e," begins"),"".concat(xf," ").concat(e," ends"))},LA={begin:bee,end:mj},Ly=function(){};function GP(t){var e=t.getAttribute?t.getAttribute(zu):null;return typeof e=="string"}function See(t){var e=t.getAttribute?t.getAttribute(AA):null,n=t.getAttribute?t.getAttribute(kA):null;return e&&n}function Aee(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Ae.replacementClass)}function kee(){if(Ae.autoReplaceSvg===!0)return My.replace;var t=My[Ae.autoReplaceSvg];return t||My.replace}function Cee(t){return Mt.createElementNS("http://www.w3.org/2000/svg",t)}function Ree(t){return Mt.createElement(t)}function gj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?Cee:Ree:n;if(typeof t=="string")return Mt.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(gj(o,{ceFn:r}))}),i}function Pee(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var My={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(gj(i),n)}),n.getAttribute(zu)===null&&Ae.keepOriginalSource){var r=Mt.createComment(Pee(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~RA(n).indexOf(Ae.replacementClass))return My.replace(e);var i=new RegExp("".concat(Ae.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===Ae.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return jm(a)}).join(`
`);n.setAttribute(zu,""),n.innerHTML=o}};function KP(t){t()}function yj(t,e){var n=typeof e=="function"?e:Ly;if(t.length===0)n();else{var r=KP;Ae.mutateApproach===LZ&&(r=nl.requestAnimationFrame||KP),r(function(){var i=kee(),s=LA.begin("mutate");t.map(i),s(),n()})}}var MA=!1;function vj(){MA=!0}function fT(){MA=!1}var Gv=null;function QP(t){if(FP&&Ae.observeMutations){var e=t.treeCallback,n=e===void 0?Ly:e,r=t.nodeCallback,i=r===void 0?Ly:r,s=t.pseudoElementsCallback,o=s===void 0?Ly:s,a=t.observeMutationsRoot,l=a===void 0?Mt:a;Gv=new FP(function(u){if(!MA){var h=rl();Rh(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!GP(f.addedNodes[0])&&(Ae.searchPseudoElements&&o(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&Ae.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&GP(f.target)&&~zZ.indexOf(f.attributeName))if(f.attributeName==="class"&&See(f.target)){var p=mw(RA(f.target)),_=p.prefix,S=p.iconName;f.target.setAttribute(AA,_||h),S&&f.target.setAttribute(kA,S)}else Aee(f.target)&&i(f.target)})}}),zo&&Gv.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function xee(){Gv&&Gv.disconnect()}function Nee(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function Oee(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=mw(RA(t));return i.prefix||(i.prefix=rl()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=cee(i.prefix,t.innerText)||NA(i.prefix,oT(t.innerText))),!i.iconName&&Ae.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function Dee(t){var e=Rh(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Ae.autoA11y&&(n?e["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(r||Yp()):(e["aria-hidden"]="true",e.focusable="false")),e}function Lee(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ns,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function YP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Oee(t),r=n.iconName,i=n.prefix,s=n.rest,o=Dee(t),a=lT("parseNodeAttributes",{},t),l=e.styleParser?Nee(t):[];return ve({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Ns,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var Mee=Ki.styles;function _j(t){var e=Ae.autoReplaceSvg==="nest"?YP(t,{styleParser:!1}):YP(t);return~e.extra.classes.indexOf(tj)?Oo("generateLayersText",t,e):Oo("generateSvgReplacementMutation",t,e)}var il=new Set;CA.map(function(t){il.add("fa-".concat(t))});Object.keys(Hp[Nt]).map(il.add.bind(il));Object.keys(Hp[Jt]).map(il.add.bind(il));il=Vm(il);function XP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!zo)return Promise.resolve();var n=Mt.documentElement.classList,r=function(f){return n.add("".concat(jP,"-").concat(f))},i=function(f){return n.remove("".concat(jP,"-").concat(f))},s=Ae.autoFetchSvg?il:CA.map(function(h){return"fa-".concat(h)}).concat(Object.keys(Mee));s.includes("fa")||s.push("fa");var o=[".".concat(tj,":not([").concat(zu,"])")].concat(s.map(function(h){return".".concat(h,":not([").concat(zu,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Rh(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=LA.begin("onTree"),u=a.reduce(function(h,f){try{var p=_j(f);p&&h.push(p)}catch(_){ej||_.name==="MissingIcon"&&console.error(_)}return h},[]);return new Promise(function(h,f){Promise.all(u).then(function(p){yj(p,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),h()})}).catch(function(p){l(),f(p)})})}function Vee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;_j(t).then(function(n){n&&yj([n],e)})}function Fee(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:uT(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:uT(i||{})),t(r,ve(ve({},n),{},{mask:i}))}}var jee=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?Ns:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,u=n.maskId,h=u===void 0?null:u,f=n.title,p=f===void 0?null:f,_=n.titleId,S=_===void 0?null:_,P=n.classes,R=P===void 0?[]:P,I=n.attributes,w=I===void 0?{}:I,T=n.styles,L=T===void 0?{}:T;if(e){var F=e.prefix,B=e.iconName,C=e.icon;return gw(ve({type:"icon"},e),function(){return Bu("beforeDOMElementCreation",{iconDefinition:e,params:n}),Ae.autoA11y&&(p?w["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(S||Yp()):(w["aria-hidden"]="true",w.focusable="false")),DA({icons:{main:cT(C),mask:l?cT(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:F,iconName:B,transform:ve(ve({},Ns),i),symbol:o,title:p,maskId:h,titleId:S,extra:{attributes:w,styles:L,classes:R}})})}},Uee={mixout:function(){return{icon:Fee(jee)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=XP,n.nodeCallback=Vee,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?Mt:r,s=n.callback,o=s===void 0?function(){}:s;return XP(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,u=r.symbol,h=r.mask,f=r.maskId,p=r.extra;return new Promise(function(_,S){Promise.all([dT(i,a),h.iconName?dT(h.iconName,h.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(P){var R=bA(P,2),I=R[0],w=R[1];_([n,DA({icons:{main:I,mask:w},prefix:a,iconName:i,transform:l,symbol:u,maskId:f,title:s,titleId:o,extra:p,watchable:!0})])}).catch(S)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,l=fw(a);l.length>0&&(i.style=l);var u;return PA(o)&&(u=Oo("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},$ee={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return gw({type:"layer"},function(){Bu("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Ae.cssPrefix,"-layers")].concat(Vm(s)).join(" ")},children:o}]})}}}},zee={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,u=l===void 0?{}:l,h=r.styles,f=h===void 0?{}:h;return gw({type:"counter",content:n},function(){return Bu("beforeDOMElementCreation",{content:n,params:r}),Eee({content:n.toString(),title:s,extra:{attributes:u,styles:f,classes:["".concat(Ae.cssPrefix,"-layers-counter")].concat(Vm(a))}})})}}}},Bee={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?Ns:i,o=r.title,a=o===void 0?null:o,l=r.classes,u=l===void 0?[]:l,h=r.attributes,f=h===void 0?{}:h,p=r.styles,_=p===void 0?{}:p;return gw({type:"text",content:n},function(){return Bu("beforeDOMElementCreation",{content:n,params:r}),WP({content:n,transform:ve(ve({},Ns),s),title:a,extra:{attributes:f,styles:_,classes:["".concat(Ae.cssPrefix,"-layers-text")].concat(Vm(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(X2){var u=parseInt(getComputedStyle(n).fontSize,10),h=n.getBoundingClientRect();a=h.width/u,l=h.height/u}return Ae.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,WP({content:n.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},qee=new RegExp('"',"ug"),JP=[1105920,1112319];function Wee(t){var e=t.replace(qee,""),n=iee(e,0),r=n>=JP[0]&&n<=JP[1],i=e.length===2?e[0]===e[1]:!1;return{value:oT(i?e[0]:e),isSecondary:r||i}}function ZP(t,e){var n="".concat(DZ).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Rh(t.children),o=s.filter(function(C){return C.getAttribute(sT)===e})[0],a=nl.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(jZ),u=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&h!=="none"&&h!==""){var f=a.getPropertyValue("content"),p=~["Sharp"].indexOf(l[2])?Jt:Nt,_=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Gp[p][l[2].toLowerCase()]:UZ[p][u],S=Wee(f),P=S.value,R=S.isSecondary,I=l[0].startsWith("FontAwesome"),w=NA(_,P),T=w;if(I){var L=dee(P);L.iconName&&L.prefix&&(w=L.iconName,_=L.prefix)}if(w&&!R&&(!o||o.getAttribute(AA)!==_||o.getAttribute(kA)!==T)){t.setAttribute(n,T),o&&t.removeChild(o);var F=Lee(),B=F.extra;B.attributes[sT]=e,dT(w,_).then(function(C){var b=DA(ve(ve({},F),{},{icons:{main:C,mask:OA()},prefix:_,iconName:T,extra:B,watchable:!0})),x=Mt.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(x,t.firstChild):t.appendChild(x),x.outerHTML=b.map(function(D){return jm(D)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function Hee(t){return Promise.all([ZP(t,"::before"),ZP(t,"::after")])}function Gee(t){return t.parentNode!==document.head&&!~MZ.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(sT)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function ex(t){if(zo)return new Promise(function(e,n){var r=Rh(t.querySelectorAll("*")).filter(Gee).map(Hee),i=LA.begin("searchPseudoElements");vj(),Promise.all(r).then(function(){i(),fT(),e()}).catch(function(){i(),fT(),n()})})}var Kee={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=ex,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?Mt:r;Ae.searchPseudoElements&&ex(i)}}},tx=!1,Qee={mixout:function(){return{dom:{unwatch:function(){vj(),tx=!0}}}},hooks:function(){return{bootstrap:function(){QP(lT("mutationObserverCallbacks",{}))},noAuto:function(){xee()},watch:function(n){var r=n.observeMutationsRoot;tx?fT():QP(lT("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},nx=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},Yee={mixout:function(){return{parse:{transform:function(n){return nx(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=nx(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),h="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(h)},p={transform:"translate(".concat(o/2*-1," -256)")},_={outer:a,inner:f,path:p};return{tag:"g",attributes:ve({},_.outer),children:[{tag:"g",attributes:ve({},_.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ve(ve({},r.icon.attributes),_.path)}]}]}}}},BE={x:0,y:0,width:"100%",height:"100%"};function rx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Xee(t){return t.tag==="g"?t.children:[t]}var Jee={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?mw(i.split(" ").map(function(o){return o.trim()})):OA();return s.prefix||(s.prefix=rl()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,u=s.width,h=s.icon,f=o.width,p=o.icon,_=XZ({transform:l,containerWidth:f,iconWidth:u}),S={tag:"rect",attributes:ve(ve({},BE),{},{fill:"white"})},P=h.children?{children:h.children.map(rx)}:{},R={tag:"g",attributes:ve({},_.inner),children:[rx(ve({tag:h.tag,attributes:ve(ve({},h.attributes),_.path)},P))]},I={tag:"g",attributes:ve({},_.outer),children:[R]},w="mask-".concat(a||Yp()),T="clip-".concat(a||Yp()),L={tag:"mask",attributes:ve(ve({},BE),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,I]},F={tag:"defs",children:[{tag:"clipPath",attributes:{id:T},children:Xee(p)},L]};return r.push(F,{tag:"rect",attributes:ve({fill:"currentColor","clip-path":"url(#".concat(T,")"),mask:"url(#".concat(w,")")},BE)}),{children:r,attributes:i}}}},Zee={provides:function(e){var n=!1;nl.matchMedia&&(n=nl.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ve(ve({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ve(ve({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ve(ve({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:ve(ve({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ve(ve({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:ve(ve({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ve(ve({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ve(ve({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ve(ve({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},ete={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},tte=[eee,Uee,$ee,zee,Bee,Kee,Qee,Yee,Jee,Zee,ete];pee(tte,{mixoutsTo:ii});ii.noAuto;ii.config;ii.library;ii.dom;var pT=ii.parse;ii.findIconDefinition;ii.toHtml;var nte=ii.icon;ii.layer;ii.text;ii.counter;function ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(n),!0).forEach(function(r){id(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function id(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ite(t,e){if(t==null)return{};var n=rte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mT(t){return ste(t)||ote(t)||ate(t)||lte()}function ste(t){if(Array.isArray(t))return gT(t)}function ote(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ate(t,e){if(t){if(typeof t=="string")return gT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gT(t,e)}}function gT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,h=t.spinReverse,f=t.pulse,p=t.fixedWidth,_=t.inverse,S=t.border,P=t.listItem,R=t.flip,I=t.size,w=t.rotation,T=t.pull,L=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":p,"fa-inverse":_,"fa-border":S,"fa-li":P,"fa-flip":R===!0,"fa-flip-horizontal":R==="horizontal"||R==="both","fa-flip-vertical":R==="vertical"||R==="both"},id(e,"fa-".concat(I),typeof I<"u"&&I!==null),id(e,"fa-rotate-".concat(w),typeof w<"u"&&w!==null&&w!==0),id(e,"fa-pull-".concat(T),typeof T<"u"&&T!==null),id(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(L).map(function(F){return L[F]?F:null}).filter(function(F){return F})}function cte(t){return t=t-0,t===t}function wj(t){return cte(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var dte=["style"];function hte(t){return t.charAt(0).toUpperCase()+t.slice(1)}function fte(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=wj(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[hte(i)]=s:e[i]=s,e},{})}function Ej(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return Ej(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var h=e.attributes[u];switch(u){case"class":l.attrs.className=h,delete e.attributes.class;break;case"style":l.attrs.style=fte(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=h:l.attrs[wj(u)]=h}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=ite(n,dte);return i.attrs.style=Es(Es({},i.attrs.style),o),t.apply(void 0,[e.tag,Es(Es({},i.attrs),a)].concat(mT(r)))}var Ij=!1;try{Ij=!0}catch{}function pte(){if(!Ij&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function sx(t){if(t&&Kv(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(pT.icon)return pT.icon(t);if(t===null)return null;if(t&&Kv(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function qE(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?id({},t,e):{}}var ox={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},VA=ht.forwardRef(function(t,e){var n=Es(Es({},ox),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,l=n.titleId,u=n.maskId,h=sx(r),f=qE("classes",[].concat(mT(ute(n)),mT((o||"").split(" ")))),p=qE("transform",typeof n.transform=="string"?pT.transform(n.transform):n.transform),_=qE("mask",sx(i)),S=nte(h,Es(Es(Es(Es({},f),p),_),{},{symbol:s,title:a,titleId:l,maskId:u}));if(!S)return pte("Could not find icon",h),null;var P=S.abstract,R={ref:e};return Object.keys(n).forEach(function(I){ox.hasOwnProperty(I)||(R[I]=n[I])}),mte(P[0],R)});VA.displayName="FontAwesomeIcon";VA.propTypes={beat:Le.bool,border:Le.bool,beatFade:Le.bool,bounce:Le.bool,className:Le.string,fade:Le.bool,flash:Le.bool,mask:Le.oneOfType([Le.object,Le.array,Le.string]),maskId:Le.string,fixedWidth:Le.bool,inverse:Le.bool,flip:Le.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Le.oneOfType([Le.object,Le.array,Le.string]),listItem:Le.bool,pull:Le.oneOf(["right","left"]),pulse:Le.bool,rotation:Le.oneOf([0,90,180,270]),shake:Le.bool,size:Le.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Le.bool,spinPulse:Le.bool,spinReverse:Le.bool,symbol:Le.oneOfType([Le.bool,Le.string]),title:Le.string,titleId:Le.string,transform:Le.oneOfType([Le.string,Le.object]),swapOpacity:Le.bool};var mte=Ej.bind(null,ht.createElement),gte={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]};const yte=({user:t,userDetails:e})=>{const[n,r]=N.useState([]),[i,s]=N.useState(!0),[o,a]=N.useState(!1),[l,u]=N.useState(null),{isDarkMode:h}=Fo();N.useEffect(()=>{(async()=>{if(t)try{const R=yi(ki(Dt,"savedMaterials"),D_("userId","==",t.uid)),w=(await Ju(R)).docs.map(T=>({id:T.id,title:T.data().title,description:T.data().description,url:T.data().url,userId:T.data().userId}));r(w),s(!1)}catch(R){console.error("Error fetching saved materials:",R),s(!1)}})()},[t]);const f=async P=>{try{await j_(In(Dt,"savedMaterials",P)),r(R=>R.filter(I=>I.id!==P))}catch(R){console.error("Error deleting material:",R)}},p=P=>{u(P),a(!0)},_=()=>{l&&(f(l.id),u(null),a(!1))},S=()=>{u(null),a(!1)};return i?v.jsx(Vu,{className:"mt-4",children:v.jsx(nh,{animation:"border",role:"status",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):v.jsxs("div",{className:h?"bg-dark text-light":"bg-light text-dark",children:[v.jsx(Ih,{user:t,userDetails:e,showUserDetails:!0}),v.jsxs(Vu,{className:"mt-4",children:[v.jsx("h3",{className:"mt-4",children:"Saved Study Materials"}),n.length===0?v.jsx("p",{children:"No study materials saved yet."}):v.jsx("div",{className:"table-responsive",children:v.jsxs(WI,{striped:!0,bordered:!0,hover:!0,variant:h?"dark":"light",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Title"}),v.jsx("th",{children:"Description"}),v.jsx("th",{children:"URL"}),v.jsx("th",{children:"Action"})]})}),v.jsx("tbody",{children:n.map(P=>v.jsxs("tr",{children:[v.jsx("td",{children:P.title}),v.jsx("td",{children:P.description}),v.jsx("td",{children:v.jsx("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",children:P.url})}),v.jsx("td",{children:v.jsx(Bt,{variant:"danger",onClick:()=>p(P),children:v.jsx(VA,{icon:gte})})})]},P.id))})]})}),v.jsxs(Tn,{show:o,onHide:S,children:[v.jsx(Tn.Header,{closeButton:!0,children:v.jsx(Tn.Title,{children:"Confirm Delete"})}),v.jsxs(Tn.Body,{children:["Are you sure you want to delete ",l==null?void 0:l.title,"?"]}),v.jsxs(Tn.Footer,{children:[v.jsx(Bt,{variant:"secondary",onClick:S,children:"Cancel"}),v.jsx(Bt,{variant:"danger",onClick:_,children:"Delete"})]})]})]})]})},vte=()=>{const{isDarkMode:t}=Fo();return v.jsx("footer",{className:`text-center text-lg-start mt-auto ${t?"bg-dark text-light":"bg-light text-dark"}`,children:v.jsxs("div",{className:"text-center p-3",style:{backgroundColor:t?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},children:["© ",new Date().getFullYear()," Collaborative Study Platform. All rights reserved. ",v.jsx("br",{}),"Website design by ",v.jsx("b",{children:"Prajakta Ghuge"})]})})};var Tj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ax=ht.createContext&&ht.createContext(Tj),_te=["attr","size","title"];function wte(t,e){if(t==null)return{};var n=Ete(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ete(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qv.apply(this,arguments)}function lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(n),!0).forEach(function(r){Ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e,n){return e=Tte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bj(t){return t&&t.map((e,n)=>ht.createElement(e.tag,Yv({key:n},e.attr),bj(e.child)))}function Sj(t){return e=>ht.createElement(Ste,Qv({attr:Yv({},t.attr)},e),bj(t.child))}function Ste(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=wte(t,_te),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ht.createElement("svg",Qv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Yv(Yv({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ht.createElement("title",null,s),t.children)};return ax!==void 0?ht.createElement(ax.Consumer,null,n=>e(n)):e(Tj)}function Ate(t){return Sj({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function kte(t){return Sj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}const Aj=async()=>{try{return(await Ju(ki(Dt,"quizzes"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error fetching quizzes: ",t),t}},Cte=async t=>{try{return(await bm(ki(Dt,"quizzes"),t)).id}catch(e){throw console.error("Error adding quiz: ",e),e}},Rte=async(t,e)=>{try{const n=In(Dt,"quizzes",t);await Lp(n,e)}catch(n){throw console.error("Error updating quiz: ",n),n}},Pte=async t=>{try{const e=In(Dt,"quizzes",t);await j_(e)}catch(e){throw console.error("Error deleting quiz: ",e),e}},xte=async()=>{const t=await Ju(ki(Dt,"quiz_attempts")),e=[];return t.forEach(n=>{e.push({id:n.id,...n.data()})}),e},Nte=({show:t,handleClose:e,onAddQuiz:n,onUpdateQuiz:r,editingQuiz:i})=>{const[s,o]=N.useState(""),[a,l]=N.useState(["","","",""]),[u,h]=N.useState(""),{isDarkMode:f}=Fo();N.useEffect(()=>{i?(o(i.question),l(i.options),h(i.correctAnswer)):(o(""),l(["","","",""]),h(""))},[i]);const p=(S,P)=>{const R=[...a];R[S]=P,l(R)},_=S=>{S.preventDefault(),s&&u&&a.every(P=>P)&&(i?r(i.id,{question:s,options:a,correctAnswer:u}):n({question:s,options:a,correctAnswer:u,id:""}),e())};return v.jsx("div",{className:f?"table-dark":"table-light",children:v.jsxs(Tn,{show:t,onHide:e,children:[v.jsx(Tn.Header,{closeButton:!0,children:v.jsx(Tn.Title,{children:i?"Edit Quiz":"Add New Quiz"})}),v.jsx(Tn.Body,{children:v.jsxs(pn,{onSubmit:_,children:[v.jsxs(pn.Group,{controlId:"question",children:[v.jsx(pn.Label,{children:"Question"}),v.jsx(pn.Control,{type:"text",value:s,onChange:S=>o(S.target.value),required:!0})]}),a.map((S,P)=>v.jsxs(pn.Group,{controlId:`option${P}`,children:[v.jsxs(pn.Label,{children:["Option ",P+1]}),v.jsx(pn.Control,{type:"text",value:S,onChange:R=>p(P,R.target.value),required:!0})]},P)),v.jsxs(pn.Group,{controlId:"correctAnswer",children:[v.jsx(pn.Label,{children:"Correct Answer"}),v.jsx(pn.Control,{type:"text",value:u,onChange:S=>h(S.target.value),required:!0})]}),v.jsx(Bt,{variant:"primary",type:"submit",children:i?"Update Quiz":"Add Quiz"})]})})]})})},Ote=({user:t,userDetails:e})=>{const[n,r]=N.useState([]),[i,s]=N.useState([]),[o]=N.useState(!0),[a,l]=N.useState(!1),[u,h]=N.useState(null),[f,p]=N.useState(!1),{isDarkMode:_}=Fo();N.useEffect(()=>{S(),P()},[]);const S=async()=>{try{const F=await Aj();r(F)}catch(F){console.error("Error fetching quizzes: ",F)}},P=async()=>{try{const F=await xte();s(F)}catch(F){console.error("Error fetching quiz attempts: ",F)}},R=async F=>{try{const B=await Cte(F);r(C=>[...C,{id:B,...F}])}catch(B){console.error("Error adding quiz: ",B)}},I=async(F,B)=>{try{await Rte(F,B),r(C=>C.map(b=>b.id===F?{...b,...B}:b))}catch(C){console.error("Error updating quiz: ",C)}},w=async F=>{try{await Pte(F),r(B=>B.filter(C=>C.id!==F))}catch(B){console.error("Error deleting quiz: ",B)}},T=F=>{h(F),l(!0)},L=()=>{h(null),l(!1)};return v.jsxs("div",{className:_?"bg-dark text-light":"bg-light text-dark",children:[v.jsx(Ih,{user:t,userDetails:e,showUserDetails:!0}),v.jsxs(Vu,{className:"mt-4",children:[v.jsx("h2",{className:"mt-5 mb-4",children:"Quizzes"}),o&&v.jsx("div",{className:"text-right mb-3",children:v.jsx(Bt,{variant:"primary",onClick:()=>l(!0),children:"Add Quiz"})}),v.jsx(Nte,{show:a,handleClose:L,onAddQuiz:R,onUpdateQuiz:I,editingQuiz:u}),v.jsxs(WI,{striped:!0,bordered:!0,hover:!0,className:_?"table-dark":"table-light",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"#"}),v.jsx("th",{children:"Question"}),v.jsx("th",{children:"Options"}),v.jsx("th",{children:"Correct Answer"}),o&&v.jsx("th",{children:"Actions"})]})}),v.jsx("tbody",{children:n.map((F,B)=>v.jsxs("tr",{children:[v.jsx("td",{children:B+1}),v.jsx("td",{children:F.question}),v.jsx("td",{children:v.jsx("ul",{children:F.options.map((C,b)=>v.jsx("li",{children:C},b))})}),v.jsx("td",{children:F.correctAnswer}),o&&v.jsxs("td",{children:[v.jsxs(Bt,{variant:"outline-success",onClick:()=>T(F),children:[v.jsx(Ate,{})," Edit"]})," ",v.jsxs(Bt,{variant:"outline-danger",onClick:()=>w(F.id),children:[v.jsx(kte,{})," Delete"]})]})]},F.id))})]}),o&&v.jsxs(v.Fragment,{children:[v.jsx(Bt,{variant:"secondary",className:"mt-5 mb-4",onClick:()=>p(!f),children:f?"Hide Student Marks":"Show Student Marks"}),f&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"mt-5 mb-4",children:"Student Quiz Attempts"}),v.jsxs(WI,{striped:!0,bordered:!0,hover:!0,className:_?"table-dark":"table-light",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"#"}),v.jsx("th",{children:"Student Name"}),v.jsx("th",{children:"Marks Obtained"})]})}),v.jsx("tbody",{children:i.map((F,B)=>v.jsxs("tr",{children:[v.jsx("td",{children:B+1}),v.jsx("td",{children:F.studentName}),v.jsx("td",{children:F.totalMarks})]},F.id))})]})]})]})]})]})},Dte=({user:t,userDetails:e})=>{const[n,r]=N.useState([]),[i,s]=N.useState(0),[o,a]=N.useState([]),[,l]=N.useState([]),[u,h]=N.useState(!1),[f,p]=N.useState(!1),[_,S]=N.useState(60),[P,R]=N.useState(0),[I,w]=N.useState(!1),[T,L]=N.useState(!1),{isDarkMode:F}=Fo(),{currentUser:B}=tF(),C=async()=>{L(!0);try{const pe=await Aj();r(pe),w(!0)}catch(pe){console.error("Error fetching quizzes: ",pe)}finally{L(!1)}};N.useEffect(()=>{if(_>0&&I&&!u){const pe=setInterval(()=>{S(Pe=>Pe-1)},1e3);return()=>clearInterval(pe)}else _===0&&I&&!u&&(alert("Time up for this question!"),M())},[_,I,u]);const b=pe=>{const Pe=[...o];Pe[i]=pe,a(Pe)},x=()=>{p(!0)},D=async()=>{const pe=n.map((Me,We)=>o[We]===Me.correctAnswer?1:0);l(pe);const Pe=pe.reduce((Me,We)=>Me+We,0);R(Pe);try{if(!B)throw new Error("User is not logged in");const Me=In(Dt,"users",B.uid),Z=(await ho(Me)).data(),W={studentName:Z==null?void 0:Z.name,totalMarks:Pe,quizDate:new Date,userId:B.uid},$e=yi(ki(Dt,"quiz_attempts"),D_("userId","==",B.uid)),_e=await Ju($e);if(_e.empty)await bm(ki(Dt,"quiz_attempts"),W),console.log("Quiz attempt stored successfully");else{const Oe=_e.docs[0];await Lp(In(Dt,"quiz_attempts",Oe.id),W),console.log("Quiz attempt updated successfully")}h(!0),p(!1)}catch(Me){console.error("Error adding/updating quiz attempt:",Me)}},M=()=>{i<n.length-1?(s(i+1),S(60)):x()},V=()=>{i>0&&(s(i-1),S(60))},O=pe=>{const Pe=Math.floor(pe/60),Me=pe%60;return`${Pe}:${Me<10?"0":""}${Me}`};return v.jsxs("div",{className:F?"bg-dark text-light":"bg-light text-dark",children:[v.jsx(Ih,{user:t,showUserDetails:!0,userDetails:e})," ",v.jsxs(Vu,{className:"mt-4",children:[v.jsx("h2",{children:"Attempt Quizzes"}),!I&&v.jsx("div",{className:"text-center mt-4",children:v.jsx(Bt,{variant:"success",onClick:C,children:"Start Exam"})}),T&&I&&v.jsx("div",{className:"text-center mt-4",children:v.jsx(nh,{animation:"border",role:"status",children:v.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),n.length>0&&i<n.length&&I&&!u&&!T?v.jsxs("div",{children:[v.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[v.jsx("h5",{children:n[i].question}),v.jsxs("h4",{children:["Time Left: ",O(_)]})]}),v.jsx(sP,{children:n[i].options.map((pe,Pe)=>v.jsx(sP.Item,{active:o[i]===pe,onClick:()=>b(pe),children:pe},Pe))}),v.jsxs("div",{className:"d-flex justify-content-between mt-3",children:[v.jsx(Bt,{variant:"secondary",onClick:V,disabled:i===0,children:"Previous"}),v.jsx(Bt,{variant:"primary",onClick:M,disabled:i===n.length-1,children:"Next"})]}),v.jsx("div",{className:"text-right mt-3",children:v.jsx(Bt,{variant:"success",onClick:x,children:"Submit Quiz"})})]}):u?v.jsxs("div",{children:[v.jsx("h4",{children:"Results"}),n.map((pe,Pe)=>v.jsxs(ru,{variant:o[Pe]===pe.correctAnswer?"success":"danger",children:[v.jsx("p",{children:pe.question}),v.jsxs("p",{children:["Your Answer: ",o[Pe]]}),v.jsxs("p",{children:["Correct Answer: ",pe.correctAnswer]})]},Pe)),v.jsxs("h4",{children:["Total Marks: ",P]})]}):!T,v.jsxs(Tn,{show:f,onHide:()=>p(!1),children:[v.jsx(Tn.Header,{closeButton:!0,children:v.jsx(Tn.Title,{children:"Confirm Submission"})}),v.jsx(Tn.Body,{children:"Are you sure you want to submit the quiz?"}),v.jsxs(Tn.Footer,{children:[v.jsx(Bt,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),v.jsx(Bt,{variant:"primary",onClick:D,children:"Yes, Submit"})]})]})]})]})},Lte=()=>{const{currentUser:t,initializing:e,userDetails:n}=tF();if(e)return null;const r=({children:i})=>t?i:v.jsx(jk,{to:"/login"});return v.jsxs("div",{children:[v.jsxs(sB,{children:[v.jsx(fs,{path:"/login",element:v.jsx(i8,{})}),v.jsx(fs,{path:"/register",element:v.jsx(a8,{})}),v.jsx(fs,{path:"/",element:v.jsx(r,{children:v.jsx(d8,{user:t})})}),v.jsx(fs,{path:"/student",element:v.jsx(r,{children:v.jsx(Y7,{user:t})})}),v.jsx(fs,{path:"/teacher",element:v.jsx(r,{children:v.jsx(TZ,{user:t})})}),v.jsx(fs,{path:"/my-profile",element:v.jsx(r,{children:v.jsx(yte,{user:t,userDetails:n})})}),v.jsx(fs,{path:"/quizzes",element:v.jsx(r,{children:v.jsx(Ote,{user:t,userDetails:n})})}),v.jsx(fs,{path:"/attempt-quizzes",element:v.jsx(r,{children:v.jsx(Dte,{user:t,userDetails:n})})}),v.jsx(fs,{path:"*",element:v.jsx(jk,{to:"/"})})]}),t&&v.jsx(vte,{})]})},Mte=new xB;Zl.render(v.jsx(ht.StrictMode,{children:v.jsx(MB,{client:Mte,children:v.jsx(h8,{children:v.jsx(hB,{children:v.jsx(c8,{children:v.jsx(Lte,{})})})})})}),document.getElementById("root"));
